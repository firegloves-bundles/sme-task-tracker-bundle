{"version":3,"sources":["auth/KeycloakContext.js","custom-elements/widgetEventTypes.js","helpers/widgetEvents.js","i18n/locales/index.js","i18n/i18next.js","i18n/setLocale.js","i18n/constants.js","auth/KeycloakViews.js","context/message/MessageContext.js","context/message/MessageManager.js","context/attachment/AttachmentContext.js","api/helpers.js","api/attachments.js","context/attachment/AttachmentProvider.js","context/loading/LoadingContext.js","context/loading/LoadingManager.js","context/note/NoteContext.js","context/note/NoteProvider.js","api/task.js","context/task/TaskContext.js","context/task/TaskManager.js","components/common/NotificationContainer.js","components/Spinner/style/spinnerStyle.js","components/Spinner/Spinner.js","components/Pages/style/taskCreationPageStyle.js","components/Pages/Tabs/style/actionsStyle.js","components/Pages/Tabs/ActionInfo.js","api/users.js","components/__mocks__/mocks.js","context/user/UserContext.js","context/user/UserManager.js","components/Dialog/Users/style/dialogUserStyle.js","components/Dialog/Users/ListUser.js","components/Dialog/Users/DialogUsers.js","components/Input/style/inputDatePickerStyle.js","components/Input/InputDataPicker.js","components/Input/InputInfo.js","components/Input/style/inputInfoWithPopperStyle.js","components/Input/InputInfoWithPopper.js","components/Input/style/inputSwitchStyle.js","components/Input/InputSwitch.js","components/Input/InputText.js","components/Pages/Tabs/FormAddAction/style/formAddActionsStyle.js","components/Pages/Tabs/FormAddAction/FormAddAction.js","components/Pages/Tabs/Actions.js","context/attachment/AttachmentManager.js","components/Dialog/Attachment/style/dialogAttachmentStyle.js","components/Dialog/Attachment/DialogAttachment.js","components/Input/style/inputSelectStyle.js","components/Input/InputSelect.js","components/Dialog/Attachment/style/dialogDhOCStyle.js","config/constants.js","components/Dialog/Attachment/DialogDhOC.js","components/Dialog/Attachment/style/dialogElCloudStyle.js","components/Dialog/Attachment/DialogElCloud.js","components/Pages/Tabs/style/attachmentInfoStyle.js","components/Pages/Tabs/AttachmentInfo.js","components/Pages/Tabs/style/attachmentsStyle.js","components/Pages/Tabs/Attachments.js","api/notes.js","context/note/NoteManager.js","components/Dialog/Note/style/dialogNoteStyle.js","components/Dialog/Note/DialogNote.js","components/Pages/Tabs/style/noteInfoStyle.js","components/Pages/Tabs/NoteInfo.js","components/Pages/Tabs/style/noteStyle.js","components/Pages/Tabs/Note.js","components/Pages/Tabs/style/setupStyle.js","components/Pages/Tabs/Setup.js","components/Pages/Tabs/style/taskDefinitionStyle.js","components/Pages/Tabs/TaskDefinition.js","components/Pages/TaskCreationPage.js","context/loading/LoadingProvider.js","context/message/MessageProvider.js","context/task/TaskProvider.js","context/user/UserProvider.js","custom-elements/TaskCreationElement.js"],"names":["KeycloakContext","React","createContext","INPUT_EVENT_TYPES","subscribeToWidgetEvent","eventType","eventHandler","window","addEventListener","removeEventListener","it","en","resources","Object","keys","locales","reduce","acc","lang","i18next","t","locale","defaultLocale","use","initReactI18next","init","defaultNs","interpolation","escapeValue","lng","fallbackLng","react","useSuspense","setI18nextLocale","AuthenticatedView","children","keycloak","initialized","authenticated","MessageContext","MessageManager","useContext","state","setState","error","message","clearError","prev","setError","clearMessage","setMessage","AttachmentContext","getDefaultOptions","headers","Headers","Authorization","entando","token","request","url","options","a","haveBodyResponse","fetch","response","status","json","Promise","reject","Error","statusText","requestBlob","previewPdf","filename","get","split","blob","then","otherUrl","URL","createObjectURL","console","log","toLowerCase","endsWith","open","location","href","document","createElement","download","click","apiAttachmentPost","body","method","JSON","stringify","apiAttachmentDelete","serviceUrl","attachmentId","apiAttachmentGet","referenceId","referenceType","apiAttachmentSearchAdhoc","adhocSearchDto","apiDownloadAdhocFile","downloadDto","responseType","apiAttachmentGetAllReferenceAndCloudType","AttachmentProvider","serviceUrlAttachments","useMock","useState","attachments","allClouds","allReferenceType","useTranslation","useEffect","fetchData","prevState","payload","clouds","references","Provider","value","LoadingContext","loading","LoadingManager","isLoading","setLoading","NoteContext","NoteProvider","taskId","notes","defaultProps","apiTaskGet","apiTaskPost","task","TaskContext","TaskManager","loadingManager","createTask","resolve","setTimeout","id","updatedTask","processDefinitionId","contextActions","actions","updateTask","NotificationContainer","callback","autoHideDuration","useSnackbar","enqueueSnackbar","closeSnackbar","variant","action","key","IconButton","onClick","onClose","preventDuplicate","undefined","spinnerStyle","makeStyles","spinner","zIndex","display","position","top","left","width","height","transformOrigin","animation","content","borderRadius","background","transform","animationDelay","from","opacity","to","Spinner","css","className","containerStyle","container","border","padding","tabsStyle","root","borderBottom","indicator","backgroundColor","tabStyle","theme","textTransform","marginRight","spacing","marginBottom","color","actionsStyle","boxGrid","borderStyle","borderColor","palette","disabled","minHeight","item","borderTop","borderRight","borderButton","borderLeft","containerInfo","overflow","paddingRight","containerInfoScroll","overflowY","overflowX","boxSizing","gridContainer","inputInfo","borderBox","borderBottomStyle","borderBottomColor","textAlign","borderBoxInfo","boxActions","boxEmptyActionContainer","marginTop","fontSize","buttonAddAction","boxButtons","margin","bottom","button","marginLeft","highlight","fontWeight","actionInfoStyle","boxCircle","circle","boxAction","flexDirection","flexWrap","justifyContent","alignItems","iconAction","boxIconSubAction","paddingLeft","paddingTop","boxTextAction","boxAddSubAction","buttonAddSubAction","ActionInfo","handleClickAction","disabledButton","map","index","Box","uniqueId","Grid","xs","classes","Typography","title","subActions","subAction","Fragment","Button","type","startIcon","onMouseDown","handleClick","apiUsersGet","pagination","page","pageSize","search","informedOrConsulted","apiUserFromFiscalCodeGet","fiscalCode","loadEdoTree","userMock","firstname","lastname","degree","active","edo","name","headUser","defaultUser","parentId","shortName","parent","entity","entityDenomination","email","armedForce","dateOfBirth","phone","mobilePhone","totalPages","totalElements","numberOfElements","number","size","first","last","mockProcessModel","UserContext","UserManager","logged","msgManager","fetchUser","users","user","role","toUpperCase","userLogged","userPresent","find","vertexId","vertexShortName","setUsers","setPagination","dialogUserStyle","dialog","maxHeight","dialogTitle","closeButton","right","grey","boxTools","boxAssign","boxInput","input","flex","iconButton","green","list","paper","listSection","ul","subHeader","borderTopStyle","borderTopColor","radio","pointerEvents","dialogActions","minWidth","buttonClose","ListUser","usersSelected","stickySurname","setStickySurname","usersData","setUsersData","scroller","useRef","useLoadMoreOnScroll","fetchSize","limit","start","end","setIsFetching","forceDonefetching","fetchUserLocal","hidden","usr","array","push","seen","Set","filter","m","f","el","surname","charAt","duplicate","has","add","getStickyArray","List","subheader","ref","section","ListSubheader","u","ListItem","selected","ListItemAvatar","Avatar","ListItemText","primary","secondary","ListItemSecondaryAction","Radio","checked","inputProps","PaperComponent","props","handle","cancel","Paper","DialogUsers","handleClose","handleUserSelected","selectedValue","setSelectedValue","setSearch","useTheme","useMediaQuery","breakpoints","down","preSearch","values","current","usePreviousValues","event","target","handleSearch","searchValue","checkDisabled","length","Dialog","fullWidth","maxWidth","disableEnforceFocus","aria-labelledby","DialogTitle","aria-label","DialogContent","InputBase","placeholder","onKeyUp","FormControlLabel","style","control","label","labelPlacement","DialogActions","inputDatePicker","datePicker","InputDatePicker","rules","errors","format","setValue","initialValue","minDate","maxDate","invalidDateMessage","isEmpty","render","onChange","onBlur","inputRef","inputVariant","autoOk","disableToolbar","KeyboardButtonProps","defaultValue","Date","InputInfo","boxProps","p","popperStyle","popper","borderWidth","arrow","InputInfoWithPopper","contentPopper","setOpen","anchorRef","arrowRef","setArrowRef","Popper","anchorEl","placement","disablePortal","modifiers","flip","enabled","element","preventOverflow","boundariesElement","description","switchStyle","boxSwitch","switch","checkedIcon","uncheckedIcon","InputSwitch","on","off","setChecked","FormControl","onColor","InputText","register","watch","debug","showCountCaracthers","countCaracthers","multiline","rows","rowsMax","cssClass","OutlinedInput","FormHelperText","formUsersGridStyle","formAddActionsStyle","main","boxContainer","boxAdd","iconAdd","FormAddAction","typeAction","clearErrors","roles","useMemo","openDialog","setOpenDialog","roleUser","setRoleUser","setUsersSelected","cssGridUsers","required","handleDialogUsers","maxLength","alignContent","startDate","days","endDate","avatar","alt","src","image","disableRipple","flexGrow","newState","handleRemoveUser","align","initAction","automaticComplete","responsible","accountable","consulted","informed","FIELDS","Actions","onSubmit","changeTab","disableAddAction","setDisableAddAction","disableAddSubAction","setDisableAddSubAction","setActions","setTypeAction","indexAction","setIndexAction","useForm","mode","reValidateMode","defaultValues","handleSubmit","trigger","reset","preWatch","preTypeAction","handleClickAddAction","newActions","cloneDeep","handleClickAddSubAction","initSubAction","omit","fields","changedField","fieldsChanged","indexSubAction","table","utils","DateFnsUtils","itLocale","data","pick","Container","fixed","disableGutters","i18nKey","evt","endIcon","AttachmentManager","postAttachment","endpoint","partialBody","TASK","postNextcloudAttachment","nextcloudLink","postAdhocAttachment","itemsToBeAdded","items","deleteAttachment","setErrorMessage","e","suffix","errorType","toString","indexOf","errorMessage","replace","searchAdhocAttachment","params","cf","downloadAdhocAttachment","dialogAttachmentStyle","DialogAttachment","handleListItemClick","Divider","selectStyle","formControl","text","InputSelect","emptyOption","handleChange","Select","native","dialogDhOCStyle","boxEditor","outline","borderBottomLeftRadius","borderBottomRightRadius","inputMultiline","paddingBottom","buttonSearch","boxAttachment","iconClose","adhocItemsFound","boxAdhocItemsFound","link","textDecoration","uppercase","constants","ADHOC_MIN_YEAR","ADHOC_DEFAULT_REGISTRY","DialogDHOC","maximumAdhocYear","getFullYear","disabledSearch","setDisabledSearch","itemsFound","setItemsFound","indecesToBeAdded","setIndecesToBeAdded","disabledAdd","setDisabledAdd","formState","onCloseThisDialog","onClickAdd","Array","forEach","preventDefault","stopPropagation","isSubmitting","registry","String","check","adhocYearSelectionOptions","useCallback","fill","_","idx","adhocItemFound","component","noWrap","cursor","signature","Checkbox","actual","delete","onSelectItem","dialogElCloudStyle","dropZone","dropZoneArea","previewChip","DialogElCloud","dropzoneClass","dialogProps","dropzoneProps","fileObjects","cancelButtonText","submitButtonText","dropzoneText","maxFileSize","filesLimit","onAdd","attachment","showPreviews","showFileNamesInPreview","showAlerts","showFileNames","showPreviewsInDropzone","attachmentInfoStyle","boxAttachmentInfoContainer","boxAttachmentInfoAction","icon","marginBox","AttachmentInfo","handleDelete","file","cloudType","substring","NEXTCLOUD","rel","attachmentsStyle","boxButtonAttachment","buttonAttachment","Attachments","openDialogDhOC","setOpenDialogDhOC","openDialogElCloud","setOpenDialogElCloud","einetAttachments","adhocAttachments","ADHOC","removeAttachment","maxSnack","anchorOrigin","vertical","horizontal","TransitionComponent","Slide","count","sort","b","n","apiNotesGet","apiNotesPost","note","apiNotesDelete","noteId","NoteManager","postNote","deleteNote","dialogNoteStyle","dialogContent","OPTIONS","defaultTag","showPathLabel","toolbarContainer","rtl","charCounter","charCounterType","maxCharCount","imageResizing","imageHeightShow","imageFileInput","imageUrlInput","videoResizing","videoHeightShow","videoFileInput","videoUrlInput","videoRatioShow","audioUrlInput","tabDisable","shortcutsHint","buttonList","DialogNote","handleAddNote","editorRef","setNote","autoFocus","setOptions","newNote","replaceAll","noteInfoStyle","boxNoteInfoContainer","boxNoteInfoAction","boxNoteInfoText","boxNoteInfoUser","NoteInfo","createdDate","createdBy","differenceInSeconds","noteStyle","boxNote","boxButtonNote","buttonNote","buttonPublish","Note","handleDialogNote","removeNote","addNote","setupStyle","selectEmpty","Setup","store","process","setProcess","my","py","mx","px","taskDefinitionStyle","itemContainer","containerRole","ROLES","TaskDefinition","unregister","userManager","optionsPriority","newUsers","a11yProps","TaskCreationPage","tab","setTab","classesContainer","classesTab","classesTabs","formData","parseInt","step","elevation","Tabs","Tab","TabPanel","other","LoadingProvider","MessageProvider","TaskProvider","UserProvider","extractVertexId","parentEdo","isAdmin","userIdLogged","loadUserInfo","info","preferred_username","fetchLoggedUser","getKeycloakInstance","ATTRIBUTES","disableDefaultEventHandler","serviceUrlUser","cssUrl","refresh","TaskCreationElement","oldValue","newValue","this","includes","onToggleDisableDefaultEvent","mountPoint","appendChild","getAttribute","linkElem","setAttribute","shadowRoot","attachShadow","jss","jssCreate","jssPreset","insertionPoint","muiTheme","createMuiTheme","MuiDialog","MuiPopover","itIT","unsubscribeFromKeycloakEvent","unsubscribeFromTaskEvent","retargetEvents","disableEventHandler","defaultEventHandlerDisabled","unsubscribeFromWidgetEvents","ReactDOM","setLocale","StylesProvider","ThemeProvider","HTMLElement","customElements","define"],"mappings":"uiMAIeA,EAFSC,IAAMC,cAAc,MCF/BC,EACC,cCWDC,EAAyB,SAACC,EAAWC,GAGhD,OAFAC,OAAOC,iBAAiBH,EAAWC,GAE5B,WACLC,OAAOE,oBAAoBJ,EAAWC,K,yBCb3B,GACbI,G,OACAC,G,QCEIC,EAAYC,OAAOC,KAAKC,GAASC,QACrC,SAACC,EAAKC,GAAN,mBAAC,eAAoBD,GAArB,kBAA2BC,EAA3B,eAJgB,cAIiCH,EAAQG,QACzD,ICNa,GDSYC,IAAQC,ECTpB,SAAAC,IDWiB,SAACA,EAAQC,GACvCH,IAAQI,IAAIC,KAAkBC,KAAK,CACjCC,UAZc,cAadC,cAAe,CACbC,aAAa,GAEfhB,YACAiB,IAAKR,GAAUC,EACfQ,YAAaR,EACbS,MAAO,CAAEC,aAAa,KCnBxBC,CAAiBZ,ECJW,Q,yJCAjBa,EAAoB,SAAC,GAA4B,IAA1BC,EAAyB,EAAzBA,SAAUC,EAAe,EAAfA,SAE5C,OADsBA,EAASC,aAAeD,EAASE,cAChCH,EAAW,MCCrBI,EADQrC,wBAAc,CAAC,GAAI,eCmB3BsC,EAlBQ,WAAO,IAAD,EACDC,qBAAWF,GADV,mBACpBG,EADoB,KACbC,EADa,KAS3B,MAAO,CACLC,MAAOF,EAAME,MACbC,QAASH,EAAMG,QACfC,WANiB,kBAAMH,GAAS,SAAAI,GAAI,kCAAUA,GAAV,IAAgBH,MAAO,WAO3DI,SAVe,SAAAJ,GAAK,OAAID,GAAS,SAAAI,GAAI,kCAAUA,GAAV,IAAgBH,cAWrDK,aAPmB,kBAAMN,GAAS,SAAAI,GAAI,kCAAUA,GAAV,IAAgBF,QAAS,WAQ/DK,WAXiB,SAAAL,GAAO,OAAIF,GAAS,SAAAI,GAAI,kCAAUA,GAAV,IAAgBF,kBCJ9CM,EADWjD,wBAAc,CAAC,GAAI,eCUhCkD,EAAoB,iBAAO,CACtCC,QAAS,IAAIC,QAAQ,CACnBC,cAAc,UAAD,OAZbhD,QACAA,OAAOiD,SACPjD,OAAOiD,QAAQpB,UACf7B,OAAOiD,QAAQpB,SAASE,cAEjB/B,OAAOiD,QAAQpB,SAASqB,MAE1B,IAML,eAAgB,uBAIPC,EAAO,uCAAG,WAAOC,EAAKC,GAAZ,6BAAAC,EAAA,6DAAqBC,IAArB,0CACEC,MAAMJ,EAAKC,GADb,UAEG,OADlBI,EADe,QAERC,OAFQ,yCAGZ,IAHY,YAKjBD,EAASC,QAAU,KAAOD,EAASC,OAAS,KAL3B,qBAMfH,EANe,yCAOVE,EAASE,QAPC,gCASZ,IATY,iCAWdC,QAAQC,OAAO,IAAIC,MAAML,EAASM,YAAcN,EAASC,UAX3C,4CAAH,wDAcPM,EAAW,uCAAG,WAAOZ,EAAKC,GAAZ,+BAAAC,EAAA,6DAAqBW,EAArB,yCACFT,MAAMJ,EAAKC,GADT,UAED,OADlBI,EADmB,QAEZC,OAFY,uBAGjBQ,EAAWT,EAASX,QAAQqB,IAAI,uBAAuBC,MAAM,aAAa,GAChFX,EAASY,OAAOC,MAAK,SAAAD,GACnB,IAAME,EAAWvE,OAAOwE,IAAIC,gBAAgBJ,GAE5C,GADAK,QAAQC,IAAI,uBAAwBT,GAChCD,GAAcC,EAASU,cAAcC,SAAS,QAAS,CACvC7E,OAAO8E,OACfC,SAASC,KAAOT,MACrB,CACL,IAAMjB,EAAI2B,SAASC,cAAc,KACjC5B,EAAE0B,KAAOT,EACTjB,EAAE6B,SAAWjB,EACbZ,EAAE8B,YAdiB,kBAiBhB,MAjBgB,gCAmBlBxB,QAAQC,OAAO,IAAIC,MAAML,EAASM,YAAcN,EAASC,UAnBvC,2CAAH,wDCxBX2B,EAAiB,uCAAG,WAAOjC,EAAKkC,GAAZ,eAAAhC,EAAA,6DACzBD,EADyB,2BAE1BR,KAF0B,IAG7B0C,OAAQ,OACRD,KAAMA,EAAOE,KAAKC,UAAUH,GAAQ,OAJP,kBAMxBnC,EAAQC,EAAKC,IANW,2CAAH,wDASjBqC,EAAmB,uCAAG,WAAOC,EAAYC,GAAnB,iBAAAtC,EAAA,6DAC3BF,EAD2B,UAClBuC,EADkB,YACJC,GACvBvC,EAF2B,2BAG5BR,KAH4B,IAI/B0C,OAAQ,WAJuB,kBAM1BpC,EAAQC,EAAKC,IANa,2CAAH,wDASnBwC,EAAgB,uCAAG,WAAOF,EAAYG,EAAaC,GAAhC,iBAAAzC,EAAA,6DACxBF,EADwB,UACfuC,EADe,YACDG,EADC,YApBM,kBAoBN,OAC8CC,GACtE1C,EAFwB,2BAGzBR,KAHyB,IAI5B0C,OAAQ,QAJoB,kBAMvBpC,EAAQC,EAAKC,IANU,2CAAH,0DAShB2C,EAAwB,uCAAG,WAAOL,EAAYM,GAAnB,iBAAA3C,EAAA,6DAChCF,EADgC,UACvBuC,EADuB,YAhCf,gBAkCjBtC,EAFgC,2BAGjCR,KAHiC,IAIpC0C,OAAQ,OACRD,KAAMW,EAAiBT,KAAKC,UAAUQ,GAAkB,OALpB,kBAO/B9C,EAAQC,EAAKC,IAPkB,2CAAH,wDAUxB6C,GAAoB,uCAAG,WAAOP,EAAYQ,EAAalC,GAAhC,iBAAAX,EAAA,6DAC5BF,EAD4B,UACnBuC,EADmB,YAzCT,kBA2CnBtC,EAF4B,2BAG7BR,KAH6B,IAIhC0C,OAAQ,OACRD,KAAMa,EAAcX,KAAKC,UAAUU,GAAe,KAClDC,aAAc,SANkB,kBAQ3BpC,EAAYZ,EAAKC,EAASY,IARC,2CAAH,0DAWpBoC,GAAwC,uCAAG,WAAMV,GAAN,iBAAArC,EAAA,6DAChDF,EADgD,UACvCuC,EADuC,YAnDlC,aAqDdtC,EAFgD,2BAGjDR,KAHiD,IAIpD0C,OAAQ,QAJ4C,kBAM/CpC,EAAQC,EAAKC,IANkC,2CAAH,sDCAtCiD,GAlDY,SAAC,GAAwE,IAAtE1E,EAAqE,EAArEA,SAAUC,EAA2D,EAA3DA,SAAU8D,EAAiD,EAAjDA,WAAYY,EAAqC,EAArCA,sBAAuBC,EAAc,EAAdA,QAAc,EACvEC,mBAAS,CACjC5E,WACA8D,aACAY,wBACAG,YAAa,GACbrE,MAAO,KACPC,QAAS,KACTkE,UACAG,UAAW,GACXC,iBAAkB,KAV6E,mBAC1FzE,EAD0F,KACnFC,EADmF,KAYzFvB,EAAMgG,cAANhG,EACA4B,EAAaR,IAAbQ,SAwBR,OAtBAqE,qBAAU,WACR,IAAMC,EAAS,uCAAG,4BAAAzD,EAAA,+EAEK+C,GAAyCE,GAF9C,OAER5C,EAFQ,OAGdvB,GAAS,SAAA4E,GAAS,kCACbA,GADa,IAEhBL,UAAWhD,EAAKsD,QAAQC,OACxBN,iBAAkBjD,EAAKsD,QAAQE,gBANnB,gDASd/E,EAAS,2BAAKD,GAAN,IAAaE,MAAOxB,EAAE,qBAAsByB,QAAS,QAC7DG,EAAS5B,EAAE,sBAVG,yDAAH,qDAcXgB,EAASC,aAAeD,EAASE,gBACnCK,GAAS,SAAA4E,GAAS,kCAAUA,GAAV,IAAqBnF,gBACvCkF,OAGD,CAAClF,IAGF,kBAAC,EAAkBuF,SAAnB,CAA4BC,MAAO,CAAClF,EAAOC,IAAYR,ICzC5C0F,GAFQ3H,wBAAc,CAAC,CAAE4H,SAAS,GAAS,eCa3CC,GAZQ,WAAO,IAAD,EACDtF,qBAAWoF,IADV,mBACpBnF,EADoB,KACbC,EADa,KAM3B,MAAO,CACLqF,UAAWtF,EAAMoF,QACjBG,WANiB,SAAAH,GACjBnF,EAAS,CAAEmF,eCHAI,GADKhI,wBAAc,CAAC,GAAI,eCEjCiI,GAAe,SAAC,GAAyD,IAAvDhG,EAAsD,EAAtDA,SAAUiG,EAA4C,EAA5CA,OAAQhG,EAAoC,EAApCA,SAAU8D,EAA0B,EAA1BA,WAAYa,EAAc,EAAdA,QAAc,EAClDC,mBAAS,CACjCoB,SACAC,MAAO,GACPzF,MAAO,KACPC,QAAS,KACTT,WACA8D,aACAa,YAR0E,mBACrErE,EADqE,KAC9DC,EAD8D,KAmB5E,OARA0E,qBAAU,WAEJjF,EAASC,aAAeD,EAASE,eACnCK,GAAS,SAAA4E,GAAS,kCAAUA,GAAV,IAAqBnF,kBAGxC,CAACA,IAEG,kBAAC,GAAYuF,SAAb,CAAsBC,MAAO,CAAClF,EAAOC,IAAYR,EAAjD,MAWTgG,GAAaG,aAAe,CAC1BF,OAAQ,MAEKD,UCjCFI,GAAU,uCAAG,WAAOrC,EAAYkC,GAAnB,iBAAAvE,EAAA,6DAClBF,EADkB,UACTuC,EADS,YAFT,QAES,YACiBkC,GACnCxE,EAFkB,2BAGnBR,KAHmB,IAItB0C,OAAQ,QAJc,kBAMjBpC,EAAQC,EAAKC,IANI,2CAAH,wDASV4E,GAAW,uCAAG,WAAOtC,EAAYuC,GAAnB,iBAAA5E,EAAA,6DACnBF,EADmB,UACVuC,EADU,YAXV,SAaTtC,EAFmB,2BAGpBR,KAHoB,IAIvB0C,OAAQ,OACRD,KAAM4C,EAAO1C,KAAKC,UAAUyC,GAAQ,OALb,kBAOlB/E,EAAQC,EAAKC,IAPK,2CAAH,wDCRT8E,GAFKxI,wBAAc,CAAC,GAAI,eCqExByI,GAjEK,WAAO,IAAD,EACElG,qBAAWiG,IADb,mBACjBhG,EADiB,KACVC,EADU,KAEhBsF,EAAeW,KAAfX,WACA7G,EAAMgG,cAANhG,EACA8E,EAAwBxD,EAAxBwD,WAAYa,EAAYrE,EAAZqE,QAJI,EAKSvE,IAAzBQ,EALgB,EAKhBA,SAAUE,EALM,EAKNA,WAEZ2F,EAAU,uCAAG,WAAMrB,GAAN,mBAAA3D,EAAA,kEAEfoE,GAAW,IACPlB,EAHW,gCAIP,IAAI5C,SAAQ,SAAA2E,GAAO,OAAIC,YAAW,kBAAMD,EAAQtB,QAAW,KAJpD,cAKb7E,GAAS,SAAAI,GAAI,kCACRA,GADQ,IAEX0F,KAAM,CAAEO,GAAI,MACZnG,QAASzB,EAAE,sBAAuB,CAAE4H,GAAI,UAE1C9F,EAAW9B,EAAE,sBAAuB,CAAE4H,GAAI,MAV7B,kBAWN,IAXM,wBAcQR,GAAYtC,EAAYsB,GAdhC,aAcTxD,EAdS,QAgBFwD,QAAQwB,GAhBN,kCAiBMT,GAAWrC,EAAYlC,EAASwD,QAAQwB,IAjB9C,QAiBPP,EAjBO,OAmBPQ,EAnBO,2BAmBYR,EAAKjB,SAnBjB,IAmB0B0B,oBAAqB1B,EAAQ0B,sBAEpEvG,GAAS,SAAAI,GAAI,kCACRA,GADQ,IAEX0F,KAAMQ,EACNpG,QAASzB,EAAE,sBAAuB,CAAE4H,GAAIhF,EAASwD,QAAQwB,UAE3D9F,EAAW9B,EAAE,sBAAuB,CAAE4H,GAAIhF,EAASwD,QAAQwB,MA1B9C,iCA4BRhF,EAASwD,QAAQwB,IA5BT,kCA8Bf/D,QAAQrC,MAAM,QAAd,MACAD,EAAS,2BAAKD,GAAN,IAAaE,MAAOxB,EAAE,qBAAsByB,QAAS,QAC7DG,EAAS5B,EAAE,sBAhCI,yBAkCf6G,GAAW,GAlCI,8CAoCV,MApCU,gEAAH,sDA6ChB,MAAO,CACLkB,eAAgBzG,EAAM0G,QACtBA,QAAS1G,EAAM0G,QACfX,KAAM/F,EAAM+F,KACZY,WAViB,SAAAZ,GAAI,OAAI9F,GAAS,SAAAI,GAAI,kCAAUA,GAAV,IAAgB0F,KAAK,2BAAM1F,EAAK0F,MAASA,SAW/EI,aACAjG,MAAOF,EAAME,MACbC,QAASH,EAAMG,QACfC,WAZiB,kBAAMH,GAAS,SAAAI,GAAI,kCAAUA,GAAV,IAAgBH,MAAO,WAa3DK,aAXmB,kBAAMN,GAAS,SAAAI,GAAI,kCAAUA,GAAV,IAAgBF,QAAS,a,8BCnD7DyG,GAAwB,SAAC,GAAqD,IAAnDzG,EAAkD,EAAlDA,QAAS0G,EAAyC,EAAzCA,SAAUtF,EAA+B,EAA/BA,OAAQuF,EAAuB,EAAvBA,iBAAuB,EACtCC,cAAnCC,EADyE,EACzEA,gBAAiBC,EADwD,EACxDA,cACnB/F,EAAU,CACdgG,QAAS3F,EACTuF,mBACAK,OAAQ,SAAAC,GAAG,OACT,kBAACC,GAAA,EAAD,CACEC,QAAS,WACPT,IACAI,EAAcG,KAGhB,kBAAC,KAAD,QAGJG,QAAS,kBAAMV,KACfW,kBAAkB,GASpB,OANA7C,qBAAU,WACJxE,GACF6G,EAAgB7G,EAASe,KAE1B,CAACf,IAEG,sCAUTyG,GAAsBhB,aAAe,CACnCzF,aAASsH,EACTZ,SAAU,aACVC,iBAAkB,KAGLF,U,UCkCAc,GA/EMC,aAAW,CAC9BC,QAAS,CACPC,OAAQ,MACRC,QAAS,eACTC,SAAU,WACVC,IAAK,MACLC,KAAM,MACNC,MAAO,OACPC,OAAQ,OACR,QAAS,CACPC,gBAAiB,YACjBC,UAAW,iCAEb,eAAgB,CACdC,QAAS,MACTR,QAAS,QACTC,SAAU,WACVC,IAAK,MACLC,KAAM,OACNC,MAAO,MACPC,OAAQ,OACRI,aAAc,MACdC,WAAY,gBAEd,qBAAsB,CACpBC,UAAW,eACXC,eAAgB,SAElB,qBAAsB,CACpBD,UAAW,gBACXC,eAAgB,QAElB,qBAAsB,CACpBD,UAAW,gBACXC,eAAgB,UAElB,qBAAsB,CACpBD,UAAW,gBACXC,eAAgB,UAElB,qBAAsB,CACpBD,UAAW,iBACXC,eAAgB,UAElB,qBAAsB,CACpBD,UAAW,iBACXC,eAAgB,UAElB,qBAAsB,CACpBD,UAAW,iBACXC,eAAgB,UAElB,qBAAsB,CACpBD,UAAW,iBACXC,eAAgB,UAElB,qBAAsB,CACpBD,UAAW,iBACXC,eAAgB,UAElB,sBAAuB,CACrBD,UAAW,iBACXC,eAAgB,UAElB,sBAAuB,CACrBD,UAAW,iBACXC,eAAgB,UAElB,sBAAuB,CACrBD,UAAW,iBACXC,eAAgB,QAGpB,qBAAsB,CACpBC,KAAM,CAAEC,QAAS,GACjBC,GAAI,CAAED,QAAS,MCvDJE,GAnBC,WACd,IAAMC,EAAMrB,KACZ,OACE,yBAAKsB,UAAWD,EAAInB,SAClB,8BACA,8BACA,8BACA,8BACA,8BACA,8BACA,8BACA,8BACA,8BACA,8BACA,8BACA,gCChBOqB,GAAiBtB,aAAW,CACvCuB,UAAW,CACTC,OAAQ,gCACRZ,aAAc,EACda,QAAS,YAIAC,GAAY1B,aAAW,CAClC2B,KAAM,CACJvB,SAAU,WACVwB,aAAc,qBAEhBC,UAAW,CACTC,gBAAiB,aAIRC,GAAW/B,cAAW,SAAAgC,GAAK,MAAK,CAC3CL,KAAM,CACJM,cAAe,OACfC,YAAaF,EAAMG,QAAQ,GAC3BC,aAAcJ,EAAMG,QAAQ,GAC5B,UAAW,CACTE,MAAO,UACPpB,QAAS,GAEX,aAAc,CACZoB,MAAO,WAET,UAAW,CACTA,MAAO,gB,wOC/BAC,GAAetC,cAAW,SAAAgC,GAAK,MAAK,CAC/CO,QAAS,CACPf,OAAQ,EACRgB,YAAa,QACbC,YAAaT,EAAMU,QAAQlD,OAAOmD,SAClCC,UAAW,QACXxC,SAAU,WACVqB,QAASO,EAAMG,QAAQ,KAGzBU,KAAM,CACJrC,OAAQ,SAGVgB,OAAQ,CACNA,OAAQ,EACRsB,UAAW,EACXC,YAAa,EACbP,YAAa,QACbC,YAAaT,EAAMU,QAAQlD,OAAOmD,UAGpCK,aAAc,CACZxB,OAAQ,EACRuB,YAAa,EACbE,WAAY,EACZH,UAAW,EACXN,YAAa,QACbC,YAAaT,EAAMU,QAAQlD,OAAOmD,UAGpCO,cAAe,CACb1C,OAAQ,QACRgB,OAAQ,EACRiB,YAAa,QACbD,YAAa,QACbW,SAAU,SACVC,aAAcpB,EAAMG,QAAQ,KAG9BkB,oBAAqB,CACnB7B,OAAQ,EACRiB,YAAa,OACbD,YAAa,QACbhC,OAAQ,OACR8C,UAAW,SACXC,UAAW,SACXC,UAAW,cACX,uBAAwB,CACtBjD,MAAO,GAET,6BAA8B,CAC5BM,WAAY,UACZD,aAAc,OAEhB,6BAA8B,CAC5BC,WAAY,UACZD,aAAc,OAEhB,mCAAoC,CAClCC,WAAY,SAIhB4C,cAAe,CACbjC,OAAQ,iBAGVkC,UAAW,CACTlC,OAAQ,eAGVmC,UAAW,CACT/B,aAAc,EACdgC,kBAAmB,QACnBC,kBAAmB7B,EAAMU,QAAQlD,OAAOmD,SACxCC,UAAW,OACXkB,UAAW,SACXrC,QAASO,EAAMG,QAAQ,IAGzB4B,cAAe,CACbX,aAAcpB,EAAMG,QAAQ,IAG9B6B,WAAY,CACVxC,OAAQ,cACRC,QAASO,EAAMG,QAAQ,IAGzB8B,wBAAyB,CACvBzC,OAAQ,cACRC,QAASO,EAAMG,QAAQ,GACvB+B,UAAWlC,EAAMG,QAAQ,IACzB2B,UAAW,SACX,aAAc,CACZ,qBAAsB,CACpBK,SAAU,OACV9B,MAAO,aAKb+B,gBAAiB,CACfxD,aAAc,MACdkB,gBAAiB,UACjBO,MAAO,UACPJ,cAAe,OACf1B,MAAO,OACPqC,UAAW,QAGbyB,WAAY,CACV7C,OAAQ,gBACR8C,OAAQ,EACRC,OAAQ,GAGVC,OAAQ,CACNtC,YAAaF,EAAMG,QAAQ,GAC3BsC,WAAYzC,EAAMG,QAAQ,GAC1B3B,OAAQ,QAGVkE,UAAW,CACTrC,MAAO,UACPsC,WAAY,SAIHC,GAAkB5E,cAAW,SAAAgC,GAAK,MAAK,CAClDa,KAAM,CACJrB,OAAQ,EACRgB,YAAa,QACbC,YAAaT,EAAMU,QAAQlD,OAAOmD,UAGpCkC,UAAW,CACTrD,OAAQ,cACRoB,UAAW,OACXxC,SAAU,YAGZ0E,OAAQ,CACNvE,MAAO,OACPC,OAAQ,OACRI,aAAc,MACdY,OAAQ,EACRgB,YAAa,QACb8B,OAAQ,EACRlE,SAAU,WACVC,IAAK,MACLC,KAAM,EACNQ,UAAW,qBACXuB,MAAO,WAET0C,UAAW,CACTxE,MAAO,OACPuB,gBAAiB,UACjBO,MAAO,UACPO,UAAW,OACXzC,QAAS,OACT6E,cAAe,MACfC,SAAU,SACVC,eAAgB,aAChBC,WAAY,SACZ/C,aAAcJ,EAAMG,QAAQ,IAE9BiD,WAAY,CACV5D,OAAQ,eAGV6D,iBAAkB,CAChBvD,gBAAiB,UACjBO,MAAOL,EAAMU,QAAQlD,OAAOmD,SAC5BT,YAAaF,EAAMG,QAAQ,GAC3BmD,YAAatD,EAAMG,QAAQ,GAC3BS,UAAW,OACX,qBAAsB,CACpB2C,WAAY,SAIhBC,cAAe,CACbhE,OAAQ,eACRjB,MAAO,OACPuD,UAAW,QAGb2B,gBAAiB,CACfjE,OAAQ,eACRhB,OAAQ,OACR4B,aAAcJ,EAAMG,QAAQ,IAE9BuD,mBAAoB,CAClBlF,OAAQ,OACRD,MAAO,OACP0B,cAAe,YCvGJ0D,GArFI,SAAC,GAAoD,IAAlD5G,EAAiD,EAAjDA,QAAS6G,EAAwC,EAAxCA,kBAAmBC,EAAqB,EAArBA,eAC1CzE,EAAMwD,KACJ7N,EAAMgG,cAANhG,EAMR,OAAOgI,EAAQ+G,KAAI,SAACtG,EAAQuG,GAAT,OACjB,kBAACC,EAAA,EAAD,CAAKvG,IAAKwG,mBAAS,iBACjB,kBAACC,GAAA,EAAD,CAAM3E,WAAS,GACb,kBAAC2E,GAAA,EAAD,CAAMrD,MAAI,EAACsD,GAAI,EAAGC,QAAS,CAAEvD,KAAMzB,EAAIyB,OACrC,kBAACmD,EAAA,EAAD,CAAK3E,UAAWD,EAAIyD,WAClB,kBAACmB,EAAA,EAAD,CAAK3E,UAAWD,EAAI0D,WAGxB,kBAACoB,GAAA,EAAD,CAAMrD,MAAI,EAACsD,GAAI,GAAIC,QAAS,CAAEvD,KAAMzB,EAAIyB,OACtC,kBAACmD,EAAA,EAAD,CAAK3E,UAAWD,EAAI2D,WAClB,kBAACiB,EAAA,EAAD,CAAKvB,WAAY,EAAGvC,YAAa,EAAGb,UAAWD,EAAIgE,YACjD,kBAAC,KAAD,CAAmBjB,SAAS,WAE9B,kBAAC6B,EAAA,EAAD,CAAK3E,UAAWD,EAAIoE,eAClB,kBAACa,GAAA,EAAD,CAAY9G,QAAQ,QAAQ8C,MAAM,eAAlC,UACM7C,EAAO8G,OAAS,SADtB,SAML9G,EAAO+G,WAAWT,KAAI,SAAAU,GAAS,OAC9B,kBAAC,IAAMC,SAAP,CAAgBhH,IAAKwG,mBAAS,gBAC5B,kBAACC,GAAA,EAAD,CAAMzG,IAAKwG,mBAAS,eAAgBpD,MAAI,EAACsD,GAAI,EAAGC,QAAS,CAAEvD,KAAMzB,EAAIyB,QACrE,kBAACqD,GAAA,EAAD,CAAMrD,MAAI,EAACsD,GAAI,GAAIC,QAAS,CAAEvD,KAAMzB,EAAIyB,OACtC,kBAACmD,EAAA,EAAD,CAAK3E,UAAWD,EAAI2D,WAClB,kBAACiB,EAAA,EAAD,CAAK3E,UAAWD,EAAIiE,kBAClB,kBAAC,KAAD,CAAmBlB,SAAS,WAE9B,kBAAC6B,EAAA,EAAD,CAAK9D,YAAa,EAAGb,UAAWD,EAAIgE,YAClC,kBAAC,KAAD,CAAmBjB,SAAS,WAE9B,kBAAC6B,EAAA,EAAD,CAAK3E,UAAWD,EAAIoE,eAClB,kBAACa,GAAA,EAAD,CAAY9G,QAAQ,QAAQ8C,MAAM,eAAlC,UACMmE,EAAUF,SAGlB,kBAACN,EAAA,EAAD,CAAK9D,YAAa,EAAGb,UAAWD,EAAIgE,YAClC,kBAAC,KAAD,CAAkBjB,SAAS,iBAOrC,kBAAC+B,GAAA,EAAD,CAAMrD,MAAI,EAACsD,GAAI,EAAGC,QAAS,CAAEvD,KAAMzB,EAAIyB,QACvC,kBAACqD,GAAA,EAAD,CAAMrD,MAAI,EAACsD,GAAI,GAAIC,QAAS,CAAEvD,KAAMzB,EAAIyB,OACtC,kBAACmD,EAAA,EAAD,CAAK3E,UAAWD,EAAIqE,iBAClB,kBAACiB,GAAA,EAAD,CACEnH,QAAQ,WACRoH,KAAK,SACLtF,UAAWD,EAAIsE,mBACfkB,UAAW,kBAAC,KAAD,MACXC,YAAa,kBAxDL,SAAAd,GAClBH,EAAkB,YAAaG,GAuDFe,CAAYf,IAC/BpD,SAAUkD,GAEV,kBAACQ,GAAA,EAAD,CAAY9G,QAAQ,QAAQ8C,MAAM,iBAC/BtL,EAAE,oD,qLCvENgQ,GAAW,uCAAG,WACzBlL,GADyB,mCAAArC,EAAA,6DAEzBwN,EAFyB,+BAEZ,CAAEC,KAAM,EAAGC,SAAU,IAClCC,EAHyB,uBAIzBC,EAJyB,gCAMrB9N,EANqB,UAMZuC,EANY,YAFV,QAEU,gCAMkCuL,EANlC,iCAOrBJ,IACF1N,GAAG,gBAAa0N,EAAWC,KAAxB,iBAAqCD,EAAWE,WAGjDC,IACF7N,GAAG,wBAAqB6N,IAEpB5N,EAdmB,2BAepBR,KAfoB,IAgBvB0C,OAAQ,QAhBe,kBAkBlBpC,EAAQC,EAAKC,IAlBK,2CAAH,sDAqBX8N,GAAwB,uCAAG,WAAOxL,EAAYyL,EAAYC,GAA/B,iBAAA/N,EAAA,6DAClCF,EADkC,UACzBuC,EADyB,YAvBvB,QAuBuB,uBACYyL,GAC9CC,IACFjO,GAAG,qBAECC,EALgC,2BAMjCR,KANiC,IAOpC0C,OAAQ,QAP4B,kBAS/BpC,EAAQC,EAAKC,IATkB,2CAAH,0DCAxBiO,GAAW,CACtBrK,QAAS,CACP,CACEwB,GAAI,GACJ8I,UAAW,eACXC,SAAU,eACVC,OAAQ,YACRC,QAAQ,EACRC,IAAK,CACHlJ,GAAI,EACJmJ,KAAM,YACNC,SAAU,EACVC,YAAa,EACbrB,KAAM,CAAEhI,GAAI,EAAGmJ,KAAM,WACrBG,SAAU,KACVC,UAAW,OACXC,OAAQ,CACNxJ,GAAI,GACJ8I,UAAW,oBACXC,SAAU,eACVC,OAAQ,YACRC,QAAQ,EACRC,IAAK,CACHlJ,GAAI,EACJmJ,KAAM,YACNC,SAAU,EACVC,YAAa,EACbrB,KAAM,CAAEhI,GAAI,EAAGmJ,KAAM,WACrBG,SAAU,KACVC,UAAW,MACXC,OAAQ,CACNxJ,GAAI,GACJ8I,UAAW,mBACXC,SAAU,eACVC,OAAQ,YACRC,QAAQ,EACRC,IAAK,CACHlJ,GAAI,EACJmJ,KAAM,YACNC,SAAU,EACVC,YAAa,EACbrB,KAAM,CAAEhI,GAAI,EAAGmJ,KAAM,WACrBG,SAAU,KACVC,UAAW,MACXC,OAAQ,CACNxJ,GAAI,GACJ8I,UAAW,uBACXC,SAAU,eACVC,OAAQ,YACRC,QAAQ,EACRC,IAAK,CACHlJ,GAAI,EACJmJ,KAAM,YACNC,SAAU,EACVC,YAAa,EACbrB,KAAM,CAAEhI,GAAI,EAAGmJ,KAAM,WACrBG,SAAU,KACVC,UAAW,WACXN,QAAQ,GAEVN,WAAY,gBACZc,OAAQ,KACRC,mBAAoB,KACpBC,MAAO,+CACPC,WAAY,KACZC,YAAa,KACbC,MAAO,KACPC,YAAa,MAEfd,QAAQ,GAEVN,WAAY,gBACZc,OAAQ,KACRC,mBAAoB,KACpBC,MAAO,+CACPC,WAAY,KACZC,YAAa,KACbC,MAAO,KACPC,YAAa,MAEfd,QAAQ,GAEVN,WAAY,gBACZc,OAAQ,KACRC,mBAAoB,KACpBC,MAAO,+CACPC,WAAY,KACZC,YAAa,KACbC,MAAO,KACPC,YAAa,MAEfd,QAAQ,GAEVN,WAAY,gBACZc,OAAQ,KACRC,mBAAoB,KACpBC,MAAO,+CACPC,WAAY,KACZC,YAAa,KACbC,MAAO,KACPC,YAAa,MAGf,CACE/J,GAAI,GACJ8I,UAAW,WACXC,SAAU,YACVC,OAAQ,cACRC,QAAQ,EACRC,IAAK,CACHlJ,GAAI,EACJmJ,KAAM,YACNC,SAAU,EACVC,YAAa,EACbrB,KAAM,CAAEhI,GAAI,EAAGmJ,KAAM,WACrBG,SAAU,EACVL,QAAQ,GAEVN,WAAY,aACZc,OAAQ,KACRC,mBAAoB,KACpBC,MAAO,wCACPC,WAAY,KACZC,YAAa,KACbC,MAAO,KACPC,YAAa,MAEf,CACE/J,GAAI,GACJ8I,UAAW,UACXC,SAAU,WACVC,OAAQ,YACRC,QAAQ,EACRC,IAAK,CACHlJ,GAAI,GACJmJ,KAAM,WACNC,SAAU,EACVC,YAAa,EACbrB,KAAM,CAAEhI,GAAI,EAAGmJ,KAAM,UACrBG,SAAU,EACVL,QAAQ,GAEVN,WAAY,YACZc,OAAQ,KACRC,mBAAoB,KACpBC,MAAO,sCACPC,WAAY,KACZC,YAAa,KACbC,MAAO,KACPC,YAAa,MAEf,CACE/J,GAAI,GACJ8I,UAAW,QACXC,SAAU,UACVC,OAAQ,YACRC,QAAQ,EACRC,IAAK,CACHlJ,GAAI,GACJmJ,KAAM,sBACNC,SAAU,GACVC,YAAa,GACbrB,KAAM,CAAEhI,GAAI,EAAGmJ,KAAM,WACrBG,SAAU,EACVL,QAAQ,GAEVN,WAAY,OACZc,OAAQ,KACRC,mBAAoB,KACpBC,MAAO,mCACPC,WAAY,KACZC,YAAa,KACbC,MAAO,KACPC,YAAa,MAEf,CACE/J,GAAI,EACJ8I,UAAW,QACXC,SAAU,UACVC,OAAQ,YACRC,QAAQ,EACRC,IAAK,KACLP,WAAY,UACZc,OAAQ,KACRC,mBAAoB,KACpBC,MAAO,KACPC,WAAY,KACZC,YAAa,KACbC,MAAO,KACPC,YAAa,MAEf,CACE/J,GAAI,GACJ8I,UAAW,WACXC,SAAU,WACVC,OAAQ,qBACRC,QAAQ,EACRC,IAAK,CACHlJ,GAAI,GACJmJ,KAAM,sBACNC,SAAU,GACVC,YAAa,GACbrB,KAAM,CAAEhI,GAAI,EAAGmJ,KAAM,WACrBG,SAAU,EACVL,QAAQ,GAEVN,WAAY,mBACZc,OAAQ,KACRC,mBAAoB,KACpBC,MAAO,uCACPC,WAAY,KACZC,YAAa,aACbC,MAAO,iBACPC,YAAa,kBAEf,CACE/J,GAAI,GACJ8I,UAAW,WACXC,SAAU,WACVC,OAAQ,OACRC,QAAQ,EACRC,IAAK,KACLP,WAAY,UACZc,OAAQ,KACRC,mBAAoB,KACpBC,MAAO,KACPC,WAAY,KACZC,YAAa,KACbC,MAAO,KACPC,YAAa,MAEf,CACE/J,GAAI,EACJ8I,UAAW,WACXC,SAAU,SACVC,OAAQ,cACRC,QAAQ,EACRC,IAAK,CACHlJ,GAAI,EACJmJ,KAAM,YACNC,SAAU,EACVC,YAAa,EACbrB,KAAM,CAAEhI,GAAI,EAAGmJ,KAAM,WACrBG,SAAU,EACVL,QAAQ,GAEVN,WAAY,UACZc,OAAQ,KACRC,mBAAoB,KACpBC,MAAO,KACPC,WAAY,KACZC,YAAa,KACbC,MAAO,KACPC,YAAa,MAEf,CACE/J,GAAI,GACJ8I,UAAW,YACXC,SAAU,WACVC,OAAQ,WACRC,QAAQ,EACRC,IAAK,CACHlJ,GAAI,GACJmJ,KAAM,sBACNC,SAAU,GACVC,YAAa,GACbrB,KAAM,CAAEhI,GAAI,EAAGmJ,KAAM,WACrBG,SAAU,EACVL,QAAQ,GAEVN,WAAY,mBACZc,OAAQ,KACRC,mBAAoB,KACpBC,MAAO,uCACPC,WAAY,KACZC,YAAa,aACbC,MAAO,iBACPC,YAAa,kBAEf,CACE/J,GAAI,GACJ8I,UAAW,iBACXC,SAAU,aACVC,OAAQ,qBACRC,QAAQ,EACRC,IAAK,CACHlJ,GAAI,GACJmJ,KAAM,sBACNC,SAAU,GACVC,YAAa,GACbrB,KAAM,CAAEhI,GAAI,EAAGmJ,KAAM,WACrBG,SAAU,EACVL,QAAQ,GAEVN,WAAY,mBACZc,OAAQ,KACRC,mBAAoB,KACpBC,MAAO,6CACPC,WAAY,KACZC,YAAa,aACbC,MAAO,iBACPC,YAAa,mBAGjBC,WAAY,GACZC,cAAe,IACfC,iBAAkB,GAClBC,OAAQ,EACRC,KAAM,GACNC,OAAO,EACPC,MAAM,GAoIKC,GAAmB,CAC9B,CACEvK,GAAI,kCACJpB,MAAO,oCCldI4L,GAFKtT,wBAAc,CAAC,GAAI,eCiGxBuT,GA5FK,WAAM,MAEEhR,qBAAW+Q,IAFb,mBAEjB9Q,EAFiB,KAEVC,EAFU,KAGhBvB,EAAMgG,cAANhG,EACA8E,EAAgCxD,EAAhCwD,WAAYa,EAAoBrE,EAApBqE,QAAS2M,EAAWhR,EAAXgR,OACvBC,EAAanR,IAQboR,EAAS,uCAAG,WAAOvC,EAAYG,EAAQC,GAA3B,uCAAA5N,EAAA,mEAGVkD,EAHU,gCAIC,IAAI5C,SAAQ,SAAA2E,GAAO,OAAIC,YAAW,kBAAMD,EAAQ+I,SAAY,KAJ7D,OAIZ3N,EAJY,8CAMCkN,GAAYlL,EAAYmL,EAAYG,EAAQC,GAN7C,OAMZvN,EANY,eASZsD,GATY,EAiBVtD,GARFsD,QACAwL,EAVY,EAUZA,WACAC,EAXY,EAWZA,cACAC,EAZY,EAYZA,iBACAC,EAbY,EAaZA,OACAC,EAdY,EAcZA,KACAC,EAfY,EAeZA,MACAC,EAhBY,EAgBZA,KAEE9L,IACIqM,EAAQrM,EAAQxG,QAAO,SAACC,EAAK6S,GAAU,IAAD,IACpCC,EAAI,UAAMD,EAAK9B,OAAX,YAAqB8B,EAAK5B,IAAM,IAAM,GAAtC,6BAA4C4B,QAA5C,IAA4CA,GAA5C,UAA4CA,EAAM5B,WAAlD,aAA4C,EAAWC,YAAvD,QAA+D,IAKzE,OAJAlR,EAAI6S,EAAKnC,WAAWqC,eAApB,2BACKF,GADL,IAEEC,SAEK9S,IACN,IACGgT,EAAavR,EAAMmR,MAAMH,GACzBQ,EAAcrT,OAAOC,KAAK+S,GAAOM,MACrC,SAAArK,GAAG,aAAI,UAAA+J,EAAM/J,UAAN,eAAY6H,WAAWqC,iBAAkBN,KAElD/Q,GAAS,SAAAI,GAAI,kCACRA,GADQ,IAEX8Q,MAAOK,EACHL,EADc,2BAETA,GAFS,yBAEDI,QAFC,IAEDA,OAFC,EAEDA,EAAYtC,WAAWqC,cAAgBC,IAExD5C,WAAY,CACV2B,aACAC,gBACAC,mBACAC,SACAC,OACAC,QACAC,cA5CQ,kDAiDd3Q,EAAS,2BAAKD,GAAN,IAAaE,MAAOxB,EAAE,qBAAsByB,QAAS,QAC7D8Q,EAAW3Q,SAAS5B,EAAE,sBAlDR,0DAAH,0DA8Df,MAAO,CACLsS,OAAQhR,EAAMgR,OACdU,SAAU1R,EAAM0R,SAChBC,gBAAiB3R,EAAM2R,gBACvBR,MAAOnR,EAAMmR,MACb3N,WAAYxD,EAAMwD,WAClBa,QAASrE,EAAMqE,QACfuN,SA3Ee,SAAAT,GACflR,GAAS,SAAA4E,GAAS,kCAAUA,GAAV,IAAqBsM,cA2EvCU,cAxEoB,SAAAlD,GAAU,OAAI1O,EAAS,2BAAKD,GAAN,IAAa2O,iBAyEvDuC,YACA5Q,SAlBe,SAAAJ,GAAK,OAAID,GAAS,SAAAI,GAAI,kCAAUA,GAAV,IAAgBH,cAmBrDE,WAjBiB,kBAAMH,GAAS,SAAAI,GAAI,kCAAUA,GAAV,IAAgBH,MAAO,WAkB3DM,WAhBiB,SAAAL,GAAO,OAAIF,GAAS,SAAAI,GAAI,kCAAUA,GAAV,IAAgBF,gBAiBzDI,aAfmB,kBAAMN,GAAS,SAAAI,GAAI,kCAAUA,GAAV,IAAgBF,QAAS,a,2FC0EpD2R,GAvJSnK,cAAW,SAAAgC,GAAK,MAAK,CAC3CoI,OAAQ,CACN,qBAAsB,CACpBC,UAAW,MAIfC,YAAa,CACXxG,UAAW,SACX7B,cAAe,cAGjBsI,YAAa,CACXnK,SAAU,WACVoK,MAAOxI,EAAMG,QAAQ,GACrB9B,IAAK2B,EAAMG,QAAQ,GACnBE,MAAOL,EAAMU,QAAQ+H,KAAK,MAG5Bf,KAAM,CACJrH,MAAO,UACPJ,cAAe,cAGjByI,SAAU,CACRvK,QAAS,OACT6E,cAAe,MACfC,SAAU,SACVC,eAAgB,gBAChB9C,aAAcJ,EAAMG,QAAQ,IAG9BwI,UAAW,CACTzI,YAAaF,EAAMG,QAAQ,IAG7ByI,SAAU,CACRpJ,OAAQ,EACRgB,YAAa,QACbC,YAAaT,EAAMU,QAAQlD,OAAOmD,SAClC/B,aAAc,MACdkB,gBAAiB,WAGnB+I,MAAO,CACLpG,WAAYzC,EAAMG,QAAQ,GAC1B2I,KAAM,GAGRC,WAAY,CACVtJ,QAASO,EAAMG,QAAQ,GACvB,WAAY,CACVE,MAAO2I,KAAM,OAIjBC,KAAM,CACJ1K,MAAO,OACPuB,gBAAiBE,EAAMU,QAAQ7B,WAAWqK,MAC1C9K,SAAU,WACV+C,SAAU,OACVkH,UAAW,IACX7I,OAAQ,EACRgB,YAAa,QACb5B,aAAc,MACd6B,YAAaT,EAAMU,QAAQlD,OAAOmD,SAClC,uBAAwB,CACtBpC,MAAO,OAET,6BAA8B,CAC5BM,WAAY,UACZD,aAAc,OAEhB,6BAA8B,CAC5BC,WAAY,OACZD,aAAc,OAEhB,mCAAoC,CAClCC,WAAY,SAIhBsK,YAAa,CACXrJ,gBAAiB,WAGnBsJ,GAAI,CACFtJ,gBAAiB,UACjBL,QAAS,EACT,mCAAoC,CAClCqB,UAAW,IAKfuI,UAAW,CACTzJ,aAAc,EACdgC,kBAAmB,QACnBC,kBAAmB7B,EAAMU,QAAQlD,OAAOmD,SACxCG,UAAW,EACXwI,eAAgB,QAChBC,eAAgBvJ,EAAMU,QAAQlD,OAAOmD,UAGvC6I,MAAO,CACL,uCAAwC,CACtC1J,gBAAiB,wBAEnB,wCAAyC,CACvCO,MAAO,WAET,yCAA0C,CACxCoJ,cAAe,SAInBC,cAAe,CACbxG,eAAgB,iBAGlBV,OAAQ,CACN1C,gBAAiB,UACjBO,MAAO,OACPiC,OAAQtC,EAAMG,QAAQ,GACtBF,cAAe,OACfW,UAAW,OACX+I,SAAU,QACV,aAAc,CACZ7J,gBAAiB,WAEnB,UAAW,CACTA,gBAAiB,YAIrB8J,YAAa,CACX9J,gBAAiB,UACjBO,MAAO,OACPiC,OAAQtC,EAAMG,QAAQ,GACtBF,cAAe,OACfW,UAAW,OACX+I,SAAU,QACV,aAAc,CACZ7J,gBAAiB,WAEnB,UAAW,CACTA,gBAAiB,gBCnHjB+J,GAAW,SAAC,GAAkD,IAAhD/E,EAA+C,EAA/CA,YAAaK,EAAkC,EAAlCA,OAAQ2E,EAA0B,EAA1BA,cAAepC,EAAW,EAAXA,KAAW,EACEN,KAA3DC,EADyD,EACzDA,OAAQG,EADiD,EACjDA,MAAO9M,EAD0C,EAC1CA,QAASb,EADiC,EACjCA,WAAYoO,EADqB,EACrBA,SAAUtR,EADW,EACXA,SADW,EAGvBgE,mBAAS,IAHc,mBAG1DoP,EAH0D,KAG3CC,EAH2C,OAI/BrP,mBAAS,IAJsB,mBAI1DsP,EAJ0D,KAI/CC,EAJ+C,KAM3DC,EAAWC,mBACTrV,EAAMgG,cAANhG,EACFqK,EAAM+I,KARqD,EAURkC,aAAoB,CAC3EC,UAAW,GACXH,WACAI,MAAO,MAHDC,EAVyD,EAUzDA,MAAOC,EAVkD,EAUlDA,IAAKC,EAV6C,EAU7CA,cAAeC,EAV8B,EAU9BA,kBAM7BC,EAAc,uCAAG,WAAOJ,EAAOC,GAAd,2BAAAjT,EAAA,kEAGbyN,EAAOwF,GADPvF,EAAWuF,EAAMD,GACO,GAE1B9P,EALe,gCAMJ,IAAI5C,SAAQ,SAAA2E,GAAO,OAAIC,YAAW,kBAAMD,EAAQ+I,MAAW,QANvD,OAMjB3N,EANiB,+CAQJkN,GACXlL,EACA,CAAEoL,OAAMC,YACRC,EACS,cAATuC,GAAiC,aAATA,GAZT,QAQjB7P,EARiB,sBAeXsD,GAfW,EAeqBtD,GAAhCsD,QAASwL,EAfE,EAeFA,WAAYG,EAfV,EAeUA,OACzBH,EAAaG,GACf6D,IAjBiB,kBAmBZxP,EAAQxG,QAAO,SAACC,EAAK6S,GAAU,IAAD,IAE7BC,EAAI,UAAMD,EAAK9B,OAAX,YAAqB8B,EAAK5B,IAAM,IAAM,GAAtC,6BAA4C4B,QAA5C,IAA4CA,GAA5C,UAA4CA,EAAM5B,WAAlD,aAA4C,EAAWC,YAAvD,QAA+D,IAMzE,OALAlR,EAAI6S,EAAKnC,WAAWqC,eAApB,2BACKF,GADL,IAEEC,OACAmD,OAAQpD,EAAKnC,WAAWqC,gBAAkBN,IAErCzS,IACN,KA5BgB,kCA8BnB+B,EAAS5B,EAAE,sBA9BQ,0DAAH,wDA8DpB,OA5BAiG,qBAAU,WAER,OADAkP,EAAa,IACN,WACLjC,EAAS,eAAGZ,EAASG,EAAMH,QAE5B,IAEHrM,qBAAU,WACJwP,IAAUC,IACZC,GAAc,GACdE,EAAeJ,EAAOC,GAAKjS,MAAK,SAAAsS,GAC9B7C,EAAS,2BAAKT,GAAUsD,IACxBJ,GAAc,SAGjB,CAACF,EAAOC,IAEXzP,qBAAU,WACR,IAAM+P,EAAQvW,OAAOC,KAAK+S,GAAO7S,QAAO,SAACC,EAAK6I,GAI5C,MAHY,cAARA,GACF7I,EAAIoW,KAAJ,aAAWrO,GAAIc,GAAQ+J,EAAM/J,KAExB7I,IACN,IACHoV,EAxFmB,SAAAe,GACrB,IAAME,EAAO,IAAIC,IACjB,OAAOH,EACJI,QAAO,SAAAC,GAAC,MAAa,cAATA,EAAEzO,MACdwO,QAAO,SAAAE,GAAC,OAAKA,EAAER,UACfM,QAAO,SAAAG,GACN,IAAMC,EAAUD,EAAG5F,SAAS8F,OAAO,GAAG7D,cAChC8D,EAAYR,EAAKS,IAAIH,GAE3B,OADAN,EAAKU,IAAIJ,IACDE,KAET3H,KAAI,SAAAsH,GAAC,OAAIA,EAAE1F,SAAS8F,OAAO,GAAG7D,iBA6EdiE,CAAeb,IAChCb,EAAaa,KACZ,CAACvD,IAGF,kBAACqE,GAAA,EAAD,CAAMxM,UAAWD,EAAI6J,KAAM6C,UAAW,6BAAQC,IAAK5B,GAChDJ,EAAcjG,KAAI,SAACkI,EAASjI,GAAV,OACjB,wBAAItG,IAAG,kBAAauO,GAAW3M,UAAWD,EAAI+J,aAC5C,wBAAI9J,UAAS,UAAKD,EAAIgK,GAAT,YAAyB,IAAVrF,EAAc,QAAU,KAClD,kBAACkI,GAAA,EAAD,CAAe7H,QAAS,CAAEzE,KAAMP,EAAIiK,YAAc2C,GACjD/B,EACEkB,QAAO,SAAAE,GAAC,OAAKA,EAAER,UACfM,QAAO,SAAAE,GAAC,OAAIA,EAAE3F,SAAS8F,OAAO,GAAG7D,gBAAkBqE,KACnDlI,KAAI,SAAAoI,GAAC,aACJ,kBAACC,GAAA,EAAD,CAAU1O,IAAKwG,mBAAS,aAActD,SAAUuL,EAAEE,UAChD,kBAACC,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,OAEF,kBAACC,GAAA,EAAD,CAAcC,QAAO,UAAKN,EAAEzG,UAAP,YAAoByG,EAAExG,UAAY+G,UAAWP,EAAExE,OACpE,kBAACgF,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CACEtN,UAAWD,EAAIoK,MACfoD,QACE9C,IACA,UAAAA,EAAcpC,UAAd,eAAqBpC,WAAWqC,iBAAkBuE,EAAE5G,WAAWqC,cAEjEhK,QAASmH,EACTvJ,MAAO2Q,EAAE5G,WAAWqC,cACpB7B,KAAI,uBAAkBoG,EAAEvP,IACxBkQ,WAAY,CAAE,aAAcX,EAAEvP,IAC9BgE,WACInM,OAAOC,KAAKqV,GACXhG,KAAI,SAAArG,GAAG,OAAIqM,EAAcrM,GAAK6H,WAAWqC,iBACzCG,MAAK,SAAAuD,GAAC,OAAIA,IAAMa,EAAE5G,WAAWqC,+BAoBxDkC,GAAS5N,aAAe,CACtByL,KAAM,IAGOmC,UC3ITiD,GAAiB,SAAAC,GAAK,OAC1B,kBAAC,KAAD,CAAWC,OAAO,0BAA0BC,OAAQ,oCAElD,kBAACC,EAAA,EAAUH,KAITI,GAAc,SAAC,GAAoE,IAAD,EAAjEnU,EAAiE,EAAjEA,KAAMoU,EAA2D,EAA3DA,YAAatD,EAA8C,EAA9CA,cAAeuD,EAA+B,EAA/BA,mBAAoB3F,EAAW,EAAXA,KACnE3S,EAAMgG,cAANhG,EAD8E,EAE5C4F,mBAAS,MAFmC,mBAE/E2S,EAF+E,KAEhEC,EAFgE,OAG1D5S,mBAAS,IAHiD,mBAG/EwK,EAH+E,KAGvEqI,EAHuE,KAIhFxN,EAAQyN,eAJwE,EAKjDrG,KAA7BC,EAL8E,EAK9EA,OAAQG,EALsE,EAKtEA,MAAOD,EAL+D,EAK/DA,UAGjBnI,GADasO,aAAc1N,EAAM2N,YAAYC,KAAK,OAC5CzF,MASN0F,EAPoB,SAAAC,GACxB,IAAM/B,EAAM3B,mBAIZ,OAHApP,qBAAU,WACR+Q,EAAIgC,QAAUD,KAET/B,EAAIgC,QAEKC,CAAkB7I,GAE9BL,EAAc,SAAAmJ,GAAU,IACpB1S,EAAU0S,EAAMC,OAAhB3S,MACRgS,EAAiBhS,EAAMoM,eACnB0F,GACFA,EAAmB7F,EAAMjM,EAAMoM,iBAI7BwG,EAAe,SAAAC,GACnB7G,EAAU,KAAM6G,EAAsB,cAAT1G,GAAiC,aAATA,IAGjD2G,EAAgB,WACpB,OAAI7Z,OAAOC,KAAKqV,GAAewE,OAAS,KAC7B9Z,OAAOC,KAAKqV,GAClBhG,KAAI,SAAArG,GAAG,OAAIqM,EAAcrM,GAAK6H,WAAWqC,iBACzCG,MAAK,SAAAuD,GAAC,OAAIA,IAAMhE,EAAOM,kBAK9B,OACE,kBAAC4G,GAAA,EAAD,CACEC,WAAS,EACTC,SAAS,KACTzV,KAAMA,EACN4E,QAAS,kBAAMwP,KACfN,eAAgBA,GAChB4B,qBAAmB,EACnBC,kBAAgB,oBAChBtP,UAAWD,EAAIgJ,QAEf,kBAACwG,GAAA,EAAD,CAAavP,UAAWD,EAAIkJ,YAAa3L,GAAG,oBAAoBiB,QAAS,kBAAMwP,MAC7E,6BACGrY,EAAE,wCADL,IAC8C,0BAAMsK,UAAWD,EAAIsI,MAAOA,IAE1E,kBAAChK,GAAA,EAAD,CAAYmR,aAAW,QAAQxP,UAAWD,EAAImJ,YAAa5K,QAAS,kBAAMyP,MACxE,kBAAC,KAAD,QAGJ,kBAAC0B,GAAA,EAAD,KACE,kBAAC5K,GAAA,EAAD,CAAM3E,WAAS,EAACY,QAAS,GACvB,kBAAC+D,GAAA,EAAD,CAAMrD,MAAI,EAACsD,GAAI,IACb,kBAACH,EAAA,EAAD,CAAK3E,UAAWD,EAAIsJ,UAClB,kBAAC1E,EAAA,EAAD,CAAK3E,UAAWD,EAAIwJ,UAClB,kBAACmG,GAAA,EAAD,CACEpS,GAAG,SACH0C,UAAWD,EAAIyJ,MACf/C,KAAK,SACLvK,MAAO4J,EACP6J,YAAaja,EAAE,yCACf8X,WAAY,CAAE,aAAc9X,EAAE,0CAC9Bka,QAAS,SAAAhB,GAAU,IAEfxQ,EAEEwQ,EAFFxQ,IACUlC,EACR0S,EADFC,OAAU3S,MAEZiS,EAAU,IACVA,EAAUjS,GACE,UAARkC,GACF0Q,EAAa5S,MAInB,kBAACmC,GAAA,EAAD,CACE2B,UAAS,UAAKD,EAAI2J,WAAT,YAAuB5D,IAAW0I,EAAY,SAAW,IAClEgB,aAAW,SACXlO,SAAqB,KAAXwE,EACVxH,QAAS,kBAAMwQ,EAAahJ,KAE5B,kBAAC,KAAD,QAGJ,kBAACnB,EAAA,EAAD,CAAK3E,UAAWD,EAAIuJ,WAClB,kBAACuG,GAAA,EAAD,CACE3T,MAAM,QACNoF,SAAU0N,IACVc,MAAO,CACL1F,cAAc,GAAD,OAAK4E,IAAkB,OAAS,SAE/Ce,QAEE,kBAACzC,GAAA,EAAD,CACEtN,UAAWD,EAAIoK,MACf7I,SAAU0N,IACVzB,QACE9C,IACA,UAAAA,EAAcpC,UAAd,eAAqBpC,WAAWqC,iBAAkBN,EAAOM,gBAI/D0H,MAAOta,EAAE,yCACTua,eAAe,QACf3R,QAAS,kBAAMmH,EAAY,CAAEoJ,OAAQ,CAAE3S,MAAO8L,UAIpD,kBAACrD,EAAA,EAAD,KACGwD,GAAShT,OAAOC,KAAP,OAAY+S,QAAZ,IAAYA,IAAS,IAAI8G,OAAS,EAC1C,kBAAC,GAAD,CACEhB,cAAeA,EACfxI,YAAaA,EACbK,OAAQA,EACR2E,cAAeA,EACfpC,KAAMA,IAEN,SAKZ,kBAAC6H,GAAA,EAAD,CAAelQ,UAAWD,EAAIsK,eAC5B,kBAAChF,GAAA,EAAD,CAAQ/G,QAAS,kBAAMyP,KAAe/N,UAAWD,EAAIwK,aAClD7U,EAAE,+CAEL,kBAAC2P,GAAA,EAAD,CACE/G,QAAS,kBAAMyP,KACf/N,UAAWD,EAAIoD,OACf7B,SAA4B,OAAlB2M,GAETvY,EAAE,6CAeboY,GAAYlR,aAAe,CACzByL,KAAM,GACNoC,mBAAehM,GAGFqP,U,UC9KAqC,GAhBSxR,aAAW,CACjCyR,WAAY,CACVjQ,OAAQ,cACR0C,UAAW,EACX,iCAAkC,CAChCd,aAAc,GAEhB,wBAAyB,CACvBnB,cAAe,cAEjB,mCAAoC,CAClCwC,WAAY,WCNZiN,GAAkB,SAAA3C,GAAU,IAE9BqC,EAUErC,EAVFqC,QACAtJ,EASEiH,EATFjH,KACA6J,EAQE5C,EARF4C,MACAC,EAOE7C,EAPF6C,OACAC,EAME9C,EANF8C,OACAC,EAKE/C,EALF+C,SACAC,EAIEhD,EAJFgD,aACAC,EAGEjD,EAHFiD,QACAC,EAEElD,EAFFkD,QACAC,EACEnD,EADFmD,mBAGI9Q,EAAMoQ,KAOZ,OANAxU,qBAAU,WACJ+U,GACFD,EAAShK,EAAMiK,KAEhB,CAACA,IAGF,kBAAC,KAAD,CACExZ,OAAQ4Z,kBAAQP,EAAO9J,IACvBsK,OAAQ,YAAuC,IAApCC,EAAmC,EAAnCA,SAAUC,EAAyB,EAAzBA,OAAQ/U,EAAiB,EAAjBA,MAAOwQ,EAAU,EAAVA,IAClC,OACE,kBAAC,KAAD,CACEuE,OAAQA,EACRD,SAAUA,EACVE,SAAUxE,EACV1M,UAAWD,EAAIqQ,WACflU,MAAOA,EACPiV,aAAa,WACbC,QAAM,EACNC,gBAAc,EACdR,mBAAoBA,EACpB3S,QAAQ,SACRsS,OAAQA,EACRvN,OAAO,SACP3F,GAAG,qBACH0S,MAAM,GACNsB,oBAAqB,CACnB,aAAc,eAEhBnC,WAAS,EACTwB,QAASA,EACTC,QAASA,KAIfb,QAASA,EACTO,MAAOA,EACP7J,KAAMA,EACN8K,aAAc,IAAIC,QAkBxBnB,GAAgBzT,aAAe,CAC7B0T,MAAO,GACPE,OAAQ,aACRE,kBAAcjS,EACdkS,aAASlS,EACTmS,aAASnS,EACToS,mBAAoB,uBAGPR,UChEAoB,GAnBG,SAAC,GAAD,IAAGxM,EAAH,EAAGA,MAAOxO,EAAV,EAAUA,SAAaib,EAAvB,2CAEhB,kBAAC/M,EAAA,EAAQ+M,EACP,kBAAC/M,EAAA,EAAD,CAAKxE,OAAQ,EAAGsC,UAAU,OAAOkP,EAAG,GAClC,kBAAC3M,GAAA,EAAD,CAAY9G,QAAQ,YAAY8C,MAAM,iBACnCiE,IAGL,kBAACN,EAAA,EAAD,CAAKxE,OAAQ,EAAGsC,UAAU,QACvBhM,K,yCC4BQmb,GAvCKjT,cAAW,SAAAgC,GAAK,MAAK,CACvCkJ,MAAO,CACL3K,MAAO,QACPkB,QAASO,EAAMG,QAAQ,GACvBL,gBAAiB,UACjB,wBAAyB,CACvBO,MAAO,SAIX6Q,OAAQ,CACNhT,OAAQ,EACR,+BAAgC,CAC9BqE,OAAQ,EACRjE,KAAM,EACN8B,aAAc,SACd7B,MAAO,MACPC,OAAQ,MACR,YAAa,CACX2S,YAAa,gBACb1Q,YAAY,GAAD,OAAKT,EAAMU,QAAQ7B,WAAWqK,MAA9B,2CAIjBkI,MAAO,CACLhT,SAAU,WACV+D,SAAU,EACV5D,MAAO,MACPC,OAAQ,MACR,YAAa,CACXG,QAAS,KACT2D,OAAQ,OACRnE,QAAS,QACTI,MAAO,EACPC,OAAQ,EACRgC,YAAa,cC4CJ6Q,GA1Ea,SAAC,GAAqD,IAAnD/M,EAAkD,EAAlDA,MAAOxO,EAA2C,EAA3CA,SAAUwb,EAAiC,EAAjCA,cAAkBP,EAAe,sDACvDnd,IAAM+G,UAAS,GADwC,mBACxE3B,EADwE,KAClEuY,EADkE,KAEzEnN,EAAU6M,KACVO,EAAYpH,iBAAO,MAHsD,EAI/CzP,mBAAS,MAJsC,mBAIxE8W,EAJwE,KAI9DC,EAJ8D,KAU/E,OAEE,kBAAC1N,EAAA,EAAQ+M,EACP,kBAACY,GAAA,EAAD,CACE3Y,KAAMA,EACN4Y,SAAUJ,EAAUzD,QACpB1O,UAAW+E,EAAQ8M,OACnBW,UAAU,MACVC,eAAa,EACbC,UAAW,CACTC,KAAM,CACJC,SAAS,GAEXb,MAAO,CACLa,SAAS,EACTC,QAAST,GAEXU,gBAAiB,CACfF,QAAS,OACTG,kBAAmB,kBAIvB,0BAAM/S,UAAW+E,EAAQgN,MAAOrF,IAAK2F,IACrC,kBAACxE,EAAA,EAAD,CAAO7N,UAAW+E,EAAQ8E,OACxB,kBAAC7E,GAAA,EAAD,CAAY9G,QAAQ,SAAS+T,EAAchN,OAC3C,kBAACD,GAAA,EAAD,CAAY9G,QAAQ,SAAS+T,EAAce,eAG/C,kBAACrO,EAAA,EAAD,CACExE,OAAQ,EACRsC,UAAU,OACVkP,EAAG,EACH7S,QAAQ,OACR6E,cAAc,MACdC,SAAS,SACTE,WAAW,SACXD,eAAe,cAEf,kBAACc,EAAA,EAAD,CAAK9D,YAAa,GAChB,kBAACmE,GAAA,EAAD,CAAY9G,QAAQ,YAAY8C,MAAM,iBACnCiE,IAGL,kBAACN,EAAA,EAAD,CAAKrG,QAhDS,WAClB4T,GAAQ,SAAA7a,GAAI,OAAKA,MA+CcqV,IAAKyF,EAAWhT,OAAO,QAChD,kBAAC,KAAD,CAAkB2D,SAAS,YAG/B,kBAAC6B,EAAA,EAAD,CAAKxE,OAAQ,EAAGsC,UAAU,QACvBhM,K,+BC1BMwc,GAtCKtU,cAAW,SAAAgC,GAAK,MAAK,CACvCuS,UAAW,CACT/S,OAAQ,EACRZ,aAAc,EACd4B,YAAa,QACbC,YAAaT,EAAMU,QAAQlD,OAAOmD,SAClCpC,MAAO,OACPqC,UAAW,OACXzC,QAAS,OACT6E,cAAe,MACfC,SAAU,SACVE,WAAY,SACZD,eAAgB,gBAElBsP,OAAQ,CACNhT,OAAQ,cACR8C,OAAQtC,EAAMG,QAAQ,IAExBsS,YAAa,CACXtU,QAAS,OACT+E,eAAgB,SAChBC,WAAY,SACZ3E,OAAQ,OACR2D,SAAU,GACV9B,MAAO,UACPe,aAAc,GAEhBsR,cAAe,CACbvU,QAAS,OACT+E,eAAgB,SAChBC,WAAY,SACZ3E,OAAQ,OACR2D,SAAU,GACV9B,MAAO,UACPe,aAAc,OCUHuR,GAxCK,SAAC,GAAkC,IAAhCtD,EAA+B,EAA/BA,MAAOuD,EAAwB,EAAxBA,GAAIC,EAAoB,EAApBA,IAAKxC,EAAe,EAAfA,SAC/BjR,EAAMkT,KADwC,EAEtB1e,IAAM+G,UAAS,GAFO,mBAE7CiS,EAF6C,KAEpCkG,EAFoC,KAUpD,OACE,kBAACC,GAAA,EAAD,CAAaxV,QAAQ,WAAWiR,WAAS,GACvC,kBAACxK,EAAA,EAAD,CAAK5F,SAAS,WAAWG,MAAO,GAC9B,kBAACyF,EAAA,EAAD,CAAK3E,UAAWD,EAAImT,WAClB,kBAACvO,EAAA,EAAD,KACE,kBAACK,GAAA,EAAD,CAAY9G,QAAQ,QAAQ8C,MAAM,iBAC/BgP,IAGL,kBAAC,KAAD,CACEgB,SAjBW,SAAA9U,GACnBuX,EAAWvX,GACP8U,GACFA,EAAS9U,IAeHqR,QAASA,EACTvN,UAAWD,EAAIoT,OACfjU,MAAO,GACPyU,QAAQ,UACRP,YAAa,yBAAKpT,UAAWD,EAAIqT,aAAcG,GAC/CF,cAAe,yBAAKrT,UAAWD,EAAIsT,eAAgBG,S,oBC1BzDI,GAAY,SAAC,GAgBZ,IAAD,EAfJC,EAeI,EAfJA,SACAtD,EAcI,EAdJA,OACA9J,EAaI,EAbJA,KACAkJ,EAYI,EAZJA,YACAmE,EAWI,EAXJA,MACAC,EAUI,EAVJA,MACAC,EASI,EATJA,oBACAC,EAQI,EARJA,gBACAC,EAOI,EAPJA,UACAC,EAMI,EANJA,KACAC,EAKI,EALJA,QACA1D,EAII,EAJJA,aACAD,EAGI,EAHJA,SACA4D,EAEI,EAFJA,SACA/O,EACI,EADJA,KAYA,OAVIyO,GACFxa,QAAQC,IAAI,QAASsa,EAAMrN,IAG7B9K,qBAAU,WACJ+U,GAAgBD,GAClBA,EAAShK,EAAMiK,KAEhB,CAACA,EAAcD,EAAUhK,IAG1B,kBAACiN,GAAA,EAAD,CAAaxV,QAAQ,WAAWiR,WAAS,EAACjY,OAAQ4Z,kBAAQP,EAAO9J,KAC/D,kBAAC9B,EAAA,EAAD,CAAK5F,SAAS,WAAWG,MAAO,GAC9B,kBAACoV,GAAA,EAAD,CACEhP,KAAMA,EACN6J,WAAS,EACT7R,GAAE,oBAAemJ,GACjBkJ,YAAaA,EACbuB,SAAU2C,EACVpN,KAAMA,EACNyN,UAAWA,EACXC,KAAMA,EACNC,QAASA,EACTpU,UAAWqU,IAEZL,EACC,kBAACrP,EAAA,EAAD,CAAK5F,SAAS,WAAWmE,OAAQ,EAAGiG,MAAM,QACxC,kBAACnE,GAAA,EAAD,CAAY9G,QAAQ,UAAU8C,MAAM,iBACjC8S,EAAMrN,GAAQqN,EAAMrN,GAAMwI,OAAS,EADtC,MAC4CgF,IAG5C,MAEN,kBAACM,GAAA,EAAD,CAAgBjX,GAAE,oBAAemJ,EAAf,gBAAlB,UAAqD8J,EAAO9J,UAA5D,aAAqD,EAActP,WAuBzEyc,GAAUhX,aAAe,CACvBmX,OAAO,EACPG,WAAW,EACXF,qBAAqB,EACrBC,gBAAiB,EACjBE,KAAM,EACNC,QAAS,EACT1D,aAAc,GACd2D,SAAU,GACV/O,KAAM,QAGOsO,UChFFY,IAToB7V,cAAW,SAAAgC,GAAK,MAAK,CACpDa,KAAM,CACJrB,OAAQ,EACRgB,YAAa,QACbC,YAAaT,EAAMU,QAAQlD,OAAOmD,SAClCC,UAAW,aAImB5C,cAAW,SAAAgC,GAAK,MAAK,CACrDa,KAAM,CACJrB,OAAQ,EACRgB,YAAa,QACbC,YAAaT,EAAMU,QAAQlD,OAAOmD,SAClCC,UAAW,cAIFkT,GAAsB9V,cAAW,SAAAgC,GAAK,MAAK,CACtDO,QAAS,CACPf,OAAQ,EACRgB,YAAa,QACbC,YAAaT,EAAMU,QAAQlD,OAAOmD,UAGpCc,cAAe,CACbjC,OAAQ,cACRC,QAASO,EAAMG,QAAQ,IAGzBuB,UAAW,CACTlC,OAAQ,eAGVmC,UAAW,CACTnC,OAAQ,YACRiB,YAAaT,EAAMU,QAAQlD,OAAOmD,SAClC/B,aAAc,EACdgC,UAAW,OAEX,UAAW,CACTH,YAAaT,EAAMU,QAAQnK,MAAMwd,OAIrCC,aAAc,CACZxU,OAAQ,eAGVwC,WAAY,CACVxC,OAAQ,gBACRC,QAASO,EAAMG,QAAQ,IAGzB8B,wBAAyB,CACvBzC,OAAQ,cACRC,QAASO,EAAMG,QAAQ,GACvB2B,UAAW,SACX,aAAc,IAGhBmS,OAAQ,CACN/T,YAAaF,EAAMG,QAAQ,GAC3BX,OAAQ,EACRZ,aAAc,MACd6B,YAAaT,EAAMU,QAAQlD,OAAOmD,SAClCH,YAAa,QACbV,gBAAiB,UACjBvB,MAAO,OACPC,OAAQ,OACRJ,SAAU,YAEZ8V,QAAS,CACP9V,SAAU,WACVC,IAAK,MACLC,KAAM,MACNQ,UAAW,uBACXuB,MAAO,WAGTmC,OAAQ,CACNF,OAAQtC,EAAMG,QAAQ,GACtBvB,aAAc,MACdkB,gBAAiB,UACjBO,MAAO,UACPJ,cAAe,OACf1B,MAAO,MACPqC,UAAW,YCwMAuT,GAhRO,SAAC,GAShB,IAAD,EARJ3W,EAQI,EARJA,OACA4W,EAOI,EAPJA,WACAlB,EAMI,EANJA,SACAC,EAKI,EALJA,MACAvD,EAII,EAJJA,OACAR,EAGI,EAHJA,QACAU,EAEI,EAFJA,SACAuE,EACI,EADJA,YAEMC,EAAQC,mBAAQ,iBAAM,CAAC,cAAe,cAAe,YAAa,cAAa,IADjF,EAEgC5Z,oBAAS,GAFzC,mBAEG6Z,EAFH,KAEeC,EAFf,OAG4B9Z,mBAAS,MAHrC,mBAGG+Z,EAHH,KAGaC,EAHb,OAIsCha,mBAAS,IAJ/C,mBAIGmP,EAJH,KAIkB8K,EAJlB,KAKIxY,EAASE,KAATF,KACArH,EAAMgG,cAANhG,EACF8f,EAAehB,KACfzU,EAAM0U,KAEZ9Y,qBAAU,WACR4Z,EAAiB,IACjB1B,EAAS,CAAEpN,KAAM,eAAiB,CAAEgP,UAAU,IAC9C5B,EAAS,CAAEpN,KAAM,YACjBoN,EAAS,CAAEpN,KAAM,gBACjBoN,EAAS,CAAEpN,KAAM,cACjBoN,EAAS,CAAEpN,KAAM,aACjBoN,EAAS,CAAEpN,KAAM,wBAChB,CAACoN,IAEJ,IAAM6B,EAAoB,SAAArN,GACxB+M,GAAeD,GACfG,EAAYjN,IAqBd,OACE,kBAACxD,GAAA,EAAD,CAAM3E,WAAS,GACb,kBAAC,GAAD,CACEvG,KAAMwb,EACNpH,YAAa2H,EACb1H,mBAfqB,SAAA5F,GACzBmN,GAAiB,SAAA1Z,GAAS,kCAAUA,GAAV,kBAAsBwZ,EAAWjN,OAC3DqI,EAAS4E,EAAUjN,EAAKnC,WAAWqC,eACnC0M,EAAYK,IAaR5K,cAAeA,EACfpC,KAAMgN,IAER,kBAACxQ,GAAA,EAAD,CAAMrD,MAAI,EAACsD,GAAI,IACb,kBAAC,GAAD,CACEG,MAEMvP,EADW,WAAfqf,EACM,mCACA,wCAGR,kBAAC,GAAD,CACEtO,KAAK,QACLkJ,YAEMja,EADW,WAAfqf,EACM,8CACA,kDAERlB,SAAUA,EAAS,CACjB4B,SAAU,CACRvZ,OAAO,EACP/E,QAASzB,EAAE,wBAEbigB,UAAW,CACTzZ,MAAO,IACP/E,QAASzB,EAAE,uBAAwB,CAAEigB,UAAW,SAGpD7B,MAAOA,EACPrD,SAAUA,EACVF,OAAQA,EACRyD,qBAAmB,EACnBC,gBAAiB,QAIvB,kBAACpP,GAAA,EAAD,CAAMrD,MAAI,EAACsD,GAAI,IACb,kBAAC,GAAD,CAAWG,MAAOvP,EAAE,0CAClB,kBAAC,GAAD,CACE+Q,KAAK,cACLkJ,YAAaja,EAAE,oDACfme,SAAUA,EAAS,CACjB4B,SAAU,CACRvZ,OAAO,EACP/E,QAASzB,EAAE,wBAEbigB,UAAW,CACTzZ,MAAO,IACP/E,QAASzB,EAAE,uBAAwB,CAAEigB,UAAW,SAGpD7B,MAAOA,EACPrD,SAAUA,EACVF,OAAQA,EACR2D,WAAS,EACTC,KAAM,EACNC,QAAS,GACTJ,qBAAmB,EACnBC,gBAAiB,QAIvB,kBAACpP,GAAA,EAAD,CAAMrD,MAAI,EAACsD,GAAI,IACb,kBAACH,EAAA,EAAD,CACE7F,QAAQ,OACR6E,cAAc,MACdC,SAAS,SACTC,eAAe,gBACf+R,aAAa,aACbzW,OAAO,SAEP,kBAACwF,EAAA,EAAD,CAAK5C,aAAc,EAAG5C,OAAQ,EAAGD,MAAO,IACtC,kBAAC,GAAD,CAAW+F,MAAOvP,EAAE,kCAClB,kBAACiP,EAAA,EAAD,CAAKxE,OAAQ,GACX,kBAAC,GAAD,CACE4P,QAASA,EACTtJ,KAAK,UACLgK,SAAUA,EACVC,aAAY,UAAE3T,EAAK8Y,iBAAP,QAAoB,IAAIrE,KACpChB,OAAO,eACPF,MAAO,CACLmF,SAAU,CACRvZ,OAAO,EACP/E,QAASzB,EAAE,yBAGf6a,OAAQA,EACRI,QAASrE,aAAIvP,EAAK8Y,UAAW,CAAEC,KAAM,IACrClF,QAAwB,WAAfmE,EAA0BhY,EAAKgZ,QAAU5X,EAAO4X,QACzDlF,mBAAoBnb,EAAE,iCAMd,WAAfqf,EACC,kBAACpQ,EAAA,EAAD,CAAKxE,OAAQ,EAAGhB,OAAQ,EAAGD,MAAO,IAChC,kBAAC,GAAD,CACE+F,MAAOvP,EAAE,wCACTuc,cAAe,CACbhN,MAAOvP,EAAE,0CACTsd,YAAatd,EAAE,kDAGjB,kBAACiP,EAAA,EAAD,CAAKxE,OAAQ,GACX,kBAAC,GAAD,CACE6P,MAAOta,EAAE,uCACT6d,GAAI7d,EAAE,iCACN8d,IAAK9d,EAAE,gCACPsb,SAvHS,SAAA9U,GACzBuU,EAAS,oBAAqBvU,SA2HpB,OAGR,kBAAC2I,GAAA,EAAD,CAAMrD,MAAI,EAACsD,GAAI,IACZmQ,EAAMxQ,KAAI,SAAA4D,GAAI,eACb,kBAACxD,GAAA,EAAD,CAAMzG,IAAKiK,EAAM7G,MAAI,EAACsD,GAAI,GAAIC,QAASyQ,GACrC,kBAAC,GAAD,CAAWvQ,MAAOvP,EAAE,6BAAD,OAA8B2S,KAC/C,kBAAC1D,EAAA,EAAD,CAAK3E,UAAWD,EAAI4U,cAClB,kBAAChQ,EAAA,EAAD,CACE3E,UAAS,UAAKD,EAAIuC,UAAT,YAAsBiO,EAAOlI,GAAQ,QAAU,IACxD5F,UAAU,OACVkP,EAAG,EACH7S,QAAQ,OACR6E,cAAc,MACdC,SAAS,SACTC,eAAe,aACf+R,aAAa,aACb9R,WAAW,UAEX,kBAACa,EAAA,EAAD,CAAK9D,YAAa,GACdiT,EAAMzL,GAUN,kBAAC4E,GAAA,EAAD,CACEjN,UAAWD,EAAIiW,OACfC,IAAG,UAAExL,EAAcpC,UAAhB,aAAE,EAAqBjC,UAC1B8P,KAAK,UAAAzL,EAAcpC,UAAd,eAAqB8N,QAAS,GACnC7X,QAAS,kBAAMoX,EAAkBrN,MAbnC,kBAAChK,GAAA,EAAD,CACEyE,SAAS,QACT9C,UAAWD,EAAI6U,OACftW,QAAS,kBAAMoX,EAAkBrN,IACjC+N,eAAa,GAEb,kBAAC,KAAD,CAASpW,UAAWD,EAAI8U,YAW9B,kBAAClQ,EAAA,EAAD,CAAK0R,SAAU,GACXvC,EAAMzL,GACN,kBAACrD,GAAA,EAAD,CAAY9G,QAAQ,QAAQ8C,MAAM,eAAlC,UACMyJ,EAAcpC,GAAMjC,UAD1B,YACuCqE,EAAcpC,GAAMhC,WAF7C,KAKhB,kBAACrB,GAAA,EAAD,CAAY9G,QAAQ,QAAQ8C,MAAM,iBAC9B8S,EAAMzL,GAEJoC,EAAcpC,GAAMA,KADpB3S,EAAE,0CAIToe,EAAMzL,GACL,kBAAC1D,EAAA,EAAD,KACE,kBAACtG,GAAA,EAAD,CACEyE,SAAS,QACTxE,QAAS,kBAAMoX,EAAkBrN,IACjC+N,eAAa,GAEb,kBAAC,KAAD,CAAYpW,UAAWD,EAAI8U,WAEnB,gBAATxM,EACC,kBAAChK,GAAA,EAAD,CACEyE,SAAS,QACTxE,QAAS,kBAxMR,SAAA+J,GACvBoI,EAASpI,OAAM5J,GACf6W,EAAYjN,GACZ,IAAMiO,EAAQ,eAAQ7L,UACf6L,EAASjO,GAChBkN,EAAiBe,GAmMoBC,CAAiBlO,IAChC+N,eAAa,GAEb,kBAAC,KAAD,CAAYpW,UAAWD,EAAI8U,WAE3B,MAEJ,OAGPtE,EAAOlI,GACN,kBAAC1D,EAAA,EAAD,CAAK9B,UAAU,MAAMO,WAAW,QAC9B,kBAAC4B,GAAA,EAAD,CAAY9G,QAAQ,UAAU8C,MAAM,QAAQwV,MAAM,QAC/C9gB,EAAE,yBAGL,aCxPZ+gB,GAAa,CACjBxR,MAAO,SACP+N,YAAa,GACb6C,UAAW,KACXa,mBAAmB,EACnBC,YAAa,KACbC,YAAa,KACbC,UAAW,KACXC,SAAU,KACV5R,WAAY,IAGR6R,GAAS,CACb,QACA,cACA,UACA,cACA,cACA,YACA,YA4OaC,GAzOC,SAAC,GAA6B,IAA3BC,EAA0B,EAA1BA,SAAUC,EAAgB,EAAhBA,UAAgB,EACK5b,oBAAS,GADd,mBACpC6b,EADoC,KAClBC,EADkB,OAEW9b,oBAAS,GAFpB,mBAEpC+b,EAFoC,KAEfC,EAFe,OAGbhc,mBAAS,IAHI,mBAGpCoC,EAHoC,KAG3B6Z,EAH2B,OAIPjc,mBAAS,MAJF,mBAIpCyZ,EAJoC,KAIxByC,EAJwB,OAKLlc,mBAAS,GALJ,mBAKpCmc,EALoC,KAKvBC,EALuB,OAMVza,KAAzBF,EANmC,EAMnCA,KAAMU,EAN6B,EAM7BA,eAN6B,EAiBvCka,aAAQ,CACVC,KAAM,WACNC,eAAgB,SAChBC,cAAe,CAAErB,iBAZjB5C,EARyC,EAQzCA,SACAkE,EATyC,EASzCA,aACAxH,EAVyC,EAUzCA,OACAuD,EAXyC,EAWzCA,MACA/D,EAZyC,EAYzCA,QACAU,EAbyC,EAazCA,SACAuH,EAdyC,EAczCA,QACAhD,EAfyC,EAezCA,YACAiD,EAhByC,EAgBzCA,MAOIlY,EAAMkB,KACJvL,EAAMgG,cAANhG,EAEFiZ,EAAoB,SAAAF,GACxB,IAAM/B,EAAM3B,mBAIZ,OAHApP,qBAAU,WACR+Q,EAAIgC,QAAUD,KAET/B,EAAIgC,SAGPwJ,EAAWvJ,EAAkBmF,EAAMiD,KACnCoB,EAAgBxJ,EAAkBoG,GAElCqD,EAAoB,uCAAG,4BAAAjgB,EAAA,2DACvBuF,EAAQuR,OAASxR,EAAewR,QAAyB,cAAf8F,GADnB,gCAEnBiD,EAAQjB,IAFW,OAIvBjG,kBAAQP,KACJ8H,EAAaC,oBAAU5a,GAC7B8Z,EAAc,UACda,EAAW1M,KAAX,eAAqB8K,KACrBc,EAAWc,GACP3a,EAAQuR,QACVgJ,EAAMlB,IAERtG,EAAS,UAAWnE,aAAIvP,EAAK8Y,UAAW,CAAEC,KAAM,MAZvB,2CAAH,qDAgBpByC,EAAuB,uCAAG,WAAOjT,EAAMZ,GAAb,iBAAAvM,EAAA,sEACxB6f,EAAQjB,IADgB,OAE1BjG,kBAAQP,KACJ8H,EAAaC,oBAAU5a,GAC7Bga,EAAehT,GACfuT,EAAMlB,IACNS,EAAclS,IACRkT,EALa,eAKQC,eAAK,eAAKhC,IAAc,aAAc,uBACnDxR,MAAQ,cACtBoT,EAAW3T,GAAOQ,WAAWyG,KAA7B,2BAAuC6M,GAAvC,IAAsDzC,QAASrY,EAAQgH,GAAOqR,WAC9EwB,EAAWc,GACXf,GAAuB,GACvB7G,EAAS,UAAW/S,EAAQgH,GAAOqR,UAZP,2CAAH,wDAgB7Bpa,qBAAU,WACJ8B,EAAewR,QACjBsI,EAAW9Z,KAEZ,CAACA,IAEJ9B,qBAAU,WACR,GAAIuc,GAAYC,IAAkBpD,EAAY,CAC5C,IAAM2D,EAAS5E,EAAMiD,IACf4B,EAAexjB,OAAOC,KAAKsjB,GAAQ5M,QAAO,SAAA1N,GAAG,OAAIsa,EAAOta,KAAS8Z,EAAS9Z,MAChF,GAAIua,EAAa1J,OAAQ,CACvB,IAAMoJ,EAAaC,oBAAU5a,GACvBgH,EAAQ2T,EAAWpJ,OAAS,EAC5B2J,EAAgBD,EAAarjB,QAAO,SAACC,EAAK6I,GAE9C,OADA7I,EAAI6I,GAAOsa,EAAOta,GACX7I,IACN,IACH,IAAKub,kBAAQ8H,GAAgB,CAC3B,GAAmB,WAAf7D,EACFsD,EAAW3T,GAAX,2BAAyB2T,EAAW3T,IAAWkU,QAC1C,GAAmB,cAAf7D,EAA4B,CACrC,IAAM8D,EAAiBR,EAAW3T,GAAOQ,WAAW+J,OAAS,EAC7DoJ,EAAW3T,GAAOQ,WAAW2T,GAA7B,2BACKR,EAAW3T,GAAOQ,WAAW2T,IAC7BD,GAGPrB,EAAWc,GACXjB,GAAoB,GACpBE,GAAuB,QAI5B,CAACxD,EAAOoE,EAAUC,EAAepD,IAcpC,OAHKjE,kBAAQP,IACXhX,QAAQuf,MAAMvI,GAGd,kBAAC,KAAD,CAAyBwI,MAAOC,KAAcrjB,OAAQsjB,MACpD,0BAAMhC,SAAUc,GAdK,SAACmB,EAAMtK,GAC9B,GAAIkC,kBAAQP,GAAS,CACnB,IAAMzU,EAAO,2BAAQqd,eAAKD,EAAM,OAAQ,SAAU,WAArC,IAAgDxb,YAC7DuZ,EAASnb,EAAS8S,QAElBsI,EAAU,KAAM,OAUd,2BAAO5R,KAAK,SAASmB,KAAK,OAAO8K,aAAc,EAAG7E,IAAKmH,IACvD,2BAAOvO,KAAK,SAASmB,KAAK,SAAS8K,aAAa,OAAO7E,IAAKmH,IAC5D,2BAAOvO,KAAK,SAASmB,KAAK,SAAS8K,aAAa,SAAS7E,IAAKmH,IAC9D,kBAAClP,EAAA,EAAD,CAAK3E,UAAWD,EAAImB,SAClB,kBAAC2D,GAAA,EAAD,CAAM3E,WAAS,EAACF,UAAWD,EAAIqC,cAAetB,QAAS,GACrD,kBAAC+D,GAAA,EAAD,CAAMrD,MAAI,EAACsD,GAAI,EAAGC,QAAS,CAAEvD,KAAMzB,EAAIyB,OACrC,kBAACmD,EAAA,EAAD,CAAK3E,UAAWD,EAAIuC,WAClB,kBAAC+C,GAAA,EAAD,CACEnH,QAAQ,YACRoH,KAAK,SACLtF,UAAWD,EAAIgD,gBACfwC,UAAW,kBAAC,KAAD,MACXjH,QAAS,kBAAM8Z,EAAqB,QACpC9W,SAAU6V,EACVf,eAAa,GAEb,kBAACpR,GAAA,EAAD,CAAY9G,QAAQ,QAAQ8C,MAAM,iBAC/BtL,EAAE,oCAIRgI,EAAQuR,OAAS,EAChB,kBAACmK,EAAA,EAAD,CAAWC,OAAK,EAACC,gBAAc,EAACtZ,UAAWD,EAAI8B,eAC7C,kBAACuX,EAAA,EAAD,CAAWC,OAAK,EAACC,gBAAc,EAACtZ,UAAWD,EAAIiC,qBAC7C,kBAAC2C,EAAA,EAAD,CAAK3E,UAAS,UAAKD,EAAIuC,UAAT,YAAsBvC,EAAI2C,gBACtC,kBAACiC,EAAA,EAAD,CAAK3E,UAAWD,EAAI4C,YAClB,kBAAC,GAAD,CACEjF,QAASA,EACT6G,kBAAmBgU,EACnB/T,eAAgB6S,QAMxB,MAEN,kBAACxS,GAAA,EAAD,CAAMrD,MAAI,EAACsD,GAAI,EAAGC,QAAS,CAAEvD,KAAMzB,EAAIyB,OACpC9D,EAAQuR,QAAU,EACjB,kBAACtK,EAAA,EAAD,CAAK3E,UAAWD,EAAI6C,yBAClB,kBAAC+B,EAAA,EAAD,CAAK3E,UAAU,WACb,kBAAC,KAAD,OAEF,kBAAC2E,EAAA,EAAD,KACE,kBAACK,GAAA,EAAD,CAAY9G,QAAQ,QAAQ8C,MAAM,eAC/BtL,EAAE,6CAGP,kBAACiP,EAAA,EAAD,KACE,kBAACK,GAAA,EAAD,CAAY9G,QAAQ,QAAQ8C,MAAM,iBAChC,kBAAC,IAAD,CAAOtL,EAAGA,EAAG6jB,QAAQ,sDAClB,CAAC,0BAAMnb,IAAK,EAAG4B,UAAWD,EAAIsD,iBAMvC,kBAAC+V,EAAA,EAAD,CAAWC,OAAK,EAACC,gBAAc,EAACtZ,UAAWD,EAAI8B,eAC7C,kBAACuX,EAAA,EAAD,CAAWC,OAAK,EAACC,gBAAc,EAACtZ,UAAWD,EAAIiC,qBAC7C,kBAAC2C,EAAA,EAAD,CAAKgN,EAAG,EAAG3R,UAAWD,EAAII,QACxB,kBAAC,GAAD,CACEhC,OAAQT,EAAQ+Z,GAChB1C,WAAU,OAAEA,QAAF,IAAEA,IAAc,SAC1BlB,SAAUA,EACV9D,QAASA,EACT+D,MAAOA,EACPvD,OAAQA,EACRE,SAAUA,EACVuE,YAAaA,SAQ3B,kBAACrQ,EAAA,EAAD,CAAKgN,EAAG,EAAGxR,OAAQ,EAAGsC,UAAU,SAASzC,UAAWD,EAAIiD,YACtD,kBAACqC,GAAA,EAAD,CACEqC,KAAK,QACLpC,KAAK,SACLhH,QAAS,SAAAkb,GAAG,OAAItC,EAAUsC,EAAK,IAC/BjU,UAAW,kBAAC,KAAD,MACXrH,QAAQ,WACR8B,UAAWD,EAAIoD,OACfiT,eAAa,GAEb,kBAACpR,GAAA,EAAD,CAAY9G,QAAQ,QAAQ8C,MAAM,iBAC/BtL,EAAE,wCAGP,kBAAC2P,GAAA,EAAD,CACEqC,KAAK,QACLpC,KAAK,SACLmU,QAAS,kBAAC,KAAD,MACTvb,QAAQ,WACR8B,UAAWD,EAAIoD,OACfiT,eAAa,GAEb,kBAACpR,GAAA,EAAD,CAAY9G,QAAQ,QAAQ8C,MAAM,iBAC/BtL,EAAE,yC,oBCzFJgkB,GAzJW,WAAO,IAAD,EACJ3iB,qBAAWU,GADP,mBACvBT,EADuB,KAChBC,EADgB,OAEgB8Q,KAAtCC,EAFsB,EAEtBA,OAAQU,EAFc,EAEdA,SAAUC,EAFI,EAEJA,gBAClBpM,EAAeW,KAAfX,WACA7G,EAAMgG,cAANhG,EACA0F,EAA0BpE,EAA1BoE,sBACA2B,EAASE,KAATF,KANsB,EAOGjG,IAAzBQ,EAPsB,EAOtBA,SAAUE,EAPY,EAOZA,WAEZmiB,EAAc,uCAAG,WAAOC,EAAUC,EAAajf,GAA9B,uBAAAzC,EAAA,6DACfF,EADe,UACNmD,EADM,YACmBwe,GAClCzf,EAAO,CAAE+e,KAAMW,EAAalf,YAAaoC,EAAKO,GAAI1C,iBAFnC,SAKnB2B,GAAW,GALQ,SAMIrC,EAAkBjC,EAAKkC,GAN3B,kBAON2B,QAAQwB,GAPF,kCAQE5C,EAAiBU,EAAuB2B,EAAKO,GAAI1C,GARnD,QAQXpC,EARW,OAST+C,EAAgB/C,EAAKsD,QAArBP,YACFpE,EACJzB,EAAE,4BACDsB,EAAMyE,iBAAiBqe,OAASlf,EAAgB,WAAa,IAChE3D,GAAS,SAAAI,GAAI,kCACRA,GADQ,IAEXkE,cACApE,eAEFK,EAAWL,GAlBM,0DAqBnBF,EAAS,2BAAKD,GAAN,IAAaE,MAAOxB,EAAE,qBAAsByB,QAAS,QAC7DG,EAAS5B,EAAE,sBAtBQ,yBAwBnB6G,GAAW,GAxBQ,6EAAH,0DA4Bdwd,EAAuB,uCAAG,WAAOC,EAAepf,GAAtB,SAAAzC,EAAA,sDAC9BwhB,EjCrDyB,YiCqDKK,EAAepf,GADf,2CAAH,wDAIvBqf,EAAmB,uCAAG,WAAOC,EAAgBtf,GAAvB,SAAAzC,EAAA,sDAC1BwhB,EjCxDqB,QiCwDK,CAAEQ,MAAOD,GAAkBtf,GAD3B,2CAAH,wDAInBwf,EAAgB,uCAAG,WAAO3f,EAAcG,GAArB,mBAAAzC,EAAA,sEAErBoE,GAAW,GAFU,SAGEhC,EAAoBa,EAAuBX,GAH7C,kBAIRqB,QAAQwB,GAJA,iCAKA5C,EAAiBU,EAAuB2B,EAAKO,GAAI1C,GALjD,OAKbpC,EALa,OAMX+C,EAAgB/C,EAAKsD,QAArBP,YACFpE,EACJzB,EAAE,8BACDsB,EAAMyE,iBAAiBqe,OAASlf,EAAgB,YAAc,IACjE3D,GAAS,SAAAI,GAAI,kCACRA,GADQ,IAEXkE,cACApE,eAEFK,EAAWL,GAfQ,0DAkBrBF,EAAS,2BAAKD,GAAN,IAAaE,MAAOxB,EAAE,qBAAsByB,QAAS,QAC7DG,EAAS5B,EAAE,sBAnBU,yBAqBrB6G,GAAW,GArBU,6EAAH,wDAyBhB8d,EAAkB,SAACC,EAAGC,GAC1B,IAAIC,EAAY,eAKc,IAH5BF,EACGG,WACAhhB,cACAihB,QAAQ,YAEXF,EAAY,gBAKmB,IAH/BF,EACGG,WACAhhB,cACAihB,QAAQ,eAEXF,EAAY,cAK2B,IAHvCF,EACGG,WACAhhB,cACAihB,QAAQ,uBAEXF,EAAY,2BAKiB,IAH7BF,EACGG,WACAhhB,cACAihB,QAAQ,eAEXF,EAAS,eAAWD,IAEtB,IAAMI,EAAejlB,EAAE,SAAD,OAAU8kB,IAC7BI,QAAQ,aAAclS,GACtBkS,QAAQ,oBAAqBjS,GAChC1R,EAAS,2BAAKD,GAAN,IAAaE,MAAOyjB,EAAcxjB,QAAS,QACnDG,EAASqjB,IAGLE,EAAqB,uCAAG,WAAM/f,GAAN,iBAAA3C,EAAA,sEAE1BoE,GAAW,GACLue,EAHoB,2BAGNhgB,GAHM,IAGUigB,GAAI/S,EAAQU,aAHtB,SAIP7N,EAAyBO,EAAuB0f,GAJzC,cAIpBtiB,EAJoB,yBAKnBA,EAAKsD,QAAQqe,OALM,uCAO1BE,EAAgB,EAAD,GAAI,UAPO,kBAQnB,IARmB,yBAU1B9d,GAAW,GAVe,4EAAH,sDAcrBye,EAAuB,uCAAG,WAAO1d,EAAImJ,EAAM3N,GAAjB,eAAAX,EAAA,sEAE5BoE,GAAW,GACLvB,EAAc,CAAEsC,KAAImJ,OAAMsU,GAAI/S,EAAQU,YAHhB,SAItB3N,GAAqBK,EAAuBJ,EAAalC,GAJnC,uDAM5BuhB,EAAgB,EAAD,GAAI,YANS,yBAQ5B9d,GAAW,GARiB,4EAAH,0DAgB7B,MAAO,CACLhB,YAAavE,EAAMuE,YACnBwe,0BACAE,sBACAY,wBACAT,mBACAY,0BACA9jB,MAAOF,EAAME,MACbC,QAASH,EAAMG,QACfC,WAbiB,kBAAMH,GAAS,SAAAI,GAAI,kCAAUA,GAAV,IAAgBH,MAAO,WAc3DK,aAZmB,kBAAMN,GAAS,SAAAI,GAAI,kCAAUA,GAAV,IAAgBF,QAAS,WAa/DqE,UAAWxE,EAAMwE,UACjBC,iBAAkBzE,EAAMyE,mB,UC9Jbwf,GAPetc,aAAW,CACvC0E,UAAW,CACTrC,MAAO,UACPsC,WAAY,OCqCD4X,GApCU,SAAC,GAAuB,IAArB3c,EAAoB,EAApBA,QAAS5E,EAAW,EAAXA,KAC7BwhB,EAAsB,SAAAjf,GAC1BqC,EAAQrC,IAGFxG,EAAMgG,cAANhG,EACFqK,EAAMkb,KAEZ,OACE,kBAAC/L,GAAA,EAAD,CAAQ3Q,QAASA,EAAS+Q,kBAAgB,2BAA2B3V,KAAMA,GACzE,kBAAC6S,GAAA,EAAD,KACE,kBAACM,GAAA,EAAD,CAAU3J,QAAM,EAAC7E,QAAS,kBAAM6c,EAAoB,SAAS/c,IAAI,QAC/D,kBAAC8O,GAAA,EAAD,KACE,kBAAC,IAAD,CAAOxX,EAAGA,EAAG6jB,QAAQ,qCAClB,CAAC,0BAAMnb,IAAK,EAAG4B,UAAWD,EAAIsD,gBAIrC,kBAAC+X,GAAA,EAAD,MACA,kBAACtO,GAAA,EAAD,CAAU3J,QAAM,EAAC7E,QAAS,kBAAM6c,EAAoB,YAAY/c,IAAI,WAClE,kBAAC8O,GAAA,EAAD,KACE,kBAAC,IAAD,CAAOxX,EAAGA,EAAG6jB,QAAQ,wCAClB,CAAC,0BAAMnb,IAAK,EAAG4B,UAAWD,EAAIsD,mB,yCCE9BgY,GA5BK1c,cAAW,SAAAgC,GAAK,MAAK,CACvC2a,YAAa,CACX7a,gBAAiB,UACjB,QAAS,CACPtB,OAAQ,OACRgB,OAAQ,EACRgB,YAAa,QACbC,YAAaT,EAAMU,QAAQlD,OAAOmD,UAEpC,WAAY,CACVS,aAAc,CAAC,GAAI,cACnBf,MAAOL,EAAMU,QAAQka,KAAKpO,SAE5B,kBAAmB,CACjBnM,MAAOL,EAAMU,QAAQka,KAAKpO,SAE5B,8BAA+B,CAC7BnM,MAAOL,EAAMU,QAAQka,KAAKja,UAE5B,iBAAkB,CAChBb,gBAAiB,eAEnB,aAAc,CACZN,OAAQ,QClBRqb,GAAc,SAAC,GAAoE,IAAD,EAAjE3H,EAAiE,EAAjEA,SAAUpN,EAAuD,EAAvDA,KAAMvO,EAAiD,EAAjDA,QAASujB,EAAwC,EAAxCA,YAAalL,EAA2B,EAA3BA,OAAQG,EAAmB,EAAnBA,aAAmB,EAC5DpV,mBAAS,IADmD,mBAC/EY,EAD+E,KACxEuU,EADwE,KAEhF1Q,EAAMsb,KACNK,EAAe,SAAA9M,GACnB6B,EAAS7B,EAAMC,OAAO3S,QAQxB,OANAP,qBAAU,WACJ+U,GACFgL,EAAa,CAAE7M,OAAQ,CAAE3S,MAAOwU,OAEjC,CAACA,IAGF,kBAACgD,GAAA,EAAD,CACExV,QAAQ,WACR8B,UAAWD,EAAIub,YACfnM,WAAS,EACTjY,OAAQ4Z,kBAAQP,EAAO9J,KAEvB,kBAACkV,GAAA,EAAD,CAAQC,QAAM,EAAC1f,MAAOA,EAAO8U,SAAU0K,EAAcxK,SAAU2C,EAAUpN,KAAMA,GAC7E,4BAAQvK,MAAM,GAAGoF,UAAQ,GACtBma,GAEFvjB,EAAQuM,KAAI,SAAAsH,GAAC,OACZ,4BAAQ3N,IAAK2N,EAAEzO,GAAIpB,MAAO6P,EAAEzO,IACzByO,EAAE7P,WAIT,kBAACqY,GAAA,EAAD,CAAgBjX,GAAG,kCAAnB,UAAqDiT,EAAO9J,UAA5D,aAAqD,EAActP,WAczEqkB,GAAY5e,aAAe,CACzB8T,aAAc,IAGD8K,U,oBCyHAK,GA5KSld,cAAW,SAAAgC,GAAK,MAAK,CAC3CoI,OAAQ,CACN,qBAAsB,CACpBxH,UAAW,IACXxC,SAAU,WACVC,IAAK,QAITiK,YAAa,CACXxG,UAAW,UAGbqZ,UAAW,CACT/c,SAAU,WACVqB,QAASO,EAAMG,QAAQ,GACvBX,OAAQ,EACRgB,YAAa,QACbC,YAAagI,KAAK,KAClB7H,UAAW,IACXhC,aAAc,EACdwc,QAAS,OACT,kCAAmC,CACjC5b,OAAQ,EACRgB,YAAa,QACbC,YAAa,UACbrC,SAAU,WACVmE,QAAS,GACThE,MAAO,IACPuB,gBAAiB,UACjBlB,aAAc,EACdwc,QAAS,OACT3b,QAAS,GAEX,gBAAiB,CACfb,aAAc,GAEhB,8BAA+B,CAC7BA,aAAc,EACdwc,QAAS,QAEX,4BAA6B,CAC3Bxc,aAAc,GAEhB,iCAAkC,CAChCyc,uBAAwB,EACxBC,wBAAyB,IAI7B/S,YAAa,CACXnK,SAAU,WACVoK,MAAOxI,EAAMG,QAAQ,GACrB9B,IAAK2B,EAAMG,QAAQ,GACnBE,MAAOL,EAAMU,QAAQ+H,KAAK,MAG5BM,WAAY,CACVtJ,QAASO,EAAMG,QAAQ,IAGzBob,eAAgB,CACdhY,WAAY,GACZiY,cAAe,GACflY,YAAa,GACblC,aAAc,IAGhBiI,UAAW,CACTzJ,aAAc,EACdgC,kBAAmB,QACnBC,kBAAmB7B,EAAMU,QAAQlD,OAAOmD,SACxCG,UAAW,EACXwI,eAAgB,QAChBC,eAAgBvJ,EAAMU,QAAQlD,OAAOmD,UAGvC+I,cAAe,GAEf+R,aAAc,CACZnZ,OAAQ,CAAC,CAACtC,EAAMG,QAAQ,GAAI,IAC5BF,cAAe,OACfW,UAAW,OACXrC,MAAO,OACPuB,gBAAiB,UACjBO,MAAO,OACP,UAAW,CACTP,gBAAiB,YAIrB0C,OAAQ,CACN1C,gBAAiB,UACjBO,MAAO,OACPiC,OAAQtC,EAAMG,QAAQ,GACtBF,cAAe,OACfW,UAAW,OACX+I,SAAU,QACV,aAAc,CACZ7J,gBAAiB,WAEnB,UAAW,CACTA,gBAAiB2I,KAAK,OAI1BmB,YAAa,CACX9J,gBAAiB,UACjBO,MAAO,OACPiC,OAAQtC,EAAMG,QAAQ,GACtBF,cAAe,OACfW,UAAW,OACX+I,SAAU,QACV,aAAc,CACZ7J,gBAAiB,WAEnB,UAAW,CACTA,gBAAiB,YAIrB4C,UAAW,CACTrC,MAAO,UACPsC,WAAY,KAGd+Y,cAAe,CACb5b,gBAAiB,UACjB3B,QAAS,OACT8E,SAAU,SACVC,eAAgB,SAChB1E,OAAQ,GACRI,aAAc,EACduE,WAAY,UAGdwY,UAAW,CACTtb,MAAO,MACPZ,QAASO,EAAMG,QAAQ,IAEzByb,gBAAiB,CACfpc,OAAQ,EACRgB,YAAa,QACbC,YAAaT,EAAMU,QAAQlD,OAAOmD,SAClC/B,aAAc,EACda,QAAS,QACT6D,YAAa,OACbhB,OAAQ,QACRjC,MAAO,WAETwb,mBAAoB,CAClB1d,QAAS,OACT6E,cAAe,MACfC,SAAU,SACVE,WAAY,SACZD,eAAgB,gBAChB,iBAAkB,CAChB7C,MAAO,YAGXyb,KAAM,CACJC,eAAgB,OAChB1b,MAAO,uBAGT2b,UAAW,CACT,UAAW,CACT/b,cAAe,kBCrKNgc,GALG,CAChBC,eAAgB,KAChBC,uBAAwB,OC0BpBrP,GAAiB,SAAAC,GAAK,OAC1B,kBAAC,KAAD,CAAWC,OAAO,0BAA0BC,OAAQ,oCAElD,kBAACC,EAAA,EAAUH,KAITqP,GAAa,SAAC,GAAsC,IAApCxe,EAAmC,EAAnCA,QAAS5E,EAA0B,EAA1BA,KAAMiB,EAAoB,EAApBA,cAC7BoiB,GAAmB,IAAIxL,MAAOyL,cAC9Bld,EAAM8b,KACJnmB,EAAMgG,cAANhG,EAH+C,EAIX4F,oBAAS,GAJE,mBAIhD4hB,EAJgD,KAIhCC,EAJgC,OASnDzD,KAHFmB,EANqD,EAMrDA,sBACAZ,EAPqD,EAOrDA,oBACAe,EARqD,EAQrDA,wBARqD,EAUnB1f,mBAAS,MAVU,mBAUhD8hB,EAVgD,KAUpCC,EAVoC,OAWP/hB,mBAAS,IAAIuQ,KAXN,mBAWhDyR,EAXgD,KAW9BC,EAX8B,OAYjBjiB,oBAAS,GAZQ,mBAYhDkiB,EAZgD,KAYnCC,EAZmC,OAcgB9F,aAAQ,CAC7EC,KAAM,QADA/D,EAd+C,EAc/CA,SAAUkE,EAdqC,EAcrCA,aAAcxH,EAduB,EAcvBA,OAAQE,EAde,EAcfA,SAAUqD,EAdK,EAcLA,MAAO4J,EAdF,EAcEA,UAInDC,EAAoB,WACxBN,EAAc,MACdE,EAAoB,IAAI1R,KACxB4R,GAAe,GACflf,KAEIqf,EAAU,uCAAG,4BAAAzlB,EAAA,6DACX+hB,EAAiB,GACvB2D,MAAMle,KAAK2d,GAAkBQ,SAAQ,SAAApZ,GAAK,OAAIwV,EAAevO,KAAKyR,EAAW1Y,OAF5D,SAGXuV,EAAoBC,EAAgBtf,GAHzB,OAIjB+iB,IAJiB,2CAAH,qDAOV1G,EAAQ,uCAAG,WAAOiC,EAAMM,GAAb,iBAAArhB,EAAA,yDACfqhB,EAAIuE,iBACJvE,EAAIwE,mBACAN,EAAUO,aAHC,iEAOUpD,EAAsB,2BAC1C3B,GADyC,IAE5CgF,SAAQ,UAAEC,OAAOjF,EAAKgF,iBAAd,aAAE,EAAuB5V,iBATpB,OAOT8U,EAPS,OAWfC,EAAcD,GAXC,2CAAH,wDAyBdzhB,qBAAU,WACR,IAAKmV,kBAAQgD,KAAU,CACrB,IAAMsK,EAAQjpB,OAAOC,KAAK0e,KAAShI,QAAO,SAAA1N,GAAG,MAAmB,KAAf0V,EAAM1V,MACvD+e,EAAmC,IAAjBiB,EAAMnP,WAEzB,CAAC6E,IAEJ,IAAMuK,EAA4BC,uBAAY,WAC5C,OAAOT,MAAMb,EAAmBJ,GAAUC,eAAiB,GACxD0B,OACA9Z,KAAI,SAAC+Z,EAAGC,GAAJ,OAAY7B,GAAUC,eAAiB4B,KAC3Cha,KAAI,SAAAoO,GACH,MAAO,CAAEvV,GAAIuV,EAAS3W,MAAO2W,QAEhC,IAEG6L,EAAiB,SAACld,EAAMkD,GAC5B,OACE,kBAACC,EAAA,EAAD,CACE3E,UAAWD,EAAIwc,gBACf9Z,UAAU,OACV3D,QAAQ,OACR6E,cAAc,MACdC,SAAS,SACTC,eAAe,gBACfC,WAAW,SACX8R,aAAa,aACbxX,IAAKsG,EAAQlD,EAAKiF,MAElB,kBAACzB,GAAA,EAAD,CACEC,MAAK,kBAAazD,EAAKiF,MACvBkY,UAAU,MACVzgB,QAAQ,YACR0gB,QAAM,EACN9O,MAAO,CAAE+O,OAAQ,WACjBvgB,QAAS,kBAAM0c,EAAwBxZ,EAAKlE,GAAIkE,EAAKiF,MAAM,KAE1DjF,EAAKsd,WAGR,kBAAC9Z,GAAA,EAAD,CACE9G,QAAQ,QACR8C,MAAM,gBACNiE,MAAK,kBAAazD,EAAKiF,MACvBqJ,MAAO,CAAE+O,OAAQ,WACjBD,QAAM,EACNtgB,QAAS,kBAAM0c,EAAwBxZ,EAAKlE,GAAIkE,EAAKiF,MAAM,KAE1DjF,EAAKiF,MAGR,kBAAC9B,EAAA,EAAD,CAAK3E,UAAWD,EAAIyc,oBAClB,kBAAC,KAAD,CACE1M,MAAO,CAAEjP,YAAa,OAAQge,OAAQ,WACtCvgB,QAAS,kBAAM0c,EAAwBxZ,EAAKlE,GAAIkE,EAAKiF,MAAM,MAE7D,kBAACsY,GAAA,EAAD,CAAU/N,SAAU,SAAAsJ,GAAC,OAnER,SAAC5V,EAAO6I,GAC3B,IAAMyR,EAAS1B,EACX/P,EACFyR,EAAO1S,IAAI5H,GAEXsa,EAAOC,OAAOva,GAEhB6Y,EAAoByB,GACpBvB,EAA+B,IAAhBuB,EAAOtX,MA2DSwX,CAAaxa,EAAO4V,EAAEzL,OAAOtB,eAM9D,OACE,kBAAC2B,GAAA,EAAD,CACEC,WAAS,EACTC,SAAS,KACT7Q,QAASof,EACTrO,kBAAgB,cAChB3V,KAAMA,EACN0V,qBAAmB,EACnB5B,eAAgBA,IAEhB,kBAAC8B,GAAA,EAAD,CAAavP,UAAWD,EAAIkJ,YAAa3L,GAAG,oBAAoBiB,QAASof,GACvE,6BACE,kBAAC,IAAD,CAAOjoB,EAAGA,EAAG6jB,QAAQ,iDAClB,CAAC,0BAAMnb,IAAK,EAAG4B,UAAWD,EAAIsD,eAGnC,kBAAChF,GAAA,EAAD,CAAYmR,aAAW,QAAQxP,UAAWD,EAAImJ,YAAa5K,QAASqf,GAClE,kBAAC,KAAD,QAGJ,kBAAClO,GAAA,EAAD,KACE,0BAAMwH,SAAUc,EAAad,IAC3B,kBAACtS,EAAA,EAAD,CAAK3E,UAAWD,EAAI+b,WAClB,kBAACjX,GAAA,EAAD,CAAM3E,WAAS,GACb,kBAAC2E,GAAA,EAAD,CAAMrD,MAAI,EAACsD,GAAI,IACb,kBAAC,GAAD,CAAWG,MAAOvP,EAAE,qDAClB,kBAAC,GAAD,CACE4P,KAAK,SACLmB,KAAK,WACLkJ,YAAaja,EAAE,+DACfme,SAAUA,EAAS,CACjB4B,SAAU,CACRvZ,OAAO,EACP/E,QAASzB,EAAE,0BAGfoe,MAAOA,EACPrD,SAAUA,EACVF,OAAQA,MAId,kBAAC1L,GAAA,EAAD,CAAMrD,MAAI,EAACsD,GAAI,IACb,kBAAC,GAAD,CAAWG,MAAOvP,EAAE,iDAClB,kBAAC,GAAD,CACEme,SAAUA,EAAS,CACjB4B,SAAU,CACRvZ,OAAO,EACP/E,QAASzB,EAAE,0BAGf+Q,KAAK,OACLgV,iBAAahd,EACbiS,aAAcsM,EACd9kB,QAASmmB,IACT9N,OAAQA,MAId,kBAAC1L,GAAA,EAAD,CAAMrD,MAAI,EAACsD,GAAI,IACb,kBAAC,GAAD,CACEG,MAAOvP,EAAE,oDACTsK,UAAWD,EAAI4c,WAEf,kBAAC,GAAD,CACElW,KAAK,WACLkJ,YAAaja,EAAE,+DACfme,SAAUA,EAAS,CACjB4B,SAAU,CACRvZ,OAAO,EACP/E,QAASzB,EAAE,0BAGfgb,aAAckM,GAAUE,uBACxBhJ,MAAOA,EACPrD,SAAUA,EACVF,OAAQA,MAId,kBAAC1L,GAAA,EAAD,CAAMrD,MAAI,EAACsD,GAAI,IACb,kBAACH,EAAA,EAAD,CAAKlC,UAAU,UACb,kBAAC4C,GAAA,EAAD,CACEC,KAAK,SACLpH,QAAQ,WACR8B,UAAWD,EAAIqc,aACf9a,SAAU4b,GAETxnB,EAAE,sDAKX,kBAACmP,GAAA,EAAD,CAAMrD,MAAI,EAACsD,GAAI,IACb,kBAACH,EAAA,EAAD,CAAKlC,UAAU,UAEG,OAAf2a,QAAsC3e,IAAf2e,EACtB,qCACwB,IAAtBA,EAAWnO,OACb,kBAACtK,EAAA,EAAD,CAAK3E,UAAWD,EAAIsc,eAClB,kBAACrX,GAAA,EAAD,CAAY9G,QAAQ,KAAKygB,UAAU,MAAM3d,MAAM,iBAC5CtL,EAAE,kDAIP0nB,EAAW3Y,KAAI,SAACjD,EAAMkD,GAAP,OAAiBga,EAAeld,EAAMkD,WAOjE,kBAACwL,GAAA,EAAD,CAAelQ,UAAWD,EAAIsK,eAC5B,kBAAChF,GAAA,EAAD,CAAQ/D,SAAUkc,EAAalf,QAASsf,EAAY5d,UAAWD,EAAIoD,QAChEzN,EAAE,+CAYbqnB,GAAWngB,aAAe,CACxBhC,cAAe,MAEFmiB,U,UCrHAoC,GAlKYxgB,cAAW,SAAAgC,GAAK,MAAK,CAC9Cye,SAAU,CACR,0BAA2B,CACzB7d,UAAW,IACXxC,SAAU,YAEZ,0BAA2B,CACzBiC,MAAOoI,KAAK,OAIhBiW,aAAc,CACZ,yBAA0B,CACxB9d,UAAW,IACXxC,SAAU,WACVS,WAAY,YACZwB,MAAOoI,KAAK,KACZyV,OAAQ,WAEV,0BAA2B,CACzB7d,MAAOoI,KAAK,OAIhBH,YAAa,CACXxG,UAAW,UAGbqZ,UAAW,CACT/c,SAAU,WACVqB,QAASO,EAAMG,QAAQ,GACvBX,OAAQ,EACRgB,YAAa,QACbC,YAAagI,KAAK,KAClB7H,UAAW,IACXhC,aAAc,EACdwc,QAAS,OACT,kCAAmC,CACjC5b,OAAQ,EACRgB,YAAa,QACbC,YAAa,UACbrC,SAAU,WACVmE,QAAS,GACThE,MAAO,IACPuB,gBAAiB,UACjBlB,aAAc,EACdwc,QAAS,OACT3b,QAAS,GAEX,gBAAiB,CACfb,aAAc,GAEhB,8BAA+B,CAC7BA,aAAc,EACdwc,QAAS,QAEX,4BAA6B,CAC3Bxc,aAAc,GAEhB,iCAAkC,CAChCyc,uBAAwB,EACxBC,wBAAyB,IAI7B/S,YAAa,CACXnK,SAAU,WACVoK,MAAOxI,EAAMG,QAAQ,GACrB9B,IAAK2B,EAAMG,QAAQ,GACnBE,MAAOL,EAAMU,QAAQ+H,KAAK,MAG5BM,WAAY,CACVtJ,QAASO,EAAMG,QAAQ,IAGzBob,eAAgB,CACdhY,WAAY,GACZiY,cAAe,GACflY,YAAa,GACblC,aAAc,IAGhBiI,UAAW,CACTzJ,aAAc,EACdgC,kBAAmB,QACnBC,kBAAmB7B,EAAMU,QAAQlD,OAAOmD,SACxCG,UAAW,EACXwI,eAAgB,QAChBC,eAAgBvJ,EAAMU,QAAQlD,OAAOmD,UAGvC+I,cAAe,GAEf+R,aAAc,CACZnZ,OAAQ,CAAC,CAACtC,EAAMG,QAAQ,GAAI,IAC5BF,cAAe,OACfW,UAAW,OACXrC,MAAO,OACPuB,gBAAiB,UACjBO,MAAO,OACP,UAAW,CACTP,gBAAiB,YAIrB0C,OAAQ,CACN1C,gBAAiB,UACjBO,MAAO,OACPiC,OAAQtC,EAAMG,QAAQ,GACtBF,cAAe,OACfW,UAAW,OACX+I,SAAU,QACV,aAAc,CACZ7J,gBAAiB,WAEnB,UAAW,CACTA,gBAAiB2I,KAAK,OAI1BmB,YAAa,CACX9J,gBAAiB,UACjBO,MAAO,OACPiC,OAAQtC,EAAMG,QAAQ,GACtBF,cAAe,OACfW,UAAW,OACX+I,SAAU,QACV,aAAc,CACZ7J,gBAAiB,WAEnB,UAAW,CACTA,gBAAiB,YAIrB4C,UAAW,CACTrC,MAAO,UACPsC,WAAY,KAGd+Y,cAAe,CACb5b,gBAAiB,UACjB3B,QAAS,OACT8E,SAAU,SACVC,eAAgB,SAChB1E,OAAQ,GACRI,aAAc,EACduE,WAAY,UAGdwY,UAAW,CACTtb,MAAO,MACPZ,QAASO,EAAMG,QAAQ,IAGzBwe,YAAa,CACXhV,SAAU,IACV8E,SAAU,SC1IR3B,GAAiB,SAAAC,GAAK,OAC1B,kBAAC,KAAD,CAAWC,OAAO,0BAA0BC,OAAQ,oCAElD,kBAACC,EAAA,EAAUH,KAIT6R,GAAgB,SAAC,GAAsC,IAApChhB,EAAmC,EAAnCA,QAAS5E,EAA0B,EAA1BA,KAAMiB,EAAoB,EAApBA,cAChCmF,EAAMof,KACJzpB,EAAMgG,cAANhG,EAFkD,EAGTgkB,KAAzCne,EAHkD,EAGlDA,YAAawe,EAHqC,EAGrCA,wBAHqC,EAIpBze,oBAAS,GAJW,mBAInDkiB,EAJmD,KAItCC,EAJsC,OAMZ9F,aAAQ,CACpDC,KAAM,QADA/D,EANkD,EAMlDA,SAAUtD,EANwC,EAMxCA,OAAQE,EANgC,EAMhCA,SAAUqD,EANsB,EAMtBA,MAIpCnY,qBAAU,WACHmV,kBAAQgD,OAEU,IADP3e,OAAOC,KAAK0e,KAAShI,QAAO,SAAA1N,GAAG,MAAmB,KAAf0V,EAAM1V,MAC7C6Q,OACRwO,GAAe,GAEfA,GAAe,MAGlB,CAAC3J,IAEJ,IAAMmD,EAAQ,uCAAG,sBAAA9e,EAAA,sEACT4hB,EAAwB5kB,OAAOsZ,OAAOqF,KAAS,GAAIlZ,GAD1C,OAEf2D,IAFe,2CAAH,qDAKd,OACE,kBAAC2Q,GAAA,EAAD,CACEC,WAAS,EACTC,SAAS,KACT7Q,QAASA,EACT+Q,kBAAgB,cAChB3V,KAAMA,EACN0V,qBAAmB,EACnB5B,eAAgBA,IAEhB,kBAAC8B,GAAA,EAAD,CAAavP,UAAWD,EAAIkJ,YAAa3L,GAAG,oBAAoBiB,QAASA,GACvE,6BACE,kBAAC,IAAD,CAAO7I,EAAGA,EAAG6jB,QAAQ,oDAClB,CAAC,0BAAMnb,IAAK,EAAG4B,UAAWD,EAAIsD,eAGnC,kBAAChF,GAAA,EAAD,CAAYmR,aAAW,QAAQxP,UAAWD,EAAImJ,YAAa5K,QAASC,GAClE,kBAAC,KAAD,QAGJ,kBAACkR,GAAA,EAAD,KACE,kBAAC,KAAD,CACE+P,cAAezf,EAAIsf,aACnBI,YAAa,CACX,kBAAmB,iBACnBpQ,qBAAqB,EACrB5B,kBACAzN,UAAWD,EAAIsf,cAEjBK,cAAe,CAAEpe,UAAU,GAC3B8N,SAAS,KACTuQ,YAAapkB,EACbqkB,iBAAiB,GACjBC,iBAAiB,GACjBC,aAAcpqB,EAAE,mDAChBqqB,YAAa,IACbC,WAAY,EACZrmB,KAAMA,EACNsmB,MAAO,SAAAC,GACLnG,EAAwBmG,GACxB3hB,EAAQ2hB,IAEV3hB,QAASA,EACT4hB,cAAc,EACdC,wBAAwB,EACxBC,YAAY,EACZC,eAAe,EACfC,wBAAwB,IAE1B,kBAAC1b,GAAA,EAAD,CAAMrD,MAAI,EAACsD,GAAI,IACb,kBAAC,GAAD,CAAWG,MAAOvP,EAAE,sDAClB,kBAAC,GAAD,CACE+Q,KAAK,gBACLkJ,YAAaja,EAAE,gEACfme,SAAUA,EAAS,CACjB4B,SAAU,CACRvZ,OAAO,EACP/E,QAASzB,EAAE,0BAGfoe,MAAOA,EACPrD,SAAUA,EACVF,OAAQA,OAKhB,kBAACL,GAAA,EAAD,CAAelQ,UAAWD,EAAIsK,eAC5B,kBAAChF,GAAA,EAAD,CAAQrF,UAAWD,EAAIoD,OAAQ7B,SAAUkc,EAAalf,QAAS2Y,GAC5DvhB,EAAE,+CAab6pB,GAAc3iB,aAAe,CAC3BhC,cAAe,MAEF2kB,UC/FAiB,GA5Ca7hB,cAAW,SAAAgC,GAAK,MAAK,CAC/C8f,2BAA4B,CAC1BtgB,OAAQ,EACRgB,YAAa,QACbC,YAAaT,EAAMU,QAAQlD,OAAOmD,SAClCxC,QAAS,OACT8E,SAAU,SACVD,cAAe,MACfE,eAAgB,gBAChBC,WAAY,SACZ1D,QAASO,EAAMG,QAAQ,GACvBC,aAAcJ,EAAMG,QAAQ,GAC5BvB,aAAc,GAGhBmhB,wBAAyB,CACvB5hB,QAAS,OACT6E,cAAe,MACfC,SAAU,SACVE,WAAY,SACZD,eAAgB,gBAChB7C,MAAOL,EAAMU,QAAQlD,OAAOmD,UAG9BgB,UAAW,CACTnC,OAAQ,EACRgB,YAAa,QACbC,YAAaT,EAAMU,QAAQlD,OAAOmD,SAClC/B,aAAc,GAEhBohB,KAAM,CACJ3f,MAAO,WAETkf,WAAY,CACVhhB,MAAO,QAETud,KAAM,CACJC,eAAgB,OAChB1b,MAAO,uBAET4f,UAAW,CACT7f,aAAc,WCiEH8f,GAjGQ,SAAC,GAA6C,IAA3CX,EAA0C,EAA1CA,WAAYY,EAA8B,EAA9BA,aAActlB,EAAgB,EAAhBA,UAC5CuE,EAAMygB,KAEVljB,EAGE4iB,EAHF5iB,GAHgE,EAM9D4iB,EADFa,KAAQta,EALwD,EAKxDA,KAAMua,EALkD,EAKlDA,UAAWlC,EALuC,EAKvCA,UAGrBrC,EAAOhW,EACTuJ,EAAQvJ,EACRuJ,EAAMf,OAAS,KACjBe,EAAK,UAAMvJ,EAAKwa,UAAU,EAAG,IAAxB,cAAiCxa,EAAKwa,UAAUxa,EAAKwI,OAAS,MAXH,IAa1D+L,EAA4BtB,KAA5BsB,wBAER,OACE,kBAACrW,EAAA,EAAD,CACE3E,UAAS,UAAKD,EAAIuC,UAAT,YAAsBvC,EAAI6gB,WACnCne,UAAU,OACVkP,EAAG,EACH7S,QAAQ,OACR6E,cAAc,MACdC,SAAS,SACTC,eAAe,gBACfC,WAAW,SACX8R,aAAa,cAEb,kBAACjR,EAAA,EAAD,CAAKgN,EAAG,EAAG3R,UAAWD,EAAI4gB,MACxB,kBAAC,KAAD,OAEF,kBAAChc,EAAA,EAAD,CAAK3E,UAAWD,EAAImgB,YACjBc,IAAcxlB,EAAU0lB,UACvB,kBAAClc,GAAA,EAAD,CAAY9G,QAAQ,QAAQ8C,MAAM,gBAAgBiE,MAAOwX,GACvD,uBAAG5N,OAAO,SAASsS,IAAI,aAAatnB,KAAM4iB,EAAMzc,UAAWD,EAAI0c,MAC5DzM,IAIL,oCACG8O,EACC,kBAAC9Z,GAAA,EAAD,CACE2Z,UAAU,MACVzgB,QAAQ,YACR0gB,QAAM,EACN9O,MAAO,CAAE+O,OAAQ,WACjBvgB,QAAS,kBAAM0c,EAAwB1d,EAAI,MAAM,KAEhDwhB,GAED,KAEJ,kBAAC9Z,GAAA,EAAD,CACE9G,QAAQ,QACR8C,MAAM,gBACNiE,MAAO+K,EACP2O,UAAU,MACVC,QAAM,EACN9O,MAAO,CAAE+O,OAAQ,WACjBvgB,QAAS,kBAAM0c,EAAwB1d,EAAI,MAAM,KAEhD0S,KAKT,kBAACrL,EAAA,EAAD,CAAKgN,EAAG,EAAG3R,UAAWD,EAAI4gB,MACvBK,IAAcxlB,EAAU0lB,UACvB,uBAAGrS,OAAO,SAASsS,IAAI,aAAatnB,KAAM4iB,EAAMzc,UAAWD,EAAI0c,MAC7D,kBAAC,KAAD,OAGF,kBAAC,KAAD,CACE3M,MAAO,CAAE+O,OAAQ,WACjBvgB,QAAS,kBAAM0c,EAAwB1d,EAAI,MAAM,OAIvD,kBAACqH,EAAA,EAAD,CAAK3E,UAAWD,EAAI2gB,yBAClB,kBAACriB,GAAA,EAAD,CAAYmR,aAAW,SAASlR,QAAS,kBAAMwiB,EAAaxjB,IAAK8Y,eAAa,GAC5E,kBAAC,KAAD,UCuDKgL,GA/IUziB,cAAW,SAAAgC,GAAK,MAAK,CAC5CO,QAAS,CACPf,OAAQ,EACRgB,YAAa,QACbC,YAAaT,EAAMU,QAAQlD,OAAOmD,SAClCC,UAAW,QACXxC,SAAU,WACVqB,QAASO,EAAMG,QAAQ,KAGzBU,KAAM,CACJrB,OAAQ,gBACRhB,OAAQ,SAGVgB,OAAQ,CACNA,OAAQ,EACRsB,UAAW,EACXC,YAAa,EACbP,YAAa,QACbC,YAAaT,EAAMU,QAAQlD,OAAOmD,UAGpCsB,wBAAyB,CACvBzC,OAAQ,cACRC,QAASO,EAAMG,QAAQ,GACvB+B,UAAWlC,EAAMG,QAAQ,IACzB2B,UAAW,SACX,aAAc,CACZ,qBAAsB,CACpBK,SAAU,OACV9B,MAAO,aAKboB,cAAe,CACbjC,OAAQ,eAGVkC,UAAW,CACTlC,OAAQ,eAGVmC,UAAW,CACTnC,OAAQ,YACRiB,YAAaT,EAAMU,QAAQlD,OAAOmD,SAClC/B,aAAc,EACdgC,UAAW,OAEX,UAAW,CACTH,YAAaT,EAAMU,QAAQnK,MAAMwd,OAIrCC,aAAc,CACZxU,OAAQ,eAGV0B,cAAe,CACb1C,OAAQ,QACRgB,OAAQ,EACRiB,YAAa,QACbD,YAAa,QACbW,SAAU,SACVC,aAAcpB,EAAMG,QAAQ,KAG9BkB,oBAAqB,CACnB7B,OAAQ,EACRiB,YAAa,OACbD,YAAa,QACbhC,OAAQ,OACR8C,UAAW,SACXC,UAAW,SACXC,UAAW,cACX,uBAAwB,CACtBjD,MAAO,GAET,6BAA8B,CAC5BM,WAAY,UACZD,aAAc,OAEhB,6BAA8B,CAC5BC,WAAY,UACZD,aAAc,OAEhB,mCAAoC,CAClCC,WAAY,SAIhB6c,cAAe,CACbjc,QAASO,EAAMG,QAAQ,IAGzB8T,OAAQ,CACN/T,YAAaF,EAAMG,QAAQ,GAC3BX,OAAQ,EACRZ,aAAc,MACd6B,YAAaT,EAAMU,QAAQlD,OAAOmD,SAClCH,YAAa,QACbV,gBAAiB,UACjBvB,MAAO,OACPC,OAAQ,OACRJ,SAAU,YAGZ8V,QAAS,CACP9V,SAAU,WACVC,IAAK,MACLC,KAAM,MACNQ,UAAW,uBACXuB,MAAO,WAGTgC,WAAY,CACV7C,OAAQ,gBACR8C,OAAQ,EACRC,OAAQ,GAGVme,oBAAqB,GAErBC,iBAAkB,CAChBpiB,MAAO,OACP2D,UAAWlC,EAAMG,QAAQ,GACzB3B,OAAQ,OACRyB,cAAe,QAGjBuC,OAAQ,CACNtC,YAAaF,EAAMG,QAAQ,GAC3BsC,WAAYzC,EAAMG,QAAQ,GAC1B3B,OAAQ,QAGVkE,UAAW,CACTrC,MAAO,UACPsC,WAAY,SCkDDie,GA5KK,SAAC,GAAmB,IAAjBrK,EAAgB,EAAhBA,UACbxhB,EAAMgG,cAANhG,EAD6B,EAED4F,oBAAS,GAFR,mBAE9B6Z,EAF8B,KAElBC,EAFkB,OAGO9Z,oBAAS,GAHhB,mBAG9BkmB,EAH8B,KAGdC,EAHc,OAKanmB,oBAAS,GALtB,mBAK9BomB,EAL8B,KAKXC,EALW,OAMkCjI,KAA/Dne,EAN6B,EAM7BA,YAAa6e,EANgB,EAMhBA,iBAAkB5e,EANF,EAMEA,UAAWC,EANb,EAMaA,iBAC5CmmB,EAAmBrmB,EAAYuQ,QAAO,SAAA3T,GAAC,OAAIA,EAAE4oB,KAAKC,YAAcxlB,EAAU0lB,aAC1EW,EAAmBtmB,EAAYuQ,QAAO,SAAA3T,GAAC,OAAIA,EAAE4oB,KAAKC,YAAcxlB,EAAUsmB,SAC1E/hB,EAAMqhB,KAENxmB,EAAgBa,EAAiBqe,KAWjCiI,EAAmB,SAAAzkB,GACvB8c,EAAiB9c,EAAI1C,IAGvB,OACE,oCACE,kBAAC,IAAD,CACEonB,SAAU,GACVC,aAAc,CACZC,SAAU,MACVC,WAAY,UAEdC,oBAAqBC,MAGvB,kBAAC,KAAD,CAAyBtJ,MAAOC,MAC9B,kBAAC,GAAD,CACEza,QAAS,kBAAMkjB,GAAkB,IACjC9nB,KAAM6nB,EACN5mB,cAAeA,IAEjB,kBAAC,GAAD,CACE2D,QAAS,kBAAMojB,GAAqB,IACpChoB,KAAM+nB,EACN9mB,cAAeA,IAGjB,kBAAC+J,EAAA,EAAD,CAAK3E,UAAWD,EAAImB,SAClB,kBAAC2D,GAAA,EAAD,CAAM3E,WAAS,EAACF,UAAWD,EAAIqC,cAAetB,QAAS,GACrD,kBAAC+D,GAAA,EAAD,CAAMrD,MAAI,EAACsD,GAAI,EAAGC,QAAS,CAAEvD,KAAMzB,EAAIyB,OACrC,kBAAC4X,EAAA,EAAD,CAAWC,OAAK,EAACC,gBAAc,EAACtZ,UAAWD,EAAI8B,eAC7C,kBAACuX,EAAA,EAAD,CAAWC,OAAK,EAACC,gBAAc,EAACtZ,UAAWD,EAAIiC,qBAC7C,kBAAC2C,EAAA,EAAD,CAAKgN,EAAG,GACN,kBAAC3M,GAAA,EAAD,CAAY9G,QAAQ,QAAQ8C,MAAM,iBAC/BtL,EAAE,gDAAiD,CAClD4sB,MAAOV,EAAiB3S,WAI9B,kBAACtK,EAAA,EAAD,CAAK3E,UAAWD,EAAIsc,eAApB,OACGuF,QADH,IACGA,OADH,EACGA,EACGW,MAAK,SAACpqB,EAAGqqB,GAAJ,OAAWrqB,EAAEmF,GAAKklB,EAAEllB,IAAM,EAAI,KACpCmH,KAAI,SAACge,EAAG/d,GAAJ,OACH,kBAAC,GAAD,CACEtG,IAAKqkB,EAAEnlB,GACP4iB,WAAYuC,EACZ/d,MAAOA,EAAQ,EACfgD,KAAMnM,EAAY0T,OAClB6R,aAAciB,EACdvmB,UAAWA,QAInB,kBAACmJ,EAAA,EAAD,CAAKgN,EAAG,GACN,kBAAC3M,GAAA,EAAD,CAAY9G,QAAQ,QAAQ8C,MAAM,iBAC/BtL,EAAE,gDAAiD,CAClD4sB,MAAOT,EAAiB5S,WAI9B,kBAACtK,EAAA,EAAD,CAAK3E,UAAWD,EAAIsc,eAApB,OACGwF,QADH,IACGA,OADH,EACGA,EACGU,MAAK,SAACpqB,EAAGqqB,GAAJ,OAAWrqB,EAAEmF,GAAKklB,EAAEllB,IAAM,EAAI,KACpCmH,KAAI,SAACge,EAAG/d,GAAJ,OACH,kBAAC,GAAD,CACEtG,IAAKqkB,EAAEnlB,GACP4iB,WAAYuC,EACZ/d,MAAOA,EAAQ,EACfgD,KAAMma,EAAiB5S,OACvB6R,aAAciB,EACdvmB,UAAWA,WAOzB,kBAACqJ,GAAA,EAAD,CAAMrD,MAAI,EAACsD,GAAI,EAAGC,QAAS,CAAEvD,KAAMzB,EAAIyB,OACrC,kBAAC,GAAD,CAAkBjD,QAvFT,SAAArC,GACnBkZ,GAAeD,GACD,SAAVjZ,EACFulB,GAAkB,GACC,YAAVvlB,GACTylB,GAAqB,IAkF4BhoB,KAAMwb,IAC/C,kBAACxQ,EAAA,EAAD,CAAK3E,UAAWD,EAAI6C,yBAClB,kBAAC+B,EAAA,EAAD,CAAK3E,UAAU,WACb,kBAAC,KAAD,OAEF,kBAAC2E,EAAA,EAAD,KACE,kBAACK,GAAA,EAAD,CAAY9G,QAAQ,QAAQ8C,MAAM,eAC/BtL,EAAE,gDAGP,kBAACiP,EAAA,EAAD,KACE,kBAACK,GAAA,EAAD,CAAY9G,QAAQ,QAAQ8C,MAAM,iBAChC,kBAAC,IAAD,CAAOtL,EAAGA,EAAG6jB,QAAQ,yDAClB,CAAC,0BAAMnb,IAAK,EAAG4B,UAAWD,EAAIsD,gBAIrC,kBAACsB,EAAA,EAAD,CAAK3E,UAAWD,EAAIshB,qBAClB,kBAAChc,GAAA,EAAD,CACEqC,KAAK,QACLnC,UAAW,kBAAC,KAAD,MACXrH,QAAQ,YACR8B,UAAWD,EAAIuhB,iBACfhjB,QAAS,kBAAM8W,GAAc,IAC7BgB,eAAa,GAEb,kBAACpR,GAAA,EAAD,CAAY9G,QAAQ,QAAQ8C,MAAM,iBAC/BtL,EAAE,gDAOf,kBAACiP,EAAA,EAAD,CAAKgN,EAAG,EAAGxR,OAAQ,EAAGsC,UAAU,SAASzC,UAAWD,EAAIiD,YACtD,kBAACqC,GAAA,EAAD,CACEqC,KAAK,QACLpC,KAAK,SACLhH,QAAS,SAAAkb,GAAG,OAAItC,EAAUsC,EAAK,IAC/BjU,UAAW,kBAAC,KAAD,MACXrH,QAAQ,WACRoD,UAAQ,EACR8U,eAAa,EACbpW,UAAWD,EAAIoD,QAEf,kBAAC6B,GAAA,EAAD,CAAY9G,QAAQ,QAAQ8C,MAAM,iBAC/BtL,EAAE,wCAGP,kBAAC2P,GAAA,EAAD,CACEqC,KAAK,QACLpJ,QAAS,SAAAkb,GAAG,OAAItC,EAAUsC,EAAK,IAC/BC,QAAS,kBAAC,KAAD,MACTvb,QAAQ,WACR8B,UAAWD,EAAIoD,OACfiT,eAAa,GAEb,kBAACpR,GAAA,EAAD,CAAY9G,QAAQ,QAAQ8C,MAAM,iBAC/BtL,EAAE,yC,8BC7KNgtB,GAAW,uCAAG,WAAOloB,EAAYkC,GAAnB,iBAAAvE,EAAA,6DACnBF,EADmB,UACVuC,EADU,YAFV,QAEU,YACgBkC,EADhB,UAEnBxE,EAFmB,2BAGpBR,KAHoB,IAIvB0C,OAAQ,QAJe,kBAMlBpC,EAAQC,EAAKC,IANK,2CAAH,wDASXyqB,GAAY,uCAAG,WAAOnoB,EAAYkC,EAAQkmB,GAA3B,iBAAAzqB,EAAA,6DACpBF,EADoB,UACXuC,EADW,YAXX,QAWW,YACekC,EADf,UAEpBxE,EAFoB,2BAGrBR,KAHqB,IAIxB0C,OAAQ,OACRD,KAAMyoB,EAAOvoB,KAAKC,UAAUsoB,GAAQ,OALZ,kBAOnB5qB,EAAQC,EAAKC,IAPM,2CAAH,0DAUZ2qB,GAAc,uCAAG,WAAOroB,EAAYsoB,GAAnB,iBAAA3qB,EAAA,6DACtBF,EADsB,UACbuC,EADa,kBACOsoB,GAC7B5qB,EAFsB,2BAGvBR,KAHuB,IAI1B0C,OAAQ,WAJkB,kBAMrBpC,EAAQC,EAAKC,GAAS,IAND,2CAAH,wDC6EZ6qB,GA5FK,WAAO,IAAD,EACEhsB,qBAAWyF,IADb,mBACjBxF,EADiB,KACVC,EADU,KAEhBsF,EAAeW,KAAfX,WACA7G,EAAMgG,cAANhG,EACA8E,EAAwBxD,EAAxBwD,WAAYa,EAAYrE,EAAZqE,QACZ0B,EAASE,KAATF,KALgB,EAMSjG,IAAzBQ,EANgB,EAMhBA,SAAUE,EANM,EAMNA,WAEZwrB,EAAQ,uCAAG,WAAMJ,GAAN,qBAAAzqB,EAAA,kEAEboE,GAAW,IACPlB,EAHS,gCAIY,IAAI5C,SAAQ,SAAA2E,GAAO,OAAIC,YAAW,kBAAMD,EAAQwlB,QAAQ,MAJpE,cAILtqB,EAJK,OAKXrB,GAAS,SAAA4E,GAAS,MAAK,CACrBc,MAAM,GAAD,oBAAMd,EAAUc,OAAhB,CAAuBrE,IAC5BnB,QAASzB,EAAE,sBAAuB,CAAE4H,GAAI,SAP/B,kBASJ,IATI,wBAWUqlB,GAAanoB,EAAYuC,EAAKO,GAAIslB,EAAK5P,aAXjD,aAWP1a,EAXO,QAYAwD,QAAQwB,GAZR,kCAaQolB,GAAYloB,EAAYuC,EAAKO,IAbrC,QAaL9E,EAbK,QAcLmE,EAAQnE,EAAKsD,SACbgiB,SAAQ,SAAA2E,GAAC,OAAIlpB,QAAQuf,MAAM2J,MACjCxrB,GAAS,SAAAI,GAAI,kCACRA,GADQ,IAEXsF,QACAxF,QAASzB,EAAE,sBAAuB,CAAE4H,GAAIhF,EAASwD,QAAQwB,UAnBhD,eAsBb9F,EAAW9B,EAAE,sBAAuB,CAAE4H,GAAIhF,EAASwD,QAAQwB,MAtB9C,kBAuBNhF,EAASwD,QAAQwB,IAvBX,kCAyBbrG,EAAS,2BAAKD,GAAN,IAAaE,MAAOxB,EAAE,qBAAsByB,QAAS,QAC7DG,EAAS5B,EAAE,sBA1BE,yBA4Bb6G,GAAW,GA5BE,8CA8BR,MA9BQ,gEAAH,sDAiCR0mB,EAAU,uCAAG,WAAMH,GAAN,mBAAA3qB,EAAA,kEAEfoE,GAAW,IAEPlB,EAJW,gCAKO,IAAI5C,SACtB,SAAA2E,GAAO,OAAIC,YAAW,kBAAMD,EAAQpG,EAAM2F,MAAMmP,QAAO,SAAAE,GAAC,OAAIA,EAAE1O,KAAOwlB,WACrE,MAPW,cAKPnmB,EALO,OASb1F,GAAS,SAAA4E,GAAS,kCACbA,GADa,IAEhBc,QACAxF,QAASzB,EAAE,sBAAuB,CAAE4H,GAAIwlB,SAE1CtrB,EAAW9B,EAAE,sBAAuB,CAAE4H,GAAIwlB,KAd7B,kBAeN,IAfM,wBAiBTD,GAAeroB,EAAYsoB,GAjBlB,yBAkBIJ,GAAYloB,EAAYuC,EAAKO,IAlBjC,eAkBT9E,EAlBS,OAmBTmE,EAAQnE,EAAKsD,QACnB7E,GAAS,SAAAI,GAAI,kCACRA,GADQ,IAEXsF,QACAxF,QAASzB,EAAE,sBAAuB,CAAE4H,GAAIwlB,SAE1CtrB,EAAW9B,EAAE,sBAAuB,CAAE4H,GAAIwlB,KAzB3B,kBA0BR,MA1BQ,kCA4BfvpB,QAAQC,IAAI,QAAZ,MACAvC,EAAS,2BAAKD,GAAN,IAAaE,MAAOxB,EAAE,qBAAsByB,QAAS,QAC7DG,EAAS5B,EAAE,sBA9BI,yBAgCf6G,GAAW,GAhCI,8CAkCV,MAlCU,gEAAH,sDAyChB,MAAO,CACLI,MAAO3F,EAAM2F,MACbqmB,WACAC,aACA/rB,MAAOF,EAAME,MACbC,QAASH,EAAMG,QACfC,WAViB,kBAAMH,GAAS,SAAAI,GAAI,kCAAUA,GAAV,IAAgBH,MAAO,WAW3DK,aATmB,kBAAMN,GAAS,SAAAI,GAAI,kCAAUA,GAAV,IAAgBF,QAAS,a,qBCkCpD+rB,GAxHSvkB,cAAW,SAAAgC,GAAK,MAAK,CAC3CoI,OAAQ,CACN,qBAAsB,CACpBxH,UAAW,IACXxC,SAAU,WACVC,IAAK,QAITiK,YAAa,CACXxG,UAAW,OACX7B,cAAe,cAGjBuiB,cAAe,CACbrhB,SAAU,SACV,2BAA4B,CAC1BA,SAAU,WAIdga,UAAW,CACT/c,SAAU,WACVwC,UAAW,IACXhC,aAAc,EACdwc,QAAS,OACT,kCAAmC,CACjC5b,OAAQ,EACRgB,YAAa,QACbC,YAAa,UACbrC,SAAU,WACVmE,QAAS,GACThE,MAAO,IACPuB,gBAAiB,UACjBlB,aAAc,EACdwc,QAAS,OACT3b,QAAS,GAEX,gBAAiB,CACfb,aAAc,GAEhB,8BAA+B,CAC7BA,aAAc,EACdwc,QAAS,QAEX,4BAA6B,CAC3Bxc,aAAc,GAEhB,iCAAkC,CAChCyc,uBAAwB,EACxBC,wBAAyB,IAI7B/S,YAAa,CACXnK,SAAU,WACVoK,MAAOxI,EAAMG,QAAQ,GACrB9B,IAAK2B,EAAMG,QAAQ,GACnBE,MAAOL,EAAMU,QAAQ+H,KAAK,MAG5BM,WAAY,CACVtJ,QAASO,EAAMG,QAAQ,IAGzBob,eAAgB,CACdhY,WAAY,GACZiY,cAAe,GACflY,YAAa,GACblC,aAAc,IAGhBiI,UAAW,CACTzJ,aAAc,EACdgC,kBAAmB,QACnBC,kBAAmB7B,EAAMU,QAAQlD,OAAOmD,SACxCG,UAAW,EACXwI,eAAgB,QAChBC,eAAgBvJ,EAAMU,QAAQlD,OAAOmD,UAGvC+I,cAAe,CACblK,OAAQ,cACRC,QAAS,EACTrB,SAAU,WACVC,KAAM,GACN+C,aAAc,IAGhBoB,OAAQ,CACN1C,gBAAiB,UACjBO,MAAO,OACPiC,OAAQtC,EAAMG,QAAQ,GACtBF,cAAe,OACfW,UAAW,OACX+I,SAAU,QACV,aAAc,CACZ7J,gBAAiB,WAEnB,UAAW,CACTA,gBAAiB,YAIrB8J,YAAa,CACX9J,gBAAiB,UACjBO,MAAO,OACPiC,OAAQtC,EAAMG,QAAQ,GACtBF,cAAe,OACfW,UAAW,OACX+I,SAAU,QACV,aAAc,CACZ7J,gBAAiB,WAEnB,UAAW,CACTA,gBAAiB,gBCjGjBgN,GAAiB,SAAAC,GAAK,OAC1B,kBAAC,KAAD,CAAWC,OAAO,0BAA0BC,OAAQ,oCAElD,kBAACC,EAAA,EAAUH,KAIT0V,GAAU,CACdxL,KAAM,UACNyL,WAAY,MACZlkB,OAAQ,OACRoC,UAAW,QACXyH,UAAW,QACXsa,eAAe,EACfC,iBAAkB,kBAClBC,KAAK,EACLC,aAAa,EACbC,gBAAiB,OACjBC,aAAc,MACdC,eAAe,EACfC,iBAAiB,EACjBC,gBAAgB,EAChBC,eAAe,EACfC,eAAe,EACfC,iBAAiB,EACjBC,gBAAgB,EAChBC,eAAe,EACfC,gBAAgB,EAChBC,eAAe,EACfC,YAAY,EACZC,eAAe,EACfC,WAAY,CAAC,CAAC,OAAQ,YAAa,SAAU,QAAS,UAwEzCC,GArEI,SAAC,GAA0C,IAAxC9qB,EAAuC,EAAvCA,KAAMoU,EAAiC,EAAjCA,YAAa2W,EAAoB,EAApBA,cAC/BhvB,EAAMgG,cAANhG,EACFiL,EAAQyN,eAGRrO,GADasO,aAAc1N,EAAM2N,YAAYC,KAAK,OAC5CzF,MACN6b,EAAY5Z,iBAAO,MANkC,EAOnCzP,mBAAS,IAP0B,mBAOpDsnB,EAPoD,KAO9CgC,EAP8C,KAuB3D,OACE,kBAAC1V,GAAA,EAAD,CACEC,WAAS,EACTC,SAAS,KACTzV,KAAMA,EACN4E,QAAS,kBAAMwP,KACfN,eAAgBA,GAChB4B,qBAAmB,EACnBC,kBAAgB,oBAChBtP,UAAWD,EAAIgJ,QAEf,kBAACwG,GAAA,EAAD,CAAavP,UAAWD,EAAIkJ,YAAa3L,GAAG,oBAAoBiB,QAAS,kBAAMwP,MAC7E,6BAAMrY,EAAE,wCACR,kBAAC2I,GAAA,EAAD,CAAYmR,aAAW,QAAQxP,UAAWD,EAAImJ,YAAa5K,QAAS,kBAAMyP,MACxE,kBAAC,KAAD,QAGJ,kBAAC0B,GAAA,EAAD,CAAezP,UAAWD,EAAIojB,eAC5B,kBAACxe,EAAA,EAAD,CAAK3E,UAAWD,EAAI+b,WAClB,kBAAC,KAAD,CACE3c,OAAQ,IACRsH,KAAK,OACLiG,IAAKiY,EACLhV,YAAaja,EAAE,6CACfF,KAAK,KACLqvB,WAAS,EACTC,WAAY1B,GACZpS,SAzCW,SAAA1R,GAEnBslB,EAAQtlB,EAAQsb,QAAQ,sCAAuC,UA2C7D,kBAAC1K,GAAA,EAAD,CAAelQ,UAAWD,EAAIsK,eAC5B,kBAAChF,GAAA,EAAD,CAAQ/G,QAzCS,WACrB,GAAIomB,EAAe,CACjB,IAAMK,EAAUnC,EAAKoC,WAAW,MAAO,SAASA,WAAW,OAAQ,UAEnEN,EAAcK,EAAQnK,QAAQ,sCAAuC,KAEvE7M,KAmCqC/N,UAAWD,EAAIoD,QAC7CzN,EAAE,mD,wCChFEuvB,GA5BOtmB,cAAW,SAAAgC,GAAK,MAAK,CACzCukB,qBAAsB,CACpB/kB,OAAQ,eAEVglB,kBAAmB,CACjBrmB,QAAS,OACT6E,cAAe,MACfC,SAAU,SACVE,WAAY,SACZD,eAAgB,gBAChB7C,MAAOL,EAAMU,QAAQlD,OAAOmD,UAE9B8jB,gBAAiB,CACfjlB,OAAQ,EACRgB,YAAa,QACbC,YAAaT,EAAMU,QAAQlD,OAAOmD,SAClC/B,aAAc,EACda,QAASO,EAAMG,QAAQ,IAEzBukB,gBAAiB,CACfvmB,QAAS,OACT6E,cAAe,MACfC,SAAU,SACVE,WAAY,SACZD,eAAgB,aAChB+R,aAAc,kBCgCH0P,GAhDE,SAAC,GAAyC,IAAvC1C,EAAsC,EAAtCA,KAAMle,EAAgC,EAAhCA,MAAOgD,EAAyB,EAAzBA,KAAMoZ,EAAmB,EAAnBA,aAC7BprB,EAAMgG,cAANhG,EACFqK,EAAMklB,KACJ3nB,EAA+BslB,EAA/BtlB,GAAIioB,EAA2B3C,EAA3B2C,YAAaC,EAAc5C,EAAd4C,UAEzB,OACE,kBAAC7gB,EAAA,EAAD,CAAK3E,UAAWD,EAAImlB,sBAClB,kBAACvgB,EAAA,EAAD,CAAK3E,UAAWD,EAAIolB,mBAClB,kBAACngB,GAAA,EAAD,CAAY9G,QAAQ,SAASxI,EAAE,8BAA+B,CAAEgP,QAAOgD,UACvE,kBAACrJ,GAAA,EAAD,CAAYmR,aAAW,SAASlR,QAAS,kBAAMwiB,EAAaxjB,IAAK8Y,eAAa,GAC5E,kBAAC,KAAD,QAGJ,kBAACzR,EAAA,EAAD,CAAK3E,UAAWD,EAAIqlB,iBAClB,kBAACpgB,GAAA,EAAD,CAAY9G,QAAQ,QAAQygB,UAAU,OACpC,kBAAC,KAAD,CAAYrf,QAASsjB,EAAK5P,gBAG9B,kBAACrO,EAAA,EAAD,CAAK3E,UAAWD,EAAIslB,iBAClB,kBAAC1gB,EAAA,EAAD,CAAKgN,EAAG,EAAG9Q,YAAa,GACtB,kBAACoM,GAAA,EAAD,CAAQgJ,IAAKuP,KAEf,kBAAC7gB,EAAA,EAAD,KACE,kBAACK,GAAA,EAAD,CAAY9G,QAAQ,UAAU8C,MAAM,iBACjCykB,aAAoB,IAAIjU,KAAQ,IAAIA,KAAK+T,IAAgB,GACtD7vB,EAAE,8BACF8a,aAAO,IAAIgB,KAAK+T,GAAc,yBAA0B,CAAE5vB,OAAQX,SAExE,kBAACgQ,GAAA,EAAD,CAAY9G,QAAQ,QAAQ8C,MAAM,eAC/BwkB,OC6GEE,GAnJG/mB,cAAW,SAAAgC,GAAK,MAAK,CACrCO,QAAS,CACPf,OAAQ,EACRgB,YAAa,QACbC,YAAaT,EAAMU,QAAQlD,OAAOmD,SAClCC,UAAW,QACXxC,SAAU,WACVqB,QAASO,EAAMG,QAAQ,KAGzBU,KAAM,CACJrB,OAAQ,gBACRhB,OAAQ,SAGVwmB,QAAS,CACPxlB,OAAQ,gBACRC,QAASO,EAAMG,QAAQ,IAGzB8B,wBAAyB,CACvBzC,OAAQ,cACRC,QAASO,EAAMG,QAAQ,GACvB+B,UAAWlC,EAAMG,QAAQ,IACzB2B,UAAW,SACX,aAAc,CACZ,qBAAsB,CACpBK,SAAU,OACV9B,MAAO,aAKboB,cAAe,CACbjC,OAAQ,eAGVkC,UAAW,CACTlC,OAAQ,eAGVmC,UAAW,CACTnC,OAAQ,YACRiB,YAAaT,EAAMU,QAAQlD,OAAOmD,SAClC/B,aAAc,EACdgC,UAAW,OAEX,UAAW,CACTH,YAAaT,EAAMU,QAAQnK,MAAMwd,OAIrCC,aAAc,CACZxU,OAAQ,eAGV0B,cAAe,CACb1C,OAAQ,QACRgB,OAAQ,EACRiB,YAAa,QACbD,YAAa,QACbW,SAAU,SACVC,aAAcpB,EAAMG,QAAQ,KAG9BkB,oBAAqB,CACnB7B,OAAQ,EACRiB,YAAa,OACbD,YAAa,QACbhC,OAAQ,OACR8C,UAAW,SACXC,UAAW,SACXC,UAAW,cACX,uBAAwB,CACtBjD,MAAO,GAET,6BAA8B,CAC5BM,WAAY,UACZD,aAAc,OAEhB,6BAA8B,CAC5BC,WAAY,UACZD,aAAc,OAEhB,mCAAoC,CAClCC,WAAY,SAIhBoV,OAAQ,CACN/T,YAAaF,EAAMG,QAAQ,GAC3BX,OAAQ,EACRZ,aAAc,MACd6B,YAAaT,EAAMU,QAAQlD,OAAOmD,SAClCH,YAAa,QACbV,gBAAiB,UACjBvB,MAAO,OACPC,OAAQ,OACRJ,SAAU,YAGZ8V,QAAS,CACP9V,SAAU,WACVC,IAAK,MACLC,KAAM,MACNQ,UAAW,uBACXuB,MAAO,WAGTgC,WAAY,CACV7C,OAAQ,gBACR8C,OAAQ,EACRC,OAAQ,GAGV0iB,cAAe,CACb/G,OAAQ,eAGVgH,WAAY,CACV3mB,MAAO,OACP2D,UAAWlC,EAAMG,QAAQ,GACzB3B,OAAQ,OACRyB,cAAe,QAGjBuC,OAAQ,CACNtC,YAAaF,EAAMG,QAAQ,GAC3BsC,WAAYzC,EAAMG,QAAQ,GAC1B3B,OAAQ,QAGV2mB,cAAe,CACb9kB,MAAO,OACPP,gBAAiB,UACjBW,YAAa,UACb,UAAW,CACTX,gBAAiB,YAIrB4C,UAAW,CACTrC,MAAO,UACPsC,WAAY,SCjIVyiB,GAAO,SAAC,GAA6B,IAA3B7O,EAA0B,EAA1BA,UAAWrZ,EAAe,EAAfA,SACjBnI,EAAMgG,cAANhG,EADgC,EAEJ4F,oBAAS,GAFL,mBAEjC6Z,EAFiC,KAErBC,EAFqB,KAGlCrV,EAAM2lB,KAH4B,EAId3d,KAAlBC,EAJgC,EAIhCA,OAAQG,EAJwB,EAIxBA,MACRpL,EAASE,KAATF,KALgC,EAMAgmB,KAAhCC,EANgC,EAMhCA,SAAUC,EANsB,EAMtBA,WAAYtmB,EANU,EAMVA,MAExBqpB,EAAmB,WACvB5Q,GAAc,SAAA/d,GAAI,OAAKA,MAcnB4uB,EAAa,SAAA3oB,GACjB2lB,EAAW3lB,IASb,OACE,kBAAC,KAAD,CAAyByb,MAAOC,MAC9B,kBAAC,GAAD,CACErf,KAAMwb,EACNpH,YAAaiY,EACbtB,cAAe,SAAA9B,GAAI,OA1BT,SAAAA,GAAS,IAAD,IAChB9mB,EAAU,CACdwB,GAAIX,EAAMsS,OAAS,EACnBsW,YAAa,2BACbC,UAAU,GAAD,iBAAKrd,EAAMH,UAAX,aAAK,EAAe5B,UAApB,sBAAiC+B,EAAMH,UAAvC,aAAiC,EAAe3B,UACzD2M,YAAa4P,GAGfI,EAASlnB,GAkBkBoqB,CAAQtD,MAGjC,kBAACje,EAAA,EAAD,CAAK3E,UAAWD,EAAImB,SAClB,kBAAC2D,GAAA,EAAD,CAAM3E,WAAS,EAACF,UAAWD,EAAIqC,cAAetB,QAAS,GACrD,kBAAC+D,GAAA,EAAD,CAAMrD,MAAI,EAACsD,GAAI,EAAGC,QAAS,CAAEvD,KAAMzB,EAAIyB,OACrC,kBAAC4X,EAAA,EAAD,CAAWC,OAAK,EAACC,gBAAc,EAACtZ,UAAWD,EAAI8B,eAC7C,kBAACuX,EAAA,EAAD,CAAWC,OAAK,EAACC,gBAAc,EAACtZ,UAAWD,EAAIiC,qBAC7C,kBAAC2C,EAAA,EAAD,CAAK3E,UAAWD,EAAI4lB,SACjBhpB,EACE4lB,MAAK,SAACpqB,EAAGqqB,GAAJ,OAAWrqB,EAAEmF,GAAKklB,EAAEllB,IAAM,EAAI,KACnCmH,KAAI,SAACge,EAAG/d,GAAJ,OACH,kBAAC,GAAD,CACEtG,IAAKqkB,EAAEnlB,GACPslB,KAAMH,EACN/d,MAAOA,EAAQ,EACfgD,KAAM/K,EAAMsS,OACZ6R,aAAcmF,WAO5B,kBAACphB,GAAA,EAAD,CAAMrD,MAAI,EAACsD,GAAI,EAAGC,QAAS,CAAEvD,KAAMzB,EAAIyB,OACrC,kBAACmD,EAAA,EAAD,CAAK3E,UAAWD,EAAI6C,yBAClB,kBAAC+B,EAAA,EAAD,CAAK3E,UAAU,WACb,kBAAC,KAAD,OAEF,kBAAC2E,EAAA,EAAD,KACE,kBAACK,GAAA,EAAD,CAAY9G,QAAQ,QAAQ8C,MAAM,eAC/BtL,EAAE,oCAGP,kBAACiP,EAAA,EAAD,KACE,kBAACK,GAAA,EAAD,CAAY9G,QAAQ,QAAQ8C,MAAM,iBAChC,kBAAC,IAAD,CAAOtL,EAAGA,EAAG6jB,QAAQ,6CAClB,CAAC,0BAAMnb,IAAK,EAAG4B,UAAWD,EAAIsD,gBAIrC,kBAACsB,EAAA,EAAD,CAAK3E,UAAWD,EAAI6lB,eAClB,kBAACvgB,GAAA,EAAD,CACEqC,KAAK,QACLnC,UAAW,kBAAC,KAAD,MACXrH,QAAQ,YACR8B,UAAWD,EAAI8lB,WACfvnB,QAAS0nB,EACT5P,eAAa,GAEb,kBAACpR,GAAA,EAAD,CAAY9G,QAAQ,QAAQ8C,MAAM,iBAC/BtL,EAAE,0CAOf,kBAACiP,EAAA,EAAD,CAAKgN,EAAG,EAAGxR,OAAQ,EAAGsC,UAAU,SAASzC,UAAWD,EAAIiD,YACtD,kBAACqC,GAAA,EAAD,CACEqC,KAAK,QACLpC,KAAK,SACLhH,QAAS,SAAAkb,GAAG,OAAItC,EAAUsC,EAAK,IAC/BjU,UAAW,kBAAC,KAAD,MACXrH,QAAQ,WACRoD,UAAQ,EACRtB,UAAWD,EAAIoD,OACfiT,eAAa,GAEb,kBAACpR,GAAA,EAAD,CAAY9G,QAAQ,QAAQ8C,MAAM,iBAC/BtL,EAAE,wCAGP,kBAAC2P,GAAA,EAAD,CACEqC,KAAK,QACLpJ,QAtFU,WACdT,GACFA,EAASd,EAAKO,KAqFRY,QAAQ,WACR8B,UAAS,UAAKD,EAAIoD,OAAT,YAAmBpD,EAAI+lB,eAChC1P,eAAa,GAEb,kBAACpR,GAAA,EAAD,CAAY9G,QAAQ,SAASxI,EAAE,2CAa3CqwB,GAAKnpB,aAAe,CAClBiB,SAAU,cAGGkoB,UCxGAI,GA7CIxnB,cAAW,SAAAgC,GAAK,MAAK,CACtCO,QAAS,CACPf,OAAQ,EACRgB,YAAa,QACbC,YAAaT,EAAMU,QAAQlD,OAAOmD,UAGpCga,YAAa,CACXrY,OAAQtC,EAAMG,QAAQ,GACtBL,gBAAiB,UACjB,QAAS,CACPtB,OAAQ,OACRgB,OAAQ,EACRgB,YAAa,QACbC,YAAaT,EAAMU,QAAQlD,OAAOmD,UAEpC,WAAY,CACVS,aAAc,CAAC,GAAI,cACnBf,MAAOL,EAAMU,QAAQka,KAAKja,UAE5B,kBAAmB,CACjBN,MAAOL,EAAMU,QAAQka,KAAKpO,SAE5B,8BAA+B,CAC7BnM,MAAOL,EAAMU,QAAQka,KAAKja,UAE5B,iBAAkB,CAChBb,gBAAiB,eAEnB,aAAc,CACZN,OAAQ,IAIZimB,YAAa,CACXvjB,UAAWlC,EAAMG,QAAQ,IAG3BqC,OAAQ,CACNvC,cAAe,OACfI,MAAOL,EAAMU,QAAQka,KAAKnO,UAC1BjO,OAAQ,YC/BNknB,GAAQ,SAAC,GAAkC,IAAhCC,EAA+B,EAA/BA,MAAOrP,EAAwB,EAAxBA,SAAU5b,EAAc,EAAdA,QAAc,EAChBC,mBAAS,IADO,mBACvCirB,EADuC,KAC9BC,EAD8B,KAEtC9wB,EAAMgG,cAANhG,EAFsC,EAGkBiiB,aAAQ,CACtEC,KAAM,QADA/D,EAHsC,EAGtCA,SAAUkE,EAH4B,EAG5BA,aAAcxH,EAHc,EAGdA,OAAQE,EAHM,EAGNA,SAAUiN,EAHJ,EAGIA,UAG5C3d,EAAMomB,KACJ3oB,EAAwB8oB,EAAxB9oB,oBAcR,OAZA7B,qBAAU,WACJ6B,GACFiT,EAAS,sBAAuBjT,KAEjC,CAACiT,EAAUjT,IAEd7B,qBAAU,WACJN,GACFmrB,EAAW3e,MAEZ,CAACxM,IAGF,0BAAM4b,SAAUc,EAAad,IAC3B,2BAAO3R,KAAK,SAASmB,KAAK,OAAO8K,aAAc,EAAG7E,IAAKmH,IACvD,2BAAOvO,KAAK,SAASmB,KAAK,SAAS8K,aAAa,OAAO7E,IAAKmH,IAC5D,kBAAClP,EAAA,EAAD,CAAK3E,UAAWD,EAAImB,SAClB,kBAACyD,EAAA,EAAD,CAAKxE,OAAQ,EAAGjB,MAAO,EAAGunB,GAAI,IAC5B,kBAAC9hB,EAAA,EAAD,CAAKxE,OAAQ,EAAGumB,GAAI,EAAGxnB,MAAM,MAAMynB,GAAG,QACpC,kBAAChiB,EAAA,EAAD,CAAKgN,EAAG,EAAGxR,OAAQ,GACjB,kBAAC6E,GAAA,EAAD,CAAY9G,QAAQ,YAAY8C,MAAM,eACnCtL,EAAE,mCAGP,kBAACiP,EAAA,EAAD,CAAKgN,EAAG,GACN,kBAAChN,EAAA,EAAD,CAAKiiB,GAAI,EAAGzmB,OAAQ,GAClB,kBAAC6E,GAAA,EAAD,CAAY9G,QAAQ,QAAQ8C,MAAM,iBAC/BtL,EAAE,0CAGP,kBAACiP,EAAA,EAAD,KACE,kBAAC,GAAD,CACEkP,SAAUA,EAAS,CACjB4B,SAAU,CACRvZ,OAAO,EACP/E,QAASzB,EAAE,0BAGf+Q,KAAK,sBACLiK,aAAc1X,cAAIstB,EAAO,sBAAuB,IAChD7K,YAAa/lB,EAAE,mDACfwC,QAASquB,EACThW,OAAQA,QAMlB,kBAAC5L,EAAA,EAAD,CAAKlD,UAAW,EAAGvC,MAAO,EAAGkC,YAAY,uBACvC,kBAACuD,EAAA,EAAD,CAAKxE,OAAQ,EAAGumB,GAAI,EAAG3kB,aAAa,OAAO7C,MAAM,MAAMynB,GAAG,OAAOlkB,UAAU,SACzE,kBAAC4C,GAAA,EAAD,CACEqC,KAAK,QACLpC,KAAK,SACLmU,QAAS,kBAAC,KAAD,MACTvb,QAAQ,WACR8B,UAAWD,EAAIoD,OACf7B,SAAUoc,EAAUO,aACpB7H,eAAa,GAEb,kBAACpR,GAAA,EAAD,CAAY9G,QAAQ,QAAQ8C,MAAM,iBAC/BtL,EAAE,yCAkBnB2wB,GAAMzpB,aAAe,CACnBvB,SAAS,GAGIgrB,UCVAQ,GA3FaloB,cAAW,SAAAgC,GAAK,MAAK,CAC/CO,QAAS,CACPf,OAAQ,EACRgB,YAAa,QACbC,YAAaT,EAAMU,QAAQlD,OAAOmD,SAClCC,UAAW,QACXxC,SAAU,WACVqB,QAAS,CAAC,CAACO,EAAMG,QAAQ,IAAMH,EAAMG,QAAQ,MAG/CU,KAAM,CACJrC,OAAQ,SAGV2nB,cAAe,CACbvlB,UAAW,SAGbwlB,cAAe,CACb5mB,OAAQ,iBAGViC,cAAe,CACbjC,OAAQ,iBAGVkC,UAAW,CACTlC,OAAQ,eAGVmC,UAAW,CACTnC,OAAQ,YACRiB,YAAaT,EAAMU,QAAQlD,OAAOmD,SAClC/B,aAAc,EACdgC,UAAW,OAEX,UAAW,CACTH,YAAaT,EAAMU,QAAQnK,MAAMwd,OAIrCC,aAAc,CACZxU,OAAQ,gBACRY,aAAcJ,EAAMG,QAAQ,IAG9B8T,OAAQ,CACN/T,YAAaF,EAAMG,QAAQ,GAC3BX,OAAQ,EACRZ,aAAc,MACd6B,YAAaT,EAAMU,QAAQlD,OAAOmD,SAClCH,YAAa,QACbV,gBAAiB,UACjBvB,MAAO,OACPC,OAAQ,OACRJ,SAAU,YAGZ8V,QAAS,CACP9V,SAAU,WACVC,IAAK,MACLC,KAAM,MACNQ,UAAW,uBACXuB,MAAO,WAGTgC,WAAY,CACV7C,OAAQ,gBACR8C,OAAQ,EACRC,OAAQ,GAGVC,OAAQ,CACNtC,YAAaF,EAAMG,QAAQ,GAC3BsC,WAAYzC,EAAMG,QAAQ,GAC1B3B,OAAQ,QAGV6W,OAAQ,CACN9W,MAAOyB,EAAMG,QAAQ,GACrB3B,OAAQwB,EAAMG,QAAQ,IAGxBob,eAAgB,CACdhY,WAAY,GACZiY,cAAe,GACflY,YAAa,GACblC,aAAc,QCjEZilB,GAAQ,CAAC,cAAe,cAAe,YAAa,YA2W3CC,GAzWQ,SAAC,GAAoC,IAAlChQ,EAAiC,EAAjCA,SAAUC,EAAuB,EAAvBA,UAAWoP,EAAY,EAAZA,MACrC5wB,EAAMgG,cAANhG,EADiD,EAWrDiiB,aAAQ,CACVC,KAAM,MACNC,eAAgB,aAVhBhE,EAHuD,EAGvDA,SACAqT,EAJuD,EAIvDA,WACAnP,EALuD,EAKvDA,aACAxH,EANuD,EAMvDA,OACAuD,EAPuD,EAOvDA,MACA/D,EARuD,EAQvDA,QACAU,EATuD,EASvDA,SACAuE,EAVuD,EAUvDA,YAKIjV,EAAM8mB,KAf6C,EAiB5BM,KAArBhf,EAjBiD,EAiBjDA,MAAOD,EAjB0C,EAiB1CA,UAETkf,EAAkBlS,mBAAQ,iBAAM,CACpC,CAAE5X,GAAI,MAAOpB,MAAOxG,EAAE,yCACtB,CAAE4H,GAAI,SAAUpB,MAAOxG,EAAE,4CACzB,CAAE4H,GAAI,OAAQpB,MAAOxG,EAAE,8CAtBgC,EAwBrB4F,oBAAS,GAxBY,mBAwBlD6Z,EAxBkD,KAwBtCC,EAxBsC,OAyBzB9Z,mBAAS,MAzBgB,mBAyBlD+Z,EAzBkD,KAyBxCC,EAzBwC,OA0Bfha,qBA1Be,mBA0BlDmP,EA1BkD,KA0BnC8K,EA1BmC,KA4BzD5Z,qBAAU,WAIR,OAHAqrB,GAAMlJ,SAAQ,SAAAzV,GACZwL,EAAS,CAAEpN,KAAM4B,GAAQ,CAAEoN,SAAmB,gBAATpN,OAEhC,WACL2e,GAAMlJ,SAAQ,SAAAzV,GAAI,OAAI6e,EAAW7e,SAElC,CAACwL,IAEJ,IAAM6B,EAAoB,SAAArN,GACpBA,GACFiN,EAAYjN,GAEd+M,GAAc,SAAA/d,GAAI,OAAKA,MAgDzB,OAvBAsE,qBAAU,WACRuM,MACC,IAEHvM,qBAAU,WACR,GAAI2qB,EAAO,CACT,IAAMe,EAAWL,GAAMlb,QAAO,SAAAzD,GAAI,OAAIie,EAAMje,MAAO/S,QAAO,SAACC,EAAK8S,GAI9D,OAHAiN,EAAYjN,GACZoI,EAASpI,EAAMie,EAAMje,IACrB9S,EAAI8S,GAAJ,aAAc/K,GAAIgpB,EAAMje,GAAO0E,UAAU,GAAS5E,EAAMme,EAAMje,KACvD9S,IACN,IACHggB,GAAiB,SAAA1Z,GAAS,kCAAUA,GAAcwrB,SAEnD,CAACf,IAEJ3qB,qBAAU,WACR,GAAImY,EAAM,aAAc,CACtB,IAAMiC,EAAUzJ,aAAIwH,EAAM,aAAc,CAAEgC,KAAM,KAChDrF,EAAS,UAAWsF,MAErB,CAACjC,EAAM,eAGR,kBAAC,KAAD,CAAyBiF,MAAOC,KAAcrjB,OAAQsjB,MACpD,0BAAMhC,SAAUc,EAAad,IAC1B9B,EACC,kBAAC,GAAD,CACExb,KAAMwb,EACNpH,YAAa2H,EACb1H,mBA5CiB,SAAA5F,GACzBmN,GAAiB,SAAA1Z,GACf,OAAO,2BAAKA,GAAZ,kBAAwBwZ,EAAxB,2BAAwCjN,GAAxC,IAA8C2E,UAAU,SAE1D0D,EAAS4E,EAAUjN,EAAKnC,WAAWqC,eACnC0M,EAAYK,IAwCJ5K,cAAeA,EACfpC,KAAMgN,IAEN,KAEJ,2BAAO/P,KAAK,SAASmB,KAAK,OAAO8K,aAAc,EAAG7E,IAAKmH,IACvD,2BAAOvO,KAAK,SAASmB,KAAK,SAAS8K,aAAa,UAAU7E,IAAKmH,IAE/D,kBAAClP,EAAA,EAAD,CAAK3E,UAAWD,EAAImB,SAClB,kBAAC2D,GAAA,EAAD,CAAM3E,WAAS,EAACF,UAAWD,EAAIqC,cAAetB,QAAS,GACrD,kBAAC+D,GAAA,EAAD,CAAMrD,MAAI,EAACsD,GAAI,EAAGC,QAAS,CAAEvD,KAAMzB,EAAIyB,OACrC,kBAACqD,GAAA,EAAD,CAAM3E,WAAS,GACb,kBAAC2E,GAAA,EAAD,CAAMrD,MAAI,EAACsD,GAAI,GAAI9E,UAAWD,EAAI4U,cAChC,kBAAC,GAAD,CAAW1P,MAAOvP,EAAE,0CAClB,kBAAC,GAAD,CACE+Q,KAAK,QACLkJ,YAAaja,EAAE,oDACfwxB,WAAYA,EACZrT,SAAUA,EAAS,CACjB4B,SAAU,CACRvZ,OAAO,EACP/E,QAASzB,EAAE,wBAEbigB,UAAW,CACTzZ,MAAO,IACP/E,QAASzB,EAAE,uBAAwB,CAAEigB,UAAW,SAGpD7B,MAAOA,EACPrD,SAAUA,EACVF,OAAQA,EACRyD,qBAAmB,EACnBC,gBAAiB,IACjBvD,aAAc1X,cAAIstB,EAAO,aAI/B,kBAACzhB,GAAA,EAAD,CAAMrD,MAAI,EAACsD,GAAI,GAAI9E,UAAWD,EAAI4U,cAChC,kBAAChQ,EAAA,EAAD,CACE7F,QAAQ,OACR6E,cAAc,MACdC,SAAS,SACTC,eAAe,gBACfC,WAAW,SACX8R,aAAa,cAEb,kBAACjR,EAAA,EAAD,CAAK5C,aAAc,GACjB,kBAAC,GAAD,CAAWkD,MAAOvP,EAAE,+CAClB,kBAACiP,EAAA,EAAD,CAAKxE,OAAQ,GACX,kBAAC,GAAD,CACE4P,QAASA,EACTtJ,KAAK,YACLgK,SAAUA,EACVD,OAAO,eACPF,MAAO,CACLmF,SAAU,CACRvZ,OAAO,EACP/E,QAASzB,EAAE,yBAGf6a,OAAQA,EACRG,aAAc1X,cAAIstB,EAAO,kBAKjC,kBAAC3hB,EAAA,EAAD,KACE,kBAAC,GAAD,CAAWM,MAAOvP,EAAE,6CAClB,kBAACiP,EAAA,EAAD,CAAKxE,OAAQ,GACX,kBAAC,GAAD,CACE4P,QAASA,EACTtJ,KAAK,UACLgK,SAAUA,EACVD,OAAO,eACPF,MAAO,CACLmF,SAAU,CACRvZ,OAAO,EACP/E,QAASzB,EAAE,yBAGf6a,OAAQA,EACRG,aAAc1X,cAAIstB,EAAO,WACzB3V,QAASrE,aAAIwH,EAAM,aAAc,CAAEgC,KAAM,WAOrD,kBAACjR,GAAA,EAAD,CAAMrD,MAAI,EAACsD,GAAI,GAAI9E,UAAWD,EAAI4U,cAChC,kBAAC,GAAD,CAAW1P,MAAOvP,EAAE,8CAClB,kBAAC,GAAD,CACEme,SAAUA,EAAS,CACjB4B,SAAU,CACRvZ,OAAO,EACP/E,QAASzB,EAAE,0BAGf+lB,YAAa/lB,EAAE,wDACf+Q,KAAK,WACLvO,QAASkvB,EACT7W,OAAQA,EACRG,aAAc1X,cAAIstB,EAAO,gBAI/B,kBAACzhB,GAAA,EAAD,CAAMrD,MAAI,EAACsD,GAAI,GAAI9E,UAAWD,EAAI4U,cAChC,kBAAC,GAAD,CAAW1P,MAAOvP,EAAE,iDAClB,kBAAC,GAAD,CACE+Q,KAAK,cACLkJ,YAAaja,EAAE,2DACfme,SAAUA,EAAS,CACjB4B,SAAU,CACRvZ,OAAO,EACP/E,QAASzB,EAAE,wBAEbigB,UAAW,CACTzZ,MAAO,IACP/E,QAASzB,EAAE,uBAAwB,CAAEigB,UAAW,SAGpD7B,MAAOA,EACPrD,SAAUA,EACVF,OAAQA,EACR2D,WAAS,EACTC,KAAM,EACNC,QAAS,GACTJ,qBAAmB,EACnBC,gBAAiB,IACjBvD,aAAc1X,cAAIstB,EAAO,eACzBjS,SAAUtU,EAAImc,mBAIpB,kBAACrX,GAAA,EAAD,CAAMrD,MAAI,EAACsD,GAAI,GAAI9E,UAAWD,EAAI4U,cAChC,kBAAC,GAAD,CAAW1P,MAAOvP,EAAE,0DAClB,kBAAC,GAAD,CACEme,SAAUA,IACVC,MAAOA,EACPrD,SAAUA,EACVhK,KAAK,uBACLgV,YAAY,IACZlL,OAAQA,EACRrY,QAnLX2lB,MAAMle,KAAKke,MAAM,KAAKzoB,QAAQqP,KAAI,SAAAoO,GACvC,MAAO,CAAEvV,GAAIuV,EAAS3W,MAAO2W,YAwLvB,kBAAChO,GAAA,EAAD,CAAMrD,MAAI,EAACsD,GAAI,EAAGC,QAAS,CAAEvD,KAAMzB,EAAIyB,OACrC,kBAACqD,GAAA,EAAD,CAAM3E,WAAS,GACZ8mB,GAAMviB,KAAI,SAAA4D,GAAI,qBACb,kBAACxD,GAAA,EAAD,CAAMzG,IAAKiK,EAAM7G,MAAI,EAACsD,GAAI,GAAI9E,UAAWD,EAAI4U,cAC3C,kBAAC,GAAD,CAAW1P,MAAOvP,EAAE,oCAAD,OAAqC2S,KACtD,kBAAC1D,EAAA,EAAD,CACE3E,UAAS,UAAKD,EAAIuC,UAAT,YAAsBiO,EAAOlI,GAAQ,QAAU,IACxD5F,UAAU,OACVkP,EAAG,EACH7S,QAAQ,OACR6E,cAAc,MACdC,SAAS,SACTC,eAAe,aACf+R,aAAa,aACb9R,WAAW,UAEX,kBAACa,EAAA,EAAD,CAAK9D,YAAa,GACdiT,EAAMzL,GASN,kBAAC4E,GAAA,EAAD,CACEjN,UAAWD,EAAIiW,OACfC,IAAG,UAAExL,EAAcpC,UAAhB,aAAE,EAAqB5B,KAC1ByP,KAAK,UAAAzL,EAAcpC,UAAd,eAAqB8N,QAAS,KAXrC,kBAAC9X,GAAA,EAAD,CACEyE,SAAS,QACT9C,UAAWD,EAAI6U,OACftW,QAAS,kBAAMoX,EAAkBrN,KAEjC,kBAAC,KAAD,CAASrI,UAAWD,EAAI8U,YAU9B,kBAAClQ,EAAA,EAAD,CAAK0R,SAAU,GACXvC,EAAMzL,GACN,kBAACrD,GAAA,EAAD,CAAY9G,QAAQ,QAAQ8C,MAAM,eAAlC,oBACMyJ,EAAcpC,UADpB,aACM,EAAqBjC,UAD3B,sBACwCqE,EAAcpC,UADtD,aACwC,EAAqBhC,WAF/C,KAKhB,kBAACrB,GAAA,EAAD,CAAY9G,QAAQ,QAAQ8C,MAAM,iBAC9B8S,EAAMzL,GAAP,UAEGoC,EAAcpC,UAFjB,aAEG,EAAqBA,KADrB3S,EAAE,iDAIToe,EAAMzL,GACL,kBAAC1D,EAAA,EAAD,KACE,kBAACtG,GAAA,EAAD,CAAYyE,SAAS,QAAQxE,QAAS,kBAAMoX,EAAkBrN,KAC5D,kBAAC,KAAD,CAAYrI,UAAWD,EAAI8U,WAEnB,gBAATxM,EACC,kBAAChK,GAAA,EAAD,CAAYyE,SAAS,QAAQxE,QAAS,kBA7PzC,SAAA+J,GACvBoI,EAASpI,OAAM5J,GACf6W,EAAYjN,GACZ,IAAMiO,EAAQ,eAAQ7L,UACf6L,EAASjO,GAChBkN,EAAiBe,GAwPqDC,CAAiBlO,KAC3D,kBAAC,KAAD,CAAYrI,UAAWD,EAAI8U,WAE3B,MAEJ,MAELtE,EAAOlI,GACN,kBAAC1D,EAAA,EAAD,CAAK9B,UAAU,MAAMO,WAAW,QAC9B,kBAAC4B,GAAA,EAAD,CAAY9G,QAAQ,UAAU8C,MAAM,QAAQwV,MAAM,QAC/C9gB,EAAE,yBAGL,aAOhB,kBAACiP,EAAA,EAAD,CAAKgN,EAAG,EAAGxR,OAAQ,EAAGsC,UAAU,SAASzC,UAAWD,EAAIiD,YACtD,kBAACqC,GAAA,EAAD,CACEqC,KAAK,QACLpC,KAAK,SACLhH,QAAS,SAAAkb,GAAG,OAAItC,EAAUsC,EAAK,IAC/BjU,UAAW,kBAAC,KAAD,MACXrH,QAAQ,WACR8B,UAAWD,EAAIoD,OACfiT,eAAa,GAEb,kBAACpR,GAAA,EAAD,CAAY9G,QAAQ,QAAQ8C,MAAM,iBAC/BtL,EAAE,wCAGP,kBAAC2P,GAAA,EAAD,CACEqC,KAAK,QACLpC,KAAK,SACLmU,QAAS,kBAAC,KAAD,MACTvb,QAAQ,WACR8B,UAAWD,EAAIoD,OACfiT,eAAa,GAEb,kBAACpR,GAAA,EAAD,CAAY9G,QAAQ,QAAQ8C,MAAM,iBAC/BtL,EAAE,yCCxVb4xB,GAAY,SAAA5iB,GAAK,MAAK,CAC1BpH,GAAG,cAAD,OAAgBoH,GAClB,gBAAgB,mBAAhB,OAAoCA,KAGhC6iB,GAAmB,SAAC,GAAwE,IAAtE7wB,EAAqE,EAArEA,SAAU8D,EAA2D,EAA3DA,WAAYY,EAA+C,EAA/CA,sBAAuBC,EAAwB,EAAxBA,QAASwC,EAAe,EAAfA,SAAe,EACzEvC,mBAAS,GADgE,mBACxFksB,EADwF,KACnFC,EADmF,KAEvF/xB,EAAMgG,cAANhG,EAFuF,EAGtDuH,KAAjCF,EAHuF,EAGvFA,KAAMI,EAHiF,EAGjFA,WAAYQ,EAHqE,EAGrEA,WAHqE,EAI1C7G,IAA7CI,EAJuF,EAIvFA,MAAOC,EAJgF,EAIhFA,QAASC,EAJuE,EAIvEA,WAAYG,EAJ2D,EAI3DA,aAE9BmwB,EAAmBznB,KACnB0nB,EAAajnB,KACbknB,EAAcvnB,KAEd6W,EAAY,SAACtI,EAAO1S,GACxBurB,EAAOvrB,IAGH+a,EAAQ,uCAAG,WAAO4Q,EAAUjZ,GAAjB,qBAAAzW,EAAA,yDACXyW,IACFA,EAAMmP,iBACNnP,EAAMoP,mBAEAnP,EAAmBgZ,EAAnBhZ,OAAQ1Q,EAAW0pB,EAAX1pB,OACV+a,EAAOT,eAAKoP,EAAU,OAAQ,SAAU,UAC9ClqB,EAAWub,GACI,WAAX/a,EARW,sBASL0Q,EATK,OAUN,SAVM,OAqBN,SArBM,+BAWH/S,EAXG,2BAWYiB,GAXZ,IAWkBW,QAASmqB,EAASnqB,WACrCkZ,YAAc9a,EAAQ8a,aAAe,KAC7C9a,EAAQ+a,UAAY/a,EAAQ+a,WAAa,KACzC/a,EAAQgb,SAAWhb,EAAQgb,UAAY,KAd9B,UAeU3Z,EAAWrB,GAfrB,uBAiBP2rB,EAAOK,SAASD,EAASE,KAAM,KAjBxB,oCAsBTN,EAAOK,SAASD,EAASE,KAAM,KAtBtB,yFA6BbN,EAAOK,SAASD,EAASE,KAAM,KA7BlB,4CAAH,wDAiCNzrB,EAAcD,KAAdC,UAER,OACE,kBAAC9F,EAAD,CAAmBE,SAAUA,GAC3B,kBAAC,IAAD,CACEsrB,SAAU,GACVC,aAAc,CACZC,SAAU,MACVC,WAAY,UAEdC,oBAAqBC,KAErB,kBAAC,GAAD,CAAuBlrB,QAASA,EAAS0G,SAAUtG,EAAcgB,OAAO,YACxE,kBAAC,GAAD,CAAuBpB,QAASD,EAAO2G,SAAUzG,EAAYmB,OAAO,WAGtE,kBAACsV,EAAA,EAAD,CAAOma,UAAW,GACf1rB,EAAY,kBAAC,GAAD,MAAc,KAC3B,kBAAC8c,EAAA,EAAD,CAAWhK,SAAS,KAAKkK,gBAAc,EAACtZ,UAAW0nB,EAAiBxnB,WAClE,kBAAC+nB,EAAA,EAAD,CACE/rB,MAAOsrB,EACPxW,SAAUkG,EACVhZ,QAAQ,YACRsR,aAAW,gBACXzK,QAAS6iB,GAET,kBAACM,EAAA,EAAD,eACElY,MAAOta,EAAE,6BAEL4xB,GAAU,GAHhB,CAIEviB,QAAS4iB,EACTrmB,SAAUkmB,EAAM,KAElB,kBAACU,EAAA,EAAD,eACElY,MAAOta,EAAE,6BAEL4xB,GAAU,GAHhB,CAIEviB,QAAS4iB,EACTrmB,SAAUkmB,GAAO,GAAKA,EAAM,KAE9B,kBAACU,EAAA,EAAD,eACElY,MAAOta,EAAE,6BAEL4xB,GAAU,GAHhB,CAIEviB,QAAS4iB,EACTrmB,SAAUkmB,GAAO,GAAKA,EAAM,KAE9B,kBAACU,EAAA,EAAD,eACElY,MAAOta,EAAE,6BAEL4xB,GAAU,GAHhB,CAIEviB,QAAS4iB,EACTrmB,SAAUkmB,GAAO,GAAKA,EAAM,KAE9B,kBAACU,EAAA,EAAD,eACElY,MAAOta,EAAE,6BAEL4xB,GAAU,GAHhB,CAIEviB,QAAS4iB,EACTrmB,SAAUkmB,GAAO,MAGrB,kBAAC,GAAD,CAAUtrB,MAAOsrB,EAAK9iB,MAAO,GAC3B,kBAAC,GAAD,CAAO4hB,MAAOvpB,EAAMka,SAAUA,EAAU5b,SAAO,KAEjD,kBAAC,GAAD,CAAUa,MAAOsrB,EAAK9iB,MAAO,GAC3B,kBAAC,GAAD,CAAgB4hB,MAAOvpB,EAAMka,SAAUA,EAAUC,UAAWA,KAE9D,kBAAC,GAAD,CAAUhb,MAAOsrB,EAAK9iB,MAAO,GAC3B,kBAAC,GAAD,CAASuS,SAAUA,EAAUC,UAAWA,KAG1C,kBAAC,GAAD,CAAUhb,MAAOsrB,EAAK9iB,MAAO,GAE3B,kBAAC,GAAD,CACEhO,SAAUA,EACV8D,WAAYA,EACZY,sBAAuBA,EACvBC,QAASA,GAET,kBAAC,GAAD,CAAa6b,UAAWA,MAI5B,kBAAC,GAAD,CAAUhb,MAAOsrB,EAAK9iB,MAAO,GAE3B,kBAAC,GAAD,CAAchO,SAAUA,EAAU8D,WAAYA,EAAYa,QAASA,GACjE,kBAAC,GAAD,CAAM6b,UAAWA,EAAWrZ,SAAUA,UAiBpD0pB,GAAiB3qB,aAAe,CAC9BlG,SAAU,GACV2E,SAAS,EACTwC,SAAU,cAGZ,IAAMsqB,GAAW,SAAAza,GAAU,IACjBjX,EAAqCiX,EAArCjX,SAAUyF,EAA2BwR,EAA3BxR,MAAOwI,EAAoBgJ,EAApBhJ,MAAU0jB,EADX,YACqB1a,EADrB,8BAGxB,OACE,uCACErF,KAAK,WACLmD,OAAQtP,IAAUwI,EAClBpH,GAAE,0BAAqBoH,GACvB4K,kBAAA,qBAA+B5K,IAE3B0jB,GAEHlsB,IAAUwI,GAAS,kBAACC,EAAA,EAAD,CAAKgN,EAAG,GAAIlb,KAWvB8wB,MClMAc,GATS,SAAC,GAAkB,IAAhB5xB,EAAe,EAAfA,SAAe,EACd6E,mBAAS,CAAEc,SAAS,IADN,mBACjCpF,EADiC,KAC1BC,EAD0B,KAExC,OAAO,kBAAC,GAAegF,SAAhB,CAAyBC,MAAO,CAAClF,EAAOC,IAAYR,ICU9C6xB,GAZS,SAAC,GAAkB,IAAhB7xB,EAAe,EAAfA,SAAe,EACd6E,mBAAS,CACjCpE,MAAO,KACPC,QAAS,OAH6B,mBACjCH,EADiC,KAC1BC,EAD0B,KAMxC,OAAO,kBAAC,EAAegF,SAAhB,CAAyBC,MAAO,CAAClF,EAAOC,IAAYR,ICuB9C8xB,GA7BM,SAAC,GAAiD,IAA/C9xB,EAA8C,EAA9CA,SAAUC,EAAoC,EAApCA,SAAU8D,EAA0B,EAA1BA,WAAYa,EAAc,EAAdA,QAAc,EAC1CC,mBAAS,CACjCyB,KAAM,GACNW,QAAS,GACTxG,MAAO,KACPC,QAAS,KACTT,WACA8D,aACAa,YARkE,mBAC7DrE,EAD6D,KACtDC,EADsD,KAmBpE,OARA0E,qBAAU,WAEJjF,EAASC,aAAeD,EAASE,eACnCK,GAAS,SAAA4E,GAAS,kCAAUA,GAAV,IAAqBnF,kBAGxC,CAACA,IAEG,kBAAC,GAAYuF,SAAb,CAAsBC,MAAO,CAAClF,EAAOC,IAArC,IAAkDR,EAAlD,MCjBH+xB,GAAe,SAAC,GAAiD,IAA/C/xB,EAA8C,EAA9CA,SAAUC,EAAoC,EAApCA,SAAU8D,EAA0B,EAA1BA,WAAYa,EAAc,EAAdA,QAAc,EAC1CC,mBAAS,CACjC0M,OAAQ,KACRG,MAAO,KACPO,SAAU,KACVC,gBAAiB,KACjBhD,WAAY,CACV2B,WAAY,EACZC,cAAe,EACfC,iBAAkB,EAClBC,OAAQ,EACRC,KAAM,EACNC,OAAO,EACPC,MAAM,GAERvM,UACAb,aACAtD,MAAO,KACPC,QAAS,OAlByD,mBAC7DH,EAD6D,KACtDC,EADsD,KAqB9DwxB,EAAkB,SAAlBA,EAAkBjiB,GACtB,OAAIA,EACEA,EAAIlB,MAAwB,IAAhBkB,EAAIlB,KAAKhI,GAChB,CAAEoL,SAAUlC,EAAIlJ,GAAIqL,gBAAiBnC,EAAIK,WAE3C4hB,EAAgBjiB,EAAIkiB,WAEtB,MAsDT,OAnDA/sB,qBAAU,WAAO,IACPhF,EAA+BD,EAA/BC,YAAaC,EAAkBF,EAAlBE,cA4CjBD,GAAeC,GA3CE,uCAAG,wCAAAuB,EAAA,sDACtB,IACMkD,GACI+M,EAAOjC,GAASrK,QAAQ,GACxBuM,EAFK,UAEKD,EAAK9B,OAFV,YAEoB8B,EAAK5B,IAAM,IAAM,GAFrC,6BAE2C4B,QAF3C,IAE2CA,GAF3C,UAE2CA,EAAM5B,WAFjD,aAE2C,EAAWC,YAFtD,QAE8D,IAF9D,EAG2BgiB,EAAgBrgB,EAAK5B,KAAnDkC,EAHG,EAGHA,SAAUC,EAHP,EAGOA,gBAClB1R,GAAS,SAAAI,GAAI,kCACRA,GADQ,IAEX2Q,OAAQ,gBACRU,WACAC,kBACAggB,SAAS,EACTC,aAAcxgB,EAAK9K,GACnB6K,MAAM,eACHC,EAAKnC,WAAWqC,cADd,2BACmCF,GADnC,IACyCC,gBAKhD5P,QAAQ2E,QAAQ1G,EAASmyB,gBAAgB1vB,MAAK,SAAA2vB,GAAQ,IAE5CC,EAAuBD,EAAvBC,mBAER/iB,GAAyBxL,EAAYuuB,GADjB,GACkD5vB,MAAK,SAAAX,GAAS,IAAD,IAC3E4P,EAAO5P,EAAKsD,QACZuM,EAAI,UAAMD,EAAK9B,OAAX,YAAqB8B,EAAK5B,IAAM,IAAM,GAAtC,6BAA4C4B,QAA5C,IAA4CA,GAA5C,UAA4CA,EAAM5B,WAAlD,aAA4C,EAAWC,YAAvD,QAA+D,IAFQ,EAG3CgiB,EAAgBrgB,EAAK5B,KAAnDkC,EAHyE,EAGzEA,SAAUC,EAH+D,EAG/DA,gBAClB1R,GAAS,SAAAI,GAAI,kCACRA,GADQ,IAEX2Q,OAAQ+gB,EAAmBzgB,cAC3BI,WACAC,kBACAR,MAAM,eACHC,EAAKnC,WAAWqC,cADd,2BACmCF,GADnC,IACyCC,OAAMmD,QAAQ,gBAMpE,MAAO8O,GACP/gB,QAAQrC,MAAM,QAASojB,GAxCH,2CAAH,oDA4CnB0O,KAGD,CAACtyB,EAAU2E,IAEP,kBAAC,GAAYY,SAAb,CAAsBC,MAAO,CAAClF,EAAOC,IAAYR,IAa1D+xB,GAAa5rB,aAAe,CAC1BlG,SAAU,CACRC,aAAa,EACbC,eAAe,GAEjByE,SAAS,GAGImtB,UC1FTS,GAAsB,kBACzBp0B,QACCA,OAAOiD,SACPjD,OAAOiD,QAAQpB,UAFhB,2BAEiC7B,OAAOiD,QAAQpB,UAFhD,IAE0DC,aAAa,KAAW,CACjFA,aAAa,IAGXuyB,GAAa,CACjB1d,OAAQ,SACR7V,OAAQ,SACRwzB,2BAA4B,gCAC5B3uB,WAAY,cACZ4uB,eAAgB,mBAChBhuB,sBAAuB,0BACvBiuB,OAAQ,UACRhuB,QAAS,WACTiuB,QAAS,WAGLC,G,4MAWJ7yB,SAAWuyB,K,8DAcX,SAAyBxiB,EAAM+iB,EAAUC,GACvC,GAAKC,KAAKxpB,WAAaspB,IAAaC,EAApC,CAGA,IAAKt0B,OAAOsZ,OAAOya,IAAYS,SAASljB,GACtC,MAAM,IAAI9N,MAAJ,uCAA0C8N,IAE9CA,IAASyiB,GAAWC,4BACtBO,KAAKE,8BAEPF,KAAK3Y,Y,+BAGP,WAAqB,IAAD,OAClB2Y,KAAKxpB,UAAYpG,SAASC,cAAc,OACxC2vB,KAAKG,WAAa/vB,SAASC,cAAc,OACzC2vB,KAAKxpB,UAAU4pB,YAAYJ,KAAKG,YAEhC,IAAMR,EAASK,KAAKK,aAAab,GAAWG,QAEtCW,EAAWlwB,SAASC,cAAc,QACxCiwB,EAASC,aAAa,MAAO,cAC7BD,EAASC,aAAa,OAAtB,UAAiCZ,EAAjC,uBAEA,IAAMa,EAAaR,KAAKS,aAAa,CAAEvS,KAAM,SAE7CsS,EAAWJ,YAAYE,GACvBE,EAAWJ,YAAYJ,KAAKxpB,WAE5BwpB,KAAKU,IAAMC,YAAU,2BAChBC,eADe,IAElBC,eAAgBb,KAAKxpB,aAGvBwpB,KAAKc,SAAWC,YACd,CACE/c,MAAO,CACLgd,UAAW,CACTxqB,UAAWwpB,KAAKG,YAElBc,WAAY,CACVzqB,UAAWwpB,KAAKG,cAItBe,QAGFlB,KAAKhzB,SAAL,2BAAqBuyB,MAArB,IAA4CtyB,aAAa,IAEzD+yB,KAAKmB,6BAA+Bn2B,E3E7GL,Y2E6GiD,WAC9E,EAAKgC,SAAL,2BAAqBuyB,MAArB,IAA4CtyB,aAAa,IACzD,EAAKoa,YAGP2Y,KAAKoB,yBAA2Bp2B,EAAuBD,GAA8B,SAAA+kB,GACnFjgB,QAAQC,IAAI,cAAeggB,MAG7BkQ,KAAKE,8BAELF,KAAK3Y,SAELga,IAAeb,K,kCAGjB,WACMR,KAAKmB,8BACPnB,KAAKmB,+BAEHnB,KAAKoB,0BACPpB,KAAKoB,6B,yCAIT,WACE,IAAME,EAAmF,SAA7DtB,KAAKK,aAAab,GAAWC,4BAErD6B,IAAwBtB,KAAKuB,8BAE1BD,IAECtB,KAAKwB,6BACPxB,KAAKwB,8BAEHxB,KAAKmB,8BACPnB,KAAKmB,gCAGTnB,KAAKuB,4BAA8BD,K,oBAIvC,WACE,IAAMxwB,EAAakvB,KAAKK,aAAab,GAAW1uB,aAAe,GACzD4uB,EAAiBM,KAAKK,aAAab,GAAWE,iBAAmB,GACjEhuB,EAAwBsuB,KAAKK,aAAab,GAAW9tB,wBAA0B,GAC/EoQ,EAAkD,SAAzCke,KAAKK,aAAab,GAAW1d,QACtCnQ,EAAoD,SAA1CquB,KAAKK,aAAab,GAAW7tB,SAC7C,GAAImQ,EACF2f,IAASpa,OAAO,0CADlB,CAIA,IAAMpb,EAAS+zB,KAAKK,aAAab,GAAWvzB,SAAW,KACvDy1B,EAAUz1B,GACVw1B,IAASpa,OACP,kBAAC,EAAgB9U,SAAjB,CAA0BC,MAAOwtB,KAAKhzB,UAGpC,kBAAC,GAAD,KAGE,kBAAC,GAAD,KAGE,kBAAC,GAAD,CAAcA,SAAUgzB,KAAKhzB,SAAU2E,QAASA,EAASb,WAAY4uB,GACnE,kBAACiC,EAAA,EAAD,CAAgBjB,IAAKV,KAAKU,KAExB,kBAACkB,EAAA,EAAD,CAAe3qB,MAAO+oB,KAAKc,UAEzB,kBAAC,GAAD,CAAc9zB,SAAUgzB,KAAKhzB,SAAU8D,WAAYA,EAAYa,QAASA,GACtE,kBAAC,GAAD,CACE3E,SAAUgzB,KAAKhzB,SACf8D,WAAYA,EACZY,sBAAuBA,EACvBC,QAASA,EACTwC,SAAU6rB,KAAK7rB,kBAS/B6rB,KAAKG,gB,+BA3IT,WACE,OAAO10B,OAAOsZ,OAAOya,Q,eAtBSqC,cAqKlCC,eAAeC,OAAO,gBAAiBlC,M","file":"static/js/main.7d691966.chunk.js","sourcesContent":["import React from 'react';\n\nconst KeycloakContext = React.createContext(null);\n\nexport default KeycloakContext;\n","export const INPUT_EVENT_TYPES = {\n  detailTask: 'task.detail',\n};\n\nexport const KEYCLOAK_EVENT_TYPE = 'keycloak';\n","export const publishWidgetEvent = (eventType, payload) => {\n  const widgetEvent = new CustomEvent(eventType, {\n    detail: {\n      payload,\n    },\n  });\n  window.dispatchEvent(widgetEvent);\n};\n\nexport const createWidgetEventPublisher = eventType => payload =>\n  publishWidgetEvent(eventType, payload);\n\nexport const subscribeToWidgetEvent = (eventType, eventHandler) => {\n  window.addEventListener(eventType, eventHandler);\n\n  return () => {\n    window.removeEventListener(eventType, eventHandler);\n  };\n};\n\nexport const subscribeToWidgetEvents = (widgetEvents, eventHandler) => {\n  widgetEvents.forEach(eventType => window.addEventListener(eventType, eventHandler));\n\n  return () => {\n    widgetEvents.forEach(eventType => window.removeEventListener(eventType, eventHandler));\n  };\n};\n\nexport const widgetEventToFSA = widgetEvent => {\n  // for info about Flux Standard Action (FSA) see https://github.com/redux-utilities/flux-standard-action\n  const {\n    type,\n    detail: { payload, error, meta },\n  } = widgetEvent;\n  return { type, payload, error, meta };\n};\n","import it from 'i18n/locales/it.json';\nimport en from 'i18n/locales/en.json';\n\nexport default {\n  it,\n  en,\n};\n","import i18next from 'i18next';\nimport { initReactI18next } from 'react-i18next';\nimport locales from 'i18n/locales';\n\nconst defaultNs = 'translation';\n\n// adds the default namespace to the locales\nconst resources = Object.keys(locales).reduce(\n  (acc, lang) => ({ ...acc, [lang]: { [defaultNs]: locales[lang] } }),\n  {}\n);\n\nexport const translateFn = i18next.t;\n\nexport const setI18nextLocale = (locale, defaultLocale) => {\n  i18next.use(initReactI18next).init({\n    defaultNs,\n    interpolation: {\n      escapeValue: false,\n    },\n    resources,\n    lng: locale || defaultLocale,\n    fallbackLng: defaultLocale,\n    react: { useSuspense: false },\n  });\n};\n","import { DEFAULT_LOCALE } from 'i18n/constants';\nimport { setI18nextLocale } from 'i18n/i18next';\n\nexport default locale => {\n  setI18nextLocale(locale, DEFAULT_LOCALE);\n};\n","export const DEFAULT_LOCALE = 'it'; // eslint-disable-line import/prefer-default-export\n","export const AuthenticatedView = ({ children, keycloak }) => {\n  const authenticated = keycloak.initialized && keycloak.authenticated;\n  return authenticated ? children : null;\n};\n\nexport const UnauthenticatedView = ({ children, keycloak }) => {\n  const authenticated = keycloak.initialized && keycloak.authenticated;\n  return !authenticated ? children : null;\n};\n","import { createContext } from 'react';\n\nconst MessageContext = createContext([{}, () => {}]);\nexport default MessageContext;\n","import { useContext } from 'react';\nimport MessageContext from './MessageContext';\n\nconst MessageManager = () => {\n  const [state, setState] = useContext(MessageContext);\n\n  const setError = error => setState(prev => ({ ...prev, error }));\n  const setMessage = message => setState(prev => ({ ...prev, message }));\n\n  const clearError = () => setState(prev => ({ ...prev, error: null }));\n  const clearMessage = () => setState(prev => ({ ...prev, message: null }));\n\n  return {\n    error: state.error,\n    message: state.message,\n    clearError,\n    setError,\n    clearMessage,\n    setMessage,\n  };\n};\nexport default MessageManager;\n","import { createContext } from 'react';\n\nconst AttachmentContext = createContext([{}, () => {}]);\nexport default AttachmentContext;\n","export const getKeycloakToken = () => {\n  if (\n    window &&\n    window.entando &&\n    window.entando.keycloak &&\n    window.entando.keycloak.authenticated\n  ) {\n    return window.entando.keycloak.token;\n  }\n  return '';\n};\n\nexport const getDefaultOptions = () => ({\n  headers: new Headers({\n    Authorization: `Bearer ${getKeycloakToken()}`,\n    'Content-Type': 'application/json',\n  }),\n});\n\nexport const request = async (url, options, haveBodyResponse = true) => {\n  const response = await fetch(url, options);\n  if (response.status === 204) {\n    return {};\n  }\n  if (response.status >= 200 && response.status < 300) {\n    if (haveBodyResponse) {\n      return response.json();\n    }\n    return {};\n  }\n  return Promise.reject(new Error(response.statusText || response.status));\n};\n\nexport const requestBlob = async (url, options, previewPdf = false) => {\n  const response = await fetch(url, options);\n  if (response.status === 200) {\n    const filename = response.headers.get('Content-Disposition').split('filename=')[1];\n    response.blob().then(blob => {\n      const otherUrl = window.URL.createObjectURL(blob);\n      console.log('requestBlob filename', filename);\n      if (previewPdf && filename.toLowerCase().endsWith('.pdf')) {\n        const pdfWindow = window.open();\n        pdfWindow.location.href = otherUrl;\n      } else {\n        const a = document.createElement('a');\n        a.href = otherUrl;\n        a.download = filename;\n        a.click();\n      }\n    });\n    return null;\n  }\n  return Promise.reject(new Error(response.statusText || response.status));\n};\n","import { getDefaultOptions, request, requestBlob } from 'api/helpers';\n\nexport const NEXTCLOUD_API = 'nextcloud';\nexport const ADHOC_API = 'adhoc';\nconst SEARCH_ADHOC_API = 'adhoc/search';\nconst DOWNLOAD_ADHOC_API = 'adhoc/download';\nconst ALL_TYPES_API = 'all/types';\nconst referenceTypeRequestParameter = 'referenceType=';\n\nexport const apiAttachmentPost = async (url, body) => {\n  const options = {\n    ...getDefaultOptions(),\n    method: 'POST',\n    body: body ? JSON.stringify(body) : null,\n  };\n  return request(url, options);\n};\n\nexport const apiAttachmentDelete = async (serviceUrl, attachmentId) => {\n  const url = `${serviceUrl}/${attachmentId}`;\n  const options = {\n    ...getDefaultOptions(),\n    method: 'DELETE',\n  };\n  return request(url, options);\n};\n\nexport const apiAttachmentGet = async (serviceUrl, referenceId, referenceType) => {\n  const url = `${serviceUrl}/${referenceId}?${referenceTypeRequestParameter}${referenceType}`;\n  const options = {\n    ...getDefaultOptions(),\n    method: 'GET',\n  };\n  return request(url, options);\n};\n\nexport const apiAttachmentSearchAdhoc = async (serviceUrl, adhocSearchDto) => {\n  const url = `${serviceUrl}/${SEARCH_ADHOC_API}`;\n  const options = {\n    ...getDefaultOptions(),\n    method: 'POST',\n    body: adhocSearchDto ? JSON.stringify(adhocSearchDto) : null,\n  };\n  return request(url, options);\n};\n\nexport const apiDownloadAdhocFile = async (serviceUrl, downloadDto, previewPdf) => {\n  const url = `${serviceUrl}/${DOWNLOAD_ADHOC_API}`;\n  const options = {\n    ...getDefaultOptions(),\n    method: 'POST',\n    body: downloadDto ? JSON.stringify(downloadDto) : null,\n    responseType: 'blob',\n  };\n  return requestBlob(url, options, previewPdf);\n};\n\nexport const apiAttachmentGetAllReferenceAndCloudType = async serviceUrl => {\n  const url = `${serviceUrl}/${ALL_TYPES_API}`;\n  const options = {\n    ...getDefaultOptions(),\n    method: 'GET',\n  };\n  return request(url, options);\n};\n","import PropTypes from 'prop-types';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport MessageManager from '../message/MessageManager';\nimport AttachmentContext from './AttachmentContext';\nimport { apiAttachmentGetAllReferenceAndCloudType } from '../../api/attachments';\n\nconst AttachmentProvider = ({ children, keycloak, serviceUrl, serviceUrlAttachments, useMock }) => {\n  const [state, setState] = useState({\n    keycloak,\n    serviceUrl,\n    serviceUrlAttachments,\n    attachments: [],\n    error: null,\n    message: null,\n    useMock,\n    allClouds: {},\n    allReferenceType: {},\n  });\n  const { t } = useTranslation();\n  const { setError } = MessageManager();\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const json = await apiAttachmentGetAllReferenceAndCloudType(serviceUrlAttachments);\n        setState(prevState => ({\n          ...prevState,\n          allClouds: json.payload.clouds,\n          allReferenceType: json.payload.references,\n        }));\n      } catch (e) {\n        setState({ ...state, error: t('error.dataLoading'), message: null });\n        setError(t('error.dataLoading'));\n      }\n    };\n    // eslint-disable-next-line react/prop-types\n    if (keycloak.initialized && keycloak.authenticated) {\n      setState(prevState => ({ ...prevState, keycloak }));\n      fetchData();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [keycloak]);\n\n  return (\n    <AttachmentContext.Provider value={[state, setState]}>{children}</AttachmentContext.Provider>\n  );\n};\n\nAttachmentProvider.propTypes = {\n  children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]).isRequired,\n  keycloak: PropTypes.shape({}).isRequired,\n  serviceUrl: PropTypes.string.isRequired,\n  serviceUrlAttachments: PropTypes.string.isRequired,\n  useMock: PropTypes.bool.isRequired,\n};\n\nexport default AttachmentProvider;\n","import { createContext } from 'react';\n\nconst LoadingContext = createContext([{ loading: false }, () => {}]);\n\nexport default LoadingContext;\n","import { useContext } from 'react';\nimport LoadingContext from './LoadingContext';\n\nconst LoadingManager = () => {\n  const [state, setState] = useContext(LoadingContext);\n  const setLoading = loading => {\n    setState({ loading });\n  };\n\n  return {\n    isLoading: state.loading,\n    setLoading,\n  };\n};\n\nexport default LoadingManager;\n","import { createContext } from 'react';\n\nconst NoteContext = createContext([{}, () => {}]);\nexport default NoteContext;\n","import PropTypes from 'prop-types';\nimport React, { useEffect, useState } from 'react';\nimport NoteContext from './NoteContext';\n\nconst NoteProvider = ({ children, taskId, keycloak, serviceUrl, useMock }) => {\n  const [state, setState] = useState({\n    taskId,\n    notes: [],\n    error: null,\n    message: null,\n    keycloak,\n    serviceUrl,\n    useMock,\n  });\n\n  useEffect(() => {\n    // eslint-disable-next-line react/prop-types\n    if (keycloak.initialized && keycloak.authenticated) {\n      setState(prevState => ({ ...prevState, keycloak }));\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [keycloak]);\n\n  return <NoteContext.Provider value={[state, setState]}>{children} </NoteContext.Provider>;\n};\n\nNoteProvider.propTypes = {\n  children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]).isRequired,\n  taskId: PropTypes.string,\n  keycloak: PropTypes.shape({}).isRequired,\n  serviceUrl: PropTypes.string.isRequired,\n  useMock: PropTypes.bool.isRequired,\n};\n\nNoteProvider.defaultProps = {\n  taskId: null,\n};\nexport default NoteProvider;\n","import { getDefaultOptions, request } from 'api/helpers';\n\nconst resource = 'tasks';\n\nexport const apiTaskGet = async (serviceUrl, taskId) => {\n  const url = `${serviceUrl}/${resource}/${taskId}`;\n  const options = {\n    ...getDefaultOptions(),\n    method: 'GET',\n  };\n  return request(url, options);\n};\n\nexport const apiTaskPost = async (serviceUrl, task) => {\n  const url = `${serviceUrl}/${resource}`;\n  const options = {\n    ...getDefaultOptions(),\n    method: 'POST',\n    body: task ? JSON.stringify(task) : null,\n  };\n  return request(url, options);\n};\n","import { createContext } from 'react';\n\n// eslint-disable-next-line no-unused-vars\nconst TaskContext = createContext([{}, () => {}]);\n\nexport default TaskContext;\n","import { useContext } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { apiTaskGet, apiTaskPost } from '../../api/task';\nimport MessageManager from '../message/MessageManager';\nimport TaskContext from './TaskContext';\nimport loadingManager from '../loading/LoadingManager';\n\nconst TaskManager = () => {\n  const [state, setState] = useContext(TaskContext);\n  const { setLoading } = loadingManager();\n  const { t } = useTranslation();\n  const { serviceUrl, useMock } = state;\n  const { setError, setMessage } = MessageManager();\n\n  const createTask = async payload => {\n    try {\n      setLoading(true);\n      if (useMock) {\n        await new Promise(resolve => setTimeout(() => resolve(payload)), 500);\n        setState(prev => ({\n          ...prev,\n          task: { id: '33' },\n          message: t('message.taskCreated', { id: 33 }),\n        }));\n        setMessage(t('message.taskCreated', { id: 33 }));\n        return 33;\n      }\n\n      const response = await apiTaskPost(serviceUrl, payload);\n\n      if (response.payload.id) {\n        const task = await apiTaskGet(serviceUrl, response.payload.id);\n\n        const updatedTask = { ...task.payload, processDefinitionId: payload.processDefinitionId };\n\n        setState(prev => ({\n          ...prev,\n          task: updatedTask,\n          message: t('message.taskCreated', { id: response.payload.id }),\n        }));\n        setMessage(t('message.taskCreated', { id: response.payload.id }));\n      }\n      return response.payload.id;\n    } catch (error) {\n      console.error('error', error);\n      setState({ ...state, error: t('error.dataLoading'), message: null });\n      setError(t('error.dataLoading'));\n    } finally {\n      setLoading(false);\n    }\n    return null;\n  };\n\n  const updateTask = task => setState(prev => ({ ...prev, task: { ...prev.task, ...task } }));\n\n  const clearError = () => setState(prev => ({ ...prev, error: null }));\n\n  const clearMessage = () => setState(prev => ({ ...prev, message: null }));\n\n  return {\n    contextActions: state.actions,\n    actions: state.actions,\n    task: state.task,\n    updateTask,\n    createTask,\n    error: state.error,\n    message: state.message,\n    clearError,\n    clearMessage,\n  };\n};\n\nexport default TaskManager;\n","import { IconButton } from '@material-ui/core';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { useSnackbar } from 'notistack';\nimport PropTypes from 'prop-types';\nimport React, { useEffect } from 'react';\n\nconst NotificationContainer = ({ message, callback, status, autoHideDuration }) => {\n  const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n  const options = {\n    variant: status,\n    autoHideDuration,\n    action: key => (\n      <IconButton\n        onClick={() => {\n          callback();\n          closeSnackbar(key);\n        }}\n      >\n        <CloseIcon />\n      </IconButton>\n    ),\n    onClose: () => callback(),\n    preventDuplicate: true,\n  };\n\n  useEffect(() => {\n    if (message) {\n      enqueueSnackbar(message, options);\n    }\n  }, [message]);\n\n  return <></>;\n};\n\nNotificationContainer.propTypes = {\n  message: PropTypes.string,\n  callback: PropTypes.func,\n  status: PropTypes.oneOf(['success', 'error', 'info']).isRequired,\n  autoHideDuration: PropTypes.number,\n};\n\nNotificationContainer.defaultProps = {\n  message: undefined,\n  callback: () => {},\n  autoHideDuration: 3000,\n};\n\nexport default NotificationContainer;\n","import { makeStyles } from '@material-ui/styles';\n\nconst spinnerStyle = makeStyles({\n  spinner: {\n    zIndex: 99999,\n    display: 'inline-block',\n    position: 'absolute',\n    top: '30%',\n    left: '50%',\n    width: '80px',\n    height: '80px',\n    '& div': {\n      transformOrigin: '40px 40px',\n      animation: '$spinner 1.2s linear infinite',\n    },\n    '& div::after': {\n      content: '\" \"',\n      display: 'block',\n      position: 'absolute',\n      top: '3px',\n      left: '37px',\n      width: '5px',\n      height: '18px',\n      borderRadius: '20%',\n      background: 'currentColor',\n    },\n    '& div:nth-child(1)': {\n      transform: 'rotate(0deg)',\n      animationDelay: '-1.1s',\n    },\n    '& div:nth-child(2)': {\n      transform: 'rotate(30deg)',\n      animationDelay: ' -1s',\n    },\n    '& div:nth-child(3)': {\n      transform: 'rotate(60deg)',\n      animationDelay: ' -0.9s',\n    },\n    '& div:nth-child(4)': {\n      transform: 'rotate(90deg)',\n      animationDelay: ' -0.8s',\n    },\n    '& div:nth-child(5)': {\n      transform: 'rotate(120deg)',\n      animationDelay: ' -0.7s',\n    },\n    '& div:nth-child(6)': {\n      transform: 'rotate(150deg)',\n      animationDelay: ' -0.6s',\n    },\n    '& div:nth-child(7)': {\n      transform: 'rotate(180deg)',\n      animationDelay: ' -0.5s',\n    },\n    '& div:nth-child(8)': {\n      transform: 'rotate(210deg)',\n      animationDelay: ' -0.4s',\n    },\n    '& div:nth-child(9)': {\n      transform: 'rotate(240deg)',\n      animationDelay: ' -0.3s',\n    },\n    '& div:nth-child(10)': {\n      transform: 'rotate(270deg)',\n      animationDelay: ' -0.2s',\n    },\n    '& div:nth-child(11)': {\n      transform: 'rotate(300deg)',\n      animationDelay: ' -0.1s',\n    },\n    '& div:nth-child(12)': {\n      transform: 'rotate(330deg)',\n      animationDelay: ' 0s',\n    },\n  },\n  '@keyframes spinner': {\n    from: { opacity: 0 },\n    to: { opacity: 1 },\n  },\n});\n\nexport default spinnerStyle;\n","import React from 'react';\nimport spinnerStyle from './style/spinnerStyle';\n\nconst Spinner = () => {\n  const css = spinnerStyle();\n  return (\n    <div className={css.spinner}>\n      <div />\n      <div />\n      <div />\n      <div />\n      <div />\n      <div />\n      <div />\n      <div />\n      <div />\n      <div />\n      <div />\n      <div />\n    </div>\n  );\n};\nexport default Spinner;\n","import { makeStyles } from '@material-ui/styles';\n\nexport const containerStyle = makeStyles({\n  container: {\n    border: '1px solid rgba(0, 0, 0, 0.23)',\n    borderRadius: 4,\n    padding: '16px 0',\n  },\n});\n\nexport const tabsStyle = makeStyles({\n  root: {\n    position: 'relative',\n    borderBottom: '1px solid #e8e8e8',\n  },\n  indicator: {\n    backgroundColor: '#86660d',\n  },\n});\n\nexport const tabStyle = makeStyles(theme => ({\n  root: {\n    textTransform: 'none',\n    marginRight: theme.spacing(1),\n    marginBottom: theme.spacing(2),\n    '&:hover': {\n      color: '#1b1d22',\n      opacity: 1,\n    },\n    '&$selected': {\n      color: '#1b1d22',\n    },\n    '&:focus': {\n      color: '#1b1d22',\n    },\n  },\n}));\n","import { makeStyles } from '@material-ui/styles';\n\nexport const actionsStyle = makeStyles(theme => ({\n  boxGrid: {\n    border: 0,\n    borderStyle: 'solid',\n    borderColor: theme.palette.action.disabled,\n    minHeight: '800px',\n    position: 'relative',\n    padding: theme.spacing(0.5),\n  },\n\n  item: {\n    height: '726px',\n  },\n\n  border: {\n    border: 1,\n    borderTop: 0,\n    borderRight: 0,\n    borderStyle: 'solid',\n    borderColor: theme.palette.action.disabled,\n  },\n\n  borderButton: {\n    border: 1,\n    borderRight: 0,\n    borderLeft: 0,\n    borderTop: 0,\n    borderStyle: 'solid',\n    borderColor: theme.palette.action.disabled,\n  },\n\n  containerInfo: {\n    height: '634px',\n    border: 0,\n    borderColor: 'green',\n    borderStyle: 'solid',\n    overflow: 'hidden',\n    paddingRight: theme.spacing(0.5),\n  },\n\n  containerInfoScroll: {\n    border: 0,\n    borderColor: 'blue',\n    borderStyle: 'solid',\n    height: '100%',\n    overflowY: 'scroll',\n    overflowX: 'hidden',\n    boxSizing: 'content-box',\n    '&::-webkit-scrollbar': {\n      width: 5,\n    },\n    '&::-webkit-scrollbar-track': {\n      background: '#f9fafb',\n      borderRadius: '4px',\n    },\n    '&::-webkit-scrollbar-thumb': {\n      background: '#e0e3e8',\n      borderRadius: '4px',\n    },\n    '&::-webkit-scrollbar-thumb:hover': {\n      background: '#555',\n    },\n  },\n\n  gridContainer: {\n    border: '0px solid red',\n  },\n\n  inputInfo: {\n    border: '0 solid red',\n  },\n\n  borderBox: {\n    borderBottom: 0,\n    borderBottomStyle: 'solid',\n    borderBottomColor: theme.palette.action.disabled,\n    minHeight: '50px',\n    textAlign: 'center',\n    padding: theme.spacing(2),\n  },\n\n  borderBoxInfo: {\n    paddingRight: theme.spacing(1),\n  },\n\n  boxActions: {\n    border: '0 solid red',\n    padding: theme.spacing(0),\n  },\n\n  boxEmptyActionContainer: {\n    border: '0 solid red',\n    padding: theme.spacing(4),\n    marginTop: theme.spacing(10),\n    textAlign: 'center',\n    '& .boxIcon': {\n      '& .MuiSvgIcon-root': {\n        fontSize: '3rem',\n        color: '#aeb6c2',\n      },\n    },\n  },\n\n  buttonAddAction: {\n    borderRadius: '4px',\n    backgroundColor: '#eeeff3',\n    color: '#1b1d22',\n    textTransform: 'none',\n    width: '100%',\n    minHeight: '60px',\n  },\n\n  boxButtons: {\n    border: '0 solid black',\n    margin: 0,\n    bottom: 0,\n  },\n\n  button: {\n    marginRight: theme.spacing(4),\n    marginLeft: theme.spacing(4),\n    height: '45px',\n  },\n\n  highlight: {\n    color: '#efb868',\n    fontWeight: 600,\n  },\n}));\n\nexport const actionInfoStyle = makeStyles(theme => ({\n  item: {\n    border: 0,\n    borderStyle: 'solid',\n    borderColor: theme.palette.action.disabled,\n  },\n\n  boxCircle: {\n    border: '0 solid red',\n    minHeight: '60px',\n    position: 'relative',\n  },\n\n  circle: {\n    width: '10px',\n    height: '10px',\n    borderRadius: '50%',\n    border: 1,\n    borderStyle: 'solid',\n    margin: 0,\n    position: 'absolute',\n    top: '50%',\n    left: 0,\n    transform: 'translate(0, -50%)',\n    color: '#b2b6b9',\n  },\n  boxAction: {\n    width: '100%',\n    backgroundColor: '#f4f4ec',\n    color: '#86660b',\n    minHeight: '60px',\n    display: 'flex',\n    flexDirection: 'row',\n    flexWrap: 'nowrap',\n    justifyContent: 'flex-start',\n    alignItems: 'center',\n    marginBottom: theme.spacing(2),\n  },\n  iconAction: {\n    border: '0 solid red',\n  },\n\n  boxIconSubAction: {\n    backgroundColor: '#ffffff',\n    color: theme.palette.action.disabled,\n    marginRight: theme.spacing(2),\n    paddingLeft: theme.spacing(1),\n    minHeight: '60px',\n    '& .MuiSvgIcon-root': {\n      paddingTop: '15px',\n    },\n  },\n\n  boxTextAction: {\n    border: '0 solid blue',\n    width: '100%',\n    textAlign: 'left',\n  },\n\n  boxAddSubAction: {\n    border: '0 solid blue',\n    height: '50px',\n    marginBottom: theme.spacing(2),\n  },\n  buttonAddSubAction: {\n    height: '100%',\n    width: '100%',\n    textTransform: 'none',\n  },\n}));\n","import { Box, Button, Grid, Typography } from '@material-ui/core';\nimport AddIcon from '@material-ui/icons/Add';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport DragIndicatorIcon from '@material-ui/icons/DragIndicator';\nimport InsertCommentIcon from '@material-ui/icons/InsertComment';\nimport { uniqueId } from 'lodash';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { actionInfoStyle } from './style/actionsStyle';\n\nconst ActionInfo = ({ actions, handleClickAction, disabledButton }) => {\n  const css = actionInfoStyle();\n  const { t } = useTranslation();\n\n  const handleClick = index => {\n    handleClickAction('subAction', index);\n  };\n\n  return actions.map((action, index) => (\n    <Box key={uniqueId('action-info_')}>\n      <Grid container>\n        <Grid item xs={1} classes={{ item: css.item }}>\n          <Box className={css.boxCircle}>\n            <Box className={css.circle} />\n          </Box>\n        </Grid>\n        <Grid item xs={11} classes={{ item: css.item }}>\n          <Box className={css.boxAction}>\n            <Box marginLeft={2} marginRight={2} className={css.iconAction}>\n              <InsertCommentIcon fontSize=\"small\" />\n            </Box>\n            <Box className={css.boxTextAction}>\n              <Typography variant=\"body1\" color=\"textPrimary\">\n                {`${action.title || 'Azione'} `}\n              </Typography>\n            </Box>\n          </Box>\n        </Grid>\n        {action.subActions.map(subAction => (\n          <React.Fragment key={uniqueId('sub-action_')}>\n            <Grid key={uniqueId('sub-action_')} item xs={1} classes={{ item: css.item }} />\n            <Grid item xs={11} classes={{ item: css.item }}>\n              <Box className={css.boxAction}>\n                <Box className={css.boxIconSubAction}>\n                  <DragIndicatorIcon fontSize=\"small\" />\n                </Box>\n                <Box marginRight={2} className={css.iconAction}>\n                  <InsertCommentIcon fontSize=\"small\" />\n                </Box>\n                <Box className={css.boxTextAction}>\n                  <Typography variant=\"body1\" color=\"textPrimary\">\n                    {`${subAction.title}`}\n                  </Typography>\n                </Box>\n                <Box marginRight={2} className={css.iconAction}>\n                  <ChevronRightIcon fontSize=\"small\" />\n                </Box>\n              </Box>\n            </Grid>\n          </React.Fragment>\n        ))}\n\n        <Grid item xs={1} classes={{ item: css.item }} />\n        <Grid item xs={11} classes={{ item: css.item }}>\n          <Box className={css.boxAddSubAction}>\n            <Button\n              variant=\"outlined\"\n              type=\"button\"\n              className={css.buttonAddSubAction}\n              startIcon={<AddIcon />}\n              onMouseDown={() => handleClick(index)}\n              disabled={disabledButton}\n            >\n              <Typography variant=\"body2\" color=\"textSecondary\">\n                {t('entities.creation.actions.addSubaction')}\n              </Typography>\n            </Button>\n          </Box>\n        </Grid>\n      </Grid>\n    </Box>\n  ));\n};\n\nActionInfo.propTypes = {\n  actions: PropTypes.arrayOf(\n    PropTypes.shape({\n      title: PropTypes.string,\n      subActions: PropTypes.arrayOf(PropTypes.shape({})),\n    })\n  ).isRequired,\n  handleClickAction: PropTypes.func.isRequired,\n  disabledButton: PropTypes.bool.isRequired,\n};\n\nexport default ActionInfo;\n","import { getDefaultOptions, request } from 'api/helpers';\n\nconst resource = 'users';\n\nexport const apiUsersGet = async (\n  serviceUrl,\n  pagination = { page: 0, pageSize: 10 },\n  search,\n  informedOrConsulted = false\n) => {\n  let url = `${serviceUrl}/${resource}?informedOrConsulted=${informedOrConsulted}&sortBy=lastname,firstname,id`;\n  if (pagination) {\n    url += `&page=${pagination.page}&size=${pagination.pageSize}`;\n  }\n\n  if (search) {\n    url += `&globalSearch=${search}`;\n  }\n  const options = {\n    ...getDefaultOptions(),\n    method: 'GET',\n  };\n  return request(url, options);\n};\n\nexport const apiUserFromFiscalCodeGet = async (serviceUrl, fiscalCode, loadEdoTree) => {\n  let url = `${serviceUrl}/${resource}/fiscalCode/${fiscalCode}`;\n  if (loadEdoTree) {\n    url += `?loadEdoTree=true`;\n  }\n  const options = {\n    ...getDefaultOptions(),\n    method: 'GET',\n  };\n  return request(url, options);\n};\n","export const taskMockUser = {\n  payload: {\n    id: '107',\n    title: 'new task ',\n    description: 'ok',\n    startDate: '2021-02-08T15:47:58.42',\n    endDate: '2021-02-23T15:47:58.42',\n    priority: 'medium',\n    responsible: 'pantonucci',\n    accountable: null,\n    consulted: null,\n    informed: 'admin',\n    creator: 'admin',\n    status: null,\n    completionPercentage: null,\n    canComplete: true,\n  },\n  metadata: {\n    canChangeTaskRoles: true,\n    canRemoveAttachments: true,\n    canRemoveNotes: true,\n    canChangeCompletionStatus: true,\n  },\n};\n\nexport const userMock = {\n  payload: [\n    {\n      id: 13,\n      firstname: 'Massimiliano',\n      lastname: 'Alessandrini',\n      degree: 'Ten. Col.',\n      active: true,\n      edo: {\n        id: 1,\n        name: 'Vertice 1',\n        headUser: 1,\n        defaultUser: 1,\n        type: { id: 1, name: 'Vertice' },\n        parentId: null,\n        shortName: 'AAAA',\n        parent: {\n          id: 13,\n          firstname: 'BBBBBMassimiliano',\n          lastname: 'Alessandrini',\n          degree: 'Ten. Col.',\n          active: true,\n          edo: {\n            id: 1,\n            name: 'Vertice 1',\n            headUser: 1,\n            defaultUser: 1,\n            type: { id: 1, name: 'Vertice' },\n            parentId: null,\n            shortName: 'BBB',\n            parent: {\n              id: 13,\n              firstname: 'CCCCMassimiliano',\n              lastname: 'Alessandrini',\n              degree: 'Ten. Col.',\n              active: true,\n              edo: {\n                id: 1,\n                name: 'Vertice 1',\n                headUser: 1,\n                defaultUser: 1,\n                type: { id: 1, name: 'Vertice' },\n                parentId: null,\n                shortName: 'CCC',\n                parent: {\n                  id: 13,\n                  firstname: 'ESERCITOMassimiliano',\n                  lastname: 'Alessandrini',\n                  degree: 'Ten. Col.',\n                  active: true,\n                  edo: {\n                    id: 1,\n                    name: 'Vertice 1',\n                    headUser: 1,\n                    defaultUser: 1,\n                    type: { id: 1, name: 'Vertice' },\n                    parentId: null,\n                    shortName: 'ESERCITO',\n                    active: true,\n                  },\n                  fiscalCode: 'malessandrini',\n                  entity: null,\n                  entityDenomination: null,\n                  email: 'massimiliano.alessandrini@esercito.difesa.it',\n                  armedForce: null,\n                  dateOfBirth: null,\n                  phone: null,\n                  mobilePhone: null,\n                },\n                active: true,\n              },\n              fiscalCode: 'malessandrini',\n              entity: null,\n              entityDenomination: null,\n              email: 'massimiliano.alessandrini@esercito.difesa.it',\n              armedForce: null,\n              dateOfBirth: null,\n              phone: null,\n              mobilePhone: null,\n            },\n            active: true,\n          },\n          fiscalCode: 'malessandrini',\n          entity: null,\n          entityDenomination: null,\n          email: 'massimiliano.alessandrini@esercito.difesa.it',\n          armedForce: null,\n          dateOfBirth: null,\n          phone: null,\n          mobilePhone: null,\n        },\n        active: true,\n      },\n      fiscalCode: 'malessandrini',\n      entity: null,\n      entityDenomination: null,\n      email: 'massimiliano.alessandrini@esercito.difesa.it',\n      armedForce: null,\n      dateOfBirth: null,\n      phone: null,\n      mobilePhone: null,\n    },\n\n    {\n      id: 14,\n      firstname: 'Patrizio',\n      lastname: 'Antonucci',\n      degree: 'Maresciallo',\n      active: true,\n      edo: {\n        id: 7,\n        name: 'Sezione 2',\n        headUser: 1,\n        defaultUser: 1,\n        type: { id: 4, name: 'Sezione' },\n        parentId: 6,\n        active: true,\n      },\n      fiscalCode: 'pantonucci',\n      entity: null,\n      entityDenomination: null,\n      email: 'patrizio.antonucci@esercito.difesa.it',\n      armedForce: null,\n      dateOfBirth: null,\n      phone: null,\n      mobilePhone: null,\n    },\n    {\n      id: 17,\n      firstname: 'Carmine',\n      lastname: 'Armelini',\n      degree: 'Ten. Col.',\n      active: true,\n      edo: {\n        id: 10,\n        name: 'Nucleo 3',\n        headUser: 1,\n        defaultUser: 1,\n        type: { id: 5, name: 'Nucleo' },\n        parentId: 7,\n        active: true,\n      },\n      fiscalCode: 'carmelini',\n      entity: null,\n      entityDenomination: null,\n      email: 'carmine.armelini@esercito.difesa.it',\n      armedForce: null,\n      dateOfBirth: null,\n      phone: null,\n      mobilePhone: null,\n    },\n    {\n      id: 11,\n      firstname: 'Mario',\n      lastname: 'Bianchi',\n      degree: 'Ten. Col.',\n      active: true,\n      edo: {\n        id: 11,\n        name: 'Reparto  V - Alpini',\n        headUser: 11,\n        defaultUser: 11,\n        type: { id: 2, name: 'Reparto' },\n        parentId: 1,\n        active: true,\n      },\n      fiscalCode: 'user',\n      entity: null,\n      entityDenomination: null,\n      email: 'mario.bianchi@esercito.difesa.it',\n      armedForce: null,\n      dateOfBirth: null,\n      phone: null,\n      mobilePhone: null,\n    },\n    {\n      id: 7,\n      firstname: 'Carlo',\n      lastname: 'Bianchi',\n      degree: 'Ten. Col.',\n      active: false,\n      edo: null,\n      fiscalCode: 'ddd1234',\n      entity: null,\n      entityDenomination: null,\n      email: null,\n      armedForce: null,\n      dateOfBirth: null,\n      phone: null,\n      mobilePhone: null,\n    },\n    {\n      id: 21,\n      firstname: 'Giovanni',\n      lastname: 'Biscetti',\n      degree: '1 Luogotenente',\n      active: true,\n      edo: {\n        id: 11,\n        name: 'Reparto  V - Alpini',\n        headUser: 11,\n        defaultUser: 11,\n        type: { id: 2, name: 'Reparto' },\n        parentId: 1,\n        active: true,\n      },\n      fiscalCode: 'dblsvt87d02g273s',\n      entity: null,\n      entityDenomination: null,\n      email: 'giovanni.biscetti@esercito.difesa.it',\n      armedForce: null,\n      dateOfBirth: '1983-01-14',\n      phone: '1-844-658-0870',\n      mobilePhone: '1-844-658-0870',\n    },\n    {\n      id: 10,\n      firstname: 'Pasquale',\n      lastname: 'Calogero',\n      degree: 'Mar.',\n      active: true,\n      edo: null,\n      fiscalCode: 'eee4321',\n      entity: null,\n      entityDenomination: null,\n      email: null,\n      armedForce: null,\n      dateOfBirth: null,\n      phone: null,\n      mobilePhone: null,\n    },\n    {\n      id: 2,\n      firstname: 'Gabriele',\n      lastname: 'Cappio',\n      degree: 'Serg. Magg.',\n      active: true,\n      edo: {\n        id: 2,\n        name: 'Reparto 1',\n        headUser: 1,\n        defaultUser: 1,\n        type: { id: 2, name: 'Reparto' },\n        parentId: 1,\n        active: true,\n      },\n      fiscalCode: 'aaa4321',\n      entity: null,\n      entityDenomination: null,\n      email: null,\n      armedForce: null,\n      dateOfBirth: null,\n      phone: null,\n      mobilePhone: null,\n    },\n    {\n      id: 22,\n      firstname: 'Salvatore',\n      lastname: 'Di Bella',\n      degree: 'Sergente',\n      active: true,\n      edo: {\n        id: 11,\n        name: 'Reparto  V - Alpini',\n        headUser: 11,\n        defaultUser: 11,\n        type: { id: 2, name: 'Reparto' },\n        parentId: 1,\n        active: true,\n      },\n      fiscalCode: 'dblsvt87d02g273s',\n      entity: null,\n      entityDenomination: null,\n      email: 'salvatore.dibella@esercito.difesa.it',\n      armedForce: null,\n      dateOfBirth: '1984-01-14',\n      phone: '1-795-964-4892',\n      mobilePhone: '1-285-703-1251',\n    },\n    {\n      id: 23,\n      firstname: 'Giuseppe Mario',\n      lastname: 'Di Stefano',\n      degree: 'Tenente Colonnello',\n      active: true,\n      edo: {\n        id: 11,\n        name: 'Reparto  V - Alpini',\n        headUser: 11,\n        defaultUser: 11,\n        type: { id: 2, name: 'Reparto' },\n        parentId: 1,\n        active: true,\n      },\n      fiscalCode: 'dstgpp77t06z614k',\n      entity: null,\n      entityDenomination: null,\n      email: 'giuseppemario.distefano@esercito.difesa.it',\n      armedForce: null,\n      dateOfBirth: '1990-01-14',\n      phone: '1-798-383-5696',\n      mobilePhone: '1-258-640-7566',\n    },\n  ],\n  totalPages: 15,\n  totalElements: 148,\n  numberOfElements: 10,\n  number: 0,\n  size: 10,\n  first: true,\n  last: false,\n};\n\nexport const edoMock = [\n  {\n    id: 1,\n    name: 'Vertice 1',\n    headUser: 1,\n    defaultUser: 1,\n    type: { id: 1, name: 'Vertice' },\n    parentId: null,\n    active: true,\n  },\n  {\n    id: 9,\n    name: 'Reparto 2',\n    headUser: 1,\n    defaultUser: 1,\n    type: { id: 2, name: 'Reparto' },\n    parentId: 1,\n    active: true,\n  },\n  {\n    id: 2,\n    name: 'Reparto 1',\n    headUser: 1,\n    defaultUser: 1,\n    type: { id: 2, name: 'Reparto' },\n    parentId: 1,\n    active: true,\n  },\n  {\n    id: 10,\n    name: 'Nucleo 3',\n    headUser: 1,\n    defaultUser: 1,\n    type: { id: 5, name: 'Nucleo' },\n    parentId: 7,\n    active: true,\n  },\n  {\n    id: 7,\n    name: 'Sezione 2',\n    headUser: 1,\n    defaultUser: 1,\n    type: { id: 4, name: 'Sezione' },\n    parentId: 6,\n    active: true,\n  },\n  {\n    id: 3,\n    name: 'Ufficio 1',\n    headUser: 1,\n    defaultUser: 1,\n    type: { id: 3, name: 'Ufficio' },\n    parentId: 2,\n    active: true,\n  },\n  {\n    id: 8,\n    name: 'Nucleo 2',\n    headUser: 1,\n    defaultUser: 1,\n    type: { id: 5, name: 'Nucleo' },\n    parentId: 7,\n    active: true,\n  },\n  {\n    id: 6,\n    name: 'Ufficio 2',\n    headUser: 1,\n    defaultUser: 1,\n    type: { id: 3, name: 'Ufficio' },\n    parentId: 2,\n    active: true,\n  },\n  {\n    id: 5,\n    name: 'Nucleo 1',\n    headUser: 1,\n    defaultUser: 1,\n    type: { id: 5, name: 'Nucleo' },\n    parentId: 4,\n    active: true,\n  },\n  {\n    id: 4,\n    name: 'Sezione 1',\n    headUser: 1,\n    defaultUser: 1,\n    type: { id: 4, name: 'Sezione' },\n    parentId: 3,\n    active: true,\n  },\n  {\n    id: 11,\n    name: 'Reparto  V - Alpini',\n    headUser: 11,\n    defaultUser: 11,\n    type: { id: 2, name: 'Reparto' },\n    parentId: 1,\n    active: true,\n  },\n];\n\nexport const mockActions = {\n  payload: [\n    {\n      id: '6541',\n      title: 'Fare lista delle istituzioni invitate',\n      description: 'Lorem ipsum dolor sit amet, consectetuer adipiscing elit.',\n      startDate: '2020-09-30',\n      endDate: '2020-10-03',\n      priority: 'low',\n      responsible: 'user',\n      accountable: 'user2',\n      consulted: 'user3',\n      informed: 'user4',\n      creator: 'user5',\n      task: {\n        id: 'TT-0000000022',\n        title: \"Organizzare l'evento per la presentazione dei reparti Alpini\",\n        description: 'Lorem ipsum dolor sit amet, consectetuer adipiscing elit.',\n        startDate: '2020-09-30',\n        endDate: '2020-10-03',\n        priority: 'low',\n        progress: 55,\n      },\n    },\n  ],\n};\n\nexport const mockProcessModel = [\n  {\n    id: 'SME_TaskTrackerCase.TaskTracker',\n    value: 'SME_TaskTrackerCase.TaskTracker',\n  },\n];\n","import { createContext } from 'react';\n\nconst UserContext = createContext([{}, () => {}]);\n\nexport default UserContext;\n","import { useContext } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { apiUsersGet } from '../../api/users';\nimport { userMock } from '../../components/__mocks__/mocks';\nimport MessageManager from '../message/MessageManager';\nimport UserContext from './UserContext';\n\nconst UserManager = () => {\n  // eslint-disable-next-line no-unused-vars\n  const [state, setState] = useContext(UserContext);\n  const { t } = useTranslation();\n  const { serviceUrl, useMock, logged } = state;\n  const msgManager = MessageManager();\n\n  const setUsers = users => {\n    setState(prevState => ({ ...prevState, users }));\n  };\n\n  const setPagination = pagination => setState({ ...state, pagination });\n\n  const fetchUser = async (pagination, search, informedOrConsulted) => {\n    try {\n      let json;\n      if (useMock) {\n        json = await new Promise(resolve => setTimeout(() => resolve(userMock)), 100);\n      } else {\n        json = await apiUsersGet(serviceUrl, pagination, search, informedOrConsulted);\n      }\n      const {\n        payload,\n        totalPages,\n        totalElements,\n        numberOfElements,\n        number,\n        size,\n        first,\n        last,\n      } = json;\n      if (payload) {\n        const users = payload.reduce((acc, user) => {\n          const role = `${user.degree} ${user.edo ? '-' : ''} ${user?.edo?.name ?? ''}`;\n          acc[user.fiscalCode.toUpperCase()] = {\n            ...user,\n            role,\n          };\n          return acc;\n        }, {});\n        const userLogged = state.users[logged];\n        const userPresent = Object.keys(users).find(\n          key => users[key]?.fiscalCode.toUpperCase() === logged\n        );\n        setState(prev => ({\n          ...prev,\n          users: userPresent\n            ? users\n            : { ...users, [userLogged?.fiscalCode.toUpperCase()]: userLogged },\n\n          pagination: {\n            totalPages,\n            totalElements,\n            numberOfElements,\n            number,\n            size,\n            first,\n            last,\n          },\n        }));\n      }\n    } catch (e) {\n      setState({ ...state, error: t('error.dataLoading'), message: null });\n      msgManager.setError(t('error.dataLoading'));\n    }\n  };\n\n  const setError = error => setState(prev => ({ ...prev, error }));\n\n  const clearError = () => setState(prev => ({ ...prev, error: null }));\n\n  const setMessage = message => setState(prev => ({ ...prev, message }));\n\n  const clearMessage = () => setState(prev => ({ ...prev, message: null }));\n\n  return {\n    logged: state.logged,\n    vertexId: state.vertexId,\n    vertexShortName: state.vertexShortName,\n    users: state.users,\n    serviceUrl: state.serviceUrl,\n    useMock: state.useMock,\n    setUsers,\n    setPagination,\n    fetchUser,\n    setError,\n    clearError,\n    setMessage,\n    clearMessage,\n  };\n};\n\nexport default UserManager;\n","import { makeStyles } from '@material-ui/styles';\nimport green from '@material-ui/core/colors/green';\n\nconst dialogUserStyle = makeStyles(theme => ({\n  dialog: {\n    '& .MuiDialog-paper': {\n      maxHeight: 550,\n    },\n  },\n\n  dialogTitle: {\n    textAlign: 'center',\n    textTransform: 'capitalize',\n  },\n\n  closeButton: {\n    position: 'absolute',\n    right: theme.spacing(1),\n    top: theme.spacing(1),\n    color: theme.palette.grey[500],\n  },\n\n  role: {\n    color: '#86660b',\n    textTransform: 'capitalize',\n  },\n\n  boxTools: {\n    display: 'flex',\n    flexDirection: 'row',\n    flexWrap: 'nowrap',\n    justifyContent: 'space-between',\n    marginBottom: theme.spacing(2),\n  },\n\n  boxAssign: {\n    marginRight: theme.spacing(2),\n  },\n\n  boxInput: {\n    border: 1,\n    borderStyle: 'solid',\n    borderColor: theme.palette.action.disabled,\n    borderRadius: '4px',\n    backgroundColor: '#f6f7f9',\n  },\n\n  input: {\n    marginLeft: theme.spacing(1),\n    flex: 1,\n  },\n\n  iconButton: {\n    padding: theme.spacing(1),\n    '&.active': {\n      color: green[500],\n    },\n  },\n\n  list: {\n    width: '100%',\n    backgroundColor: theme.palette.background.paper,\n    position: 'relative',\n    overflow: 'auto',\n    maxHeight: 300,\n    border: 1,\n    borderStyle: 'solid',\n    borderRadius: '4px',\n    borderColor: theme.palette.action.disabled,\n    '&::-webkit-scrollbar': {\n      width: '5px',\n    },\n    '&::-webkit-scrollbar-track': {\n      background: '#f1f1f1',\n      borderRadius: '4px',\n    },\n    '&::-webkit-scrollbar-thumb': {\n      background: '#888',\n      borderRadius: '4px',\n    },\n    '&::-webkit-scrollbar-thumb:hover': {\n      background: '#555',\n    },\n  },\n\n  listSection: {\n    backgroundColor: 'inherit',\n  },\n\n  ul: {\n    backgroundColor: 'inherit',\n    padding: 0,\n    '&.first li.MuiListSubheader-root': {\n      borderTop: 0,\n      // border: '1px solid red',\n    },\n  },\n\n  subHeader: {\n    borderBottom: 1,\n    borderBottomStyle: 'solid',\n    borderBottomColor: theme.palette.action.disabled,\n    borderTop: 1,\n    borderTopStyle: 'solid',\n    borderTopColor: theme.palette.action.disabled,\n  },\n\n  radio: {\n    '&.MuiIconButton-colorSecondary:hover': {\n      backgroundColor: 'rgba(182,137,0,0.04)',\n    },\n    '&.MuiRadio-colorSecondary.Mui-checked': {\n      color: '#b68900',\n    },\n    '&.MuiRadio-colorSecondary.Mui-disabled': {\n      pointerEvents: 'none',\n    },\n  },\n\n  dialogActions: {\n    justifyContent: 'space-between',\n  },\n\n  button: {\n    backgroundColor: '#b68900',\n    color: '#fff',\n    margin: theme.spacing(2),\n    textTransform: 'none',\n    minHeight: '50px',\n    minWidth: '150px',\n    '&:disabled': {\n      backgroundColor: '#e0e3e8',\n    },\n    '&:hover': {\n      backgroundColor: '#b68900',\n    },\n  },\n\n  buttonClose: {\n    backgroundColor: '#b68900',\n    color: '#fff',\n    margin: theme.spacing(2),\n    textTransform: 'none',\n    minHeight: '50px',\n    minWidth: '150px',\n    '&:disabled': {\n      backgroundColor: '#e0e3e8',\n    },\n    '&:hover': {\n      backgroundColor: '#b68900',\n    },\n  },\n}));\n\nexport default dialogUserStyle;\n","import {\n  Avatar,\n  List,\n  ListItem,\n  ListItemAvatar,\n  ListItemSecondaryAction,\n  ListItemText,\n  ListSubheader,\n  Radio,\n} from '@material-ui/core';\nimport React, { useEffect, useRef, useState } from 'react';\nimport useLoadMoreOnScroll from 'react-hook-pagination';\nimport { useTranslation } from 'react-i18next';\nimport PropTypes from 'prop-types';\nimport { uniqueId } from 'lodash';\nimport { apiUsersGet } from '../../../api/users';\nimport UserManager from '../../../context/user/UserManager';\nimport { userMock } from '../../__mocks__/mocks';\nimport dialogUserStyle from './style/dialogUserStyle';\n\nconst getStickyArray = array => {\n  const seen = new Set();\n  return array\n    .filter(m => m.id !== 'undefined')\n    .filter(f => !f.hidden)\n    .filter(el => {\n      const surname = el.lastname.charAt(0).toUpperCase();\n      const duplicate = seen.has(surname);\n      seen.add(surname);\n      return !duplicate;\n    })\n    .map(m => m.lastname.charAt(0).toUpperCase());\n};\n\nconst ListUser = ({ handleClick, search, usersSelected, role }) => {\n  const { logged, users, useMock, serviceUrl, setUsers, setError } = UserManager();\n\n  const [stickySurname, setStickySurname] = useState([]);\n  const [usersData, setUsersData] = useState([]);\n\n  const scroller = useRef();\n  const { t } = useTranslation();\n  const css = dialogUserStyle();\n\n  const { start, end, setIsFetching, forceDonefetching } = useLoadMoreOnScroll({\n    fetchSize: 40,\n    scroller,\n    limit: 100000,\n  });\n  // eslint-disable-next-line consistent-return,no-shadow\n  const fetchUserLocal = async (start, end) => {\n    try {\n      const pageSize = end - start;\n      const page = end / pageSize - 1;\n      let json;\n      if (useMock) {\n        json = await new Promise(resolve => setTimeout(() => resolve(userMock), 500));\n      } else {\n        json = await apiUsersGet(\n          serviceUrl,\n          { page, pageSize },\n          search,\n          role === 'consulted' || role === 'informed'\n        );\n      }\n      const { payload, totalPages, number } = json;\n      if (totalPages < number) {\n        forceDonefetching();\n      }\n      return payload.reduce((acc, user) => {\n        // eslint-disable-next-line no-shadow\n        const role = `${user.degree} ${user.edo ? '-' : ''} ${user?.edo?.name ?? ''}`;\n        acc[user.fiscalCode.toUpperCase()] = {\n          ...user,\n          role,\n          hidden: user.fiscalCode.toUpperCase() === logged,\n        };\n        return acc;\n      }, {});\n    } catch (e) {\n      setError(t('error.dataLoading'));\n    }\n  };\n\n  useEffect(() => {\n    setUsersData([]);\n    return () => {\n      setUsers({ [logged]: users[logged] });\n    };\n  }, []);\n\n  useEffect(() => {\n    if (start !== end) {\n      setIsFetching(true);\n      fetchUserLocal(start, end).then(usr => {\n        setUsers({ ...users, ...usr });\n        setIsFetching(false);\n      });\n    }\n  }, [start, end]);\n\n  useEffect(() => {\n    const array = Object.keys(users).reduce((acc, key) => {\n      if (key !== 'undefined') {\n        acc.push({ id: key, ...users[key] });\n      }\n      return acc;\n    }, []);\n    setStickySurname(getStickyArray(array));\n    setUsersData(array);\n  }, [users]);\n\n  return (\n    <List className={css.list} subheader={<li />} ref={scroller}>\n      {stickySurname.map((section, index) => (\n        <li key={`section-${section}`} className={css.listSection}>\n          <ul className={`${css.ul} ${index === 0 ? 'first' : ''}`}>\n            <ListSubheader classes={{ root: css.subHeader }}>{section}</ListSubheader>\n            {usersData\n              .filter(f => !f.hidden)\n              .filter(f => f.lastname.charAt(0).toUpperCase() === section)\n              .map(u => (\n                <ListItem key={uniqueId('list-item')} disabled={u.selected}>\n                  <ListItemAvatar>\n                    <Avatar />\n                  </ListItemAvatar>\n                  <ListItemText primary={`${u.firstname} ${u.lastname}`} secondary={u.role} />\n                  <ListItemSecondaryAction>\n                    <Radio\n                      className={css.radio}\n                      checked={\n                        usersSelected &&\n                        usersSelected[role]?.fiscalCode.toUpperCase() === u.fiscalCode.toUpperCase()\n                      }\n                      onClick={handleClick}\n                      value={u.fiscalCode.toUpperCase()}\n                      name={`radio-button-${u.id}`}\n                      inputProps={{ 'aria-label': u.id }}\n                      disabled={\n                        !!Object.keys(usersSelected)\n                          .map(key => usersSelected[key].fiscalCode.toUpperCase())\n                          .find(f => f === u.fiscalCode.toUpperCase())\n                      }\n                    />\n                  </ListItemSecondaryAction>\n                </ListItem>\n              ))}\n          </ul>\n        </li>\n      ))}\n    </List>\n  );\n};\n\nListUser.propTypes = {\n  handleClick: PropTypes.func.isRequired,\n  search: PropTypes.string.isRequired,\n  usersSelected: PropTypes.shape({}).isRequired,\n  role: PropTypes.string,\n};\n\nListUser.defaultProps = {\n  role: '',\n};\n\nexport default ListUser;\n","import {\n  Box,\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  FormControlLabel,\n  Grid,\n  IconButton,\n  InputBase,\n  Paper,\n  Radio,\n} from '@material-ui/core';\nimport { useTheme } from '@material-ui/core/styles';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport CloseIcon from '@material-ui/icons/Close';\nimport SearchIcon from '@material-ui/icons/Search';\nimport PropTypes from 'prop-types';\nimport React, { useEffect, useRef, useState } from 'react';\nimport Draggable from 'react-draggable';\nimport { useTranslation } from 'react-i18next';\nimport UserManager from '../../../context/user/UserManager';\nimport ListUser from './ListUser';\nimport dialogUserStyle from './style/dialogUserStyle';\n\nconst PaperComponent = props => (\n  <Draggable handle=\"#draggable-dialog-users\" cancel={'[class*=\"MuiDialogContent-root\"]'}>\n    {/* eslint-disable-next-line react/jsx-props-no-spreading */}\n    <Paper {...props} />\n  </Draggable>\n);\n\nconst DialogUsers = ({ open, handleClose, usersSelected, handleUserSelected, role }) => {\n  const { t } = useTranslation();\n  const [selectedValue, setSelectedValue] = useState(null);\n  const [search, setSearch] = useState('');\n  const theme = useTheme();\n  const { logged, users, fetchUser } = UserManager();\n  // eslint-disable-next-line no-unused-vars\n  const fullScreen = useMediaQuery(theme.breakpoints.down('sm'));\n  const css = dialogUserStyle();\n\n  const usePreviousValues = values => {\n    const ref = useRef();\n    useEffect(() => {\n      ref.current = values;\n    });\n    return ref.current;\n  };\n  const preSearch = usePreviousValues(search);\n\n  const handleClick = event => {\n    const { value } = event.target;\n    setSelectedValue(value.toUpperCase());\n    if (handleUserSelected) {\n      handleUserSelected(users[value.toUpperCase()]);\n    }\n  };\n\n  const handleSearch = searchValue => {\n    fetchUser(null, searchValue, role === 'consulted' || role === 'informed');\n  };\n\n  const checkDisabled = () => {\n    if (Object.keys(usersSelected).length > 0) {\n      return !!Object.keys(usersSelected)\n        .map(key => usersSelected[key].fiscalCode.toUpperCase())\n        .find(f => f === logged.toUpperCase());\n    }\n    return false;\n  };\n\n  return (\n    <Dialog\n      fullWidth\n      maxWidth=\"sm\"\n      open={open}\n      onClose={() => handleClose()}\n      PaperComponent={PaperComponent}\n      disableEnforceFocus\n      aria-labelledby=\"form-dialog-title\"\n      className={css.dialog}\n    >\n      <DialogTitle className={css.dialogTitle} id=\"form-dialog-title\" onClose={() => handleClose()}>\n        <div>\n          {t('entities.creation.dialog.users.title')} <span className={css.role}>{role}</span>\n        </div>\n        <IconButton aria-label=\"close\" className={css.closeButton} onClick={() => handleClose()}>\n          <CloseIcon />\n        </IconButton>\n      </DialogTitle>\n      <DialogContent>\n        <Grid container spacing={2}>\n          <Grid item xs={12}>\n            <Box className={css.boxTools}>\n              <Box className={css.boxInput}>\n                <InputBase\n                  id=\"search\"\n                  className={css.input}\n                  name=\"search\"\n                  value={search}\n                  placeholder={t('entities.creation.dialog.users.search')}\n                  inputProps={{ 'aria-label': t('entities.creation.dialog.users.search') }}\n                  onKeyUp={event => {\n                    const {\n                      key,\n                      target: { value },\n                    } = event;\n                    setSearch('');\n                    setSearch(value);\n                    if (key === 'Enter') {\n                      handleSearch(value);\n                    }\n                  }}\n                />\n                <IconButton\n                  className={`${css.iconButton} ${search !== preSearch ? 'active' : ''}`}\n                  aria-label=\"search\"\n                  disabled={search === ''}\n                  onClick={() => handleSearch(search)}\n                >\n                  <SearchIcon />\n                </IconButton>\n              </Box>\n              <Box className={css.boxAssign}>\n                <FormControlLabel\n                  value=\"start\"\n                  disabled={checkDisabled()}\n                  style={{\n                    pointerEvents: `${checkDisabled() ? 'none' : 'auto'}`,\n                  }}\n                  control={\n                    // eslint-disable-next-line react/jsx-wrap-multilines\n                    <Radio\n                      className={css.radio}\n                      disabled={checkDisabled()}\n                      checked={\n                        usersSelected &&\n                        usersSelected[role]?.fiscalCode.toUpperCase() === logged.toUpperCase()\n                      }\n                    />\n                  }\n                  label={t('entities.creation.dialog.users.assign')}\n                  labelPlacement=\"start\"\n                  onClick={() => handleClick({ target: { value: logged } })}\n                />\n              </Box>\n            </Box>\n            <Box>\n              {users && Object.keys(users ?? {}).length > 0 ? (\n                <ListUser\n                  selectedValue={selectedValue}\n                  handleClick={handleClick}\n                  search={search}\n                  usersSelected={usersSelected}\n                  role={role}\n                />\n              ) : null}\n            </Box>\n          </Grid>\n        </Grid>\n      </DialogContent>\n      <DialogActions className={css.dialogActions}>\n        <Button onClick={() => handleClose()} className={css.buttonClose}>\n          {t('entities.creation.dialog.users.buttonClose')}\n        </Button>\n        <Button\n          onClick={() => handleClose()}\n          className={css.button}\n          disabled={selectedValue === null}\n        >\n          {t('entities.creation.dialog.users.button')}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nDialogUsers.propTypes = {\n  open: PropTypes.bool.isRequired,\n  handleClose: PropTypes.func.isRequired,\n  usersSelected: PropTypes.shape({}),\n  handleUserSelected: PropTypes.func.isRequired,\n  role: PropTypes.string,\n};\n\nDialogUsers.defaultProps = {\n  role: '',\n  usersSelected: undefined,\n};\n\nexport default DialogUsers;\n","import { makeStyles } from '@material-ui/styles';\n\nconst inputDatePicker = makeStyles({\n  datePicker: {\n    border: '0 solid red',\n    marginTop: 0,\n    '& .MuiOutlinedInput-adornedEnd': {\n      paddingRight: 0,\n    },\n    '& .MuiInputBase-input': {\n      textTransform: 'capitalize',\n    },\n    '& .MuiInputAdornment-positionEnd': {\n      marginLeft: '-5px',\n    },\n  },\n});\n\nexport default inputDatePicker;\n","import { KeyboardDatePicker } from '@material-ui/pickers';\nimport { isEmpty } from 'lodash';\nimport PropTypes from 'prop-types';\nimport React, { useEffect } from 'react';\nimport { Controller } from 'react-hook-form';\nimport inputDatePicker from './style/inputDatePickerStyle';\n\nconst InputDatePicker = props => {\n  const {\n    control,\n    name,\n    rules,\n    errors,\n    format,\n    setValue,\n    initialValue,\n    minDate,\n    maxDate,\n    invalidDateMessage,\n  } = props;\n\n  const css = inputDatePicker();\n  useEffect(() => {\n    if (initialValue) {\n      setValue(name, initialValue);\n    }\n  }, [initialValue]);\n\n  return (\n    <Controller\n      error={!isEmpty(errors[name])}\n      render={({ onChange, onBlur, value, ref }) => {\n        return (\n          <KeyboardDatePicker\n            onBlur={onBlur}\n            onChange={onChange}\n            inputRef={ref}\n            className={css.datePicker}\n            value={value}\n            inputVariant=\"outlined\"\n            autoOk\n            disableToolbar\n            invalidDateMessage={invalidDateMessage}\n            variant=\"inline\"\n            format={format}\n            margin=\"normal\"\n            id=\"date-picker-inline\"\n            label=\"\"\n            KeyboardButtonProps={{\n              'aria-label': 'change date',\n            }}\n            fullWidth\n            minDate={minDate}\n            maxDate={maxDate}\n          />\n        );\n      }}\n      control={control}\n      rules={rules}\n      name={name}\n      defaultValue={new Date()}\n    />\n  );\n};\n\nInputDatePicker.propTypes = {\n  control: PropTypes.shape({}).isRequired,\n  setValue: PropTypes.func.isRequired,\n  rules: PropTypes.shape({}),\n  errors: PropTypes.shape({}).isRequired,\n  name: PropTypes.string.isRequired,\n  format: PropTypes.string,\n  initialValue: PropTypes.oneOfType([PropTypes.string, PropTypes.instanceOf(Date)]),\n  minDate: PropTypes.oneOfType([PropTypes.string, PropTypes.instanceOf(Date)]),\n  maxDate: PropTypes.oneOfType([PropTypes.string, PropTypes.instanceOf(Date)]),\n  invalidDateMessage: PropTypes.string,\n};\n\nInputDatePicker.defaultProps = {\n  rules: {},\n  format: 'dd/MM/yyyy',\n  initialValue: undefined,\n  minDate: undefined,\n  maxDate: undefined,\n  invalidDateMessage: 'Invalid Date Format',\n};\n\nexport default InputDatePicker;\n","import { Box, Typography } from '@material-ui/core';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nconst InputInfo = ({ title, children, ...boxProps }) => (\n  // eslint-disable-next-line react/jsx-props-no-spreading\n  <Box {...boxProps}>\n    <Box border={0} textAlign=\"left\" p={1}>\n      <Typography variant=\"subtitle2\" color=\"textSecondary\">\n        {title}\n      </Typography>\n    </Box>\n    <Box border={0} textAlign=\"left\">\n      {children}\n    </Box>\n  </Box>\n);\n\nInputInfo.propTypes = {\n  title: PropTypes.string.isRequired,\n  children: PropTypes.node.isRequired,\n};\n\nexport default InputInfo;\n","import { makeStyles } from '@material-ui/core/styles';\n\nconst popperStyle = makeStyles(theme => ({\n  paper: {\n    width: '180px',\n    padding: theme.spacing(1),\n    backgroundColor: '#2d2b1f',\n    '& .MuiTypography-root': {\n      color: '#fff',\n    },\n  },\n\n  popper: {\n    zIndex: 1,\n    '&[x-placement*=\"top\"] $arrow': {\n      bottom: 0,\n      left: 0,\n      marginBottom: '-0.9em',\n      width: '3em',\n      height: '1em',\n      '&::before': {\n        borderWidth: '1em 1em 0 1em',\n        borderColor: `${theme.palette.background.paper} transparent transparent transparent`,\n      },\n    },\n  },\n  arrow: {\n    position: 'absolute',\n    fontSize: 7,\n    width: '3em',\n    height: '3em',\n    '&::before': {\n      content: '\"\"',\n      margin: 'auto',\n      display: 'block',\n      width: 0,\n      height: 0,\n      borderStyle: 'solid',\n    },\n  },\n}));\nexport default popperStyle;\n","import { Box, Paper, Typography } from '@material-ui/core';\nimport Popper from '@material-ui/core/Popper';\nimport InfoOutlinedIcon from '@material-ui/icons/InfoOutlined';\nimport PropTypes from 'prop-types';\nimport React, { useRef, useState } from 'react';\nimport popperStyle from './style/inputInfoWithPopperStyle';\n\nconst InputInfoWithPopper = ({ title, children, contentPopper, ...boxProps }) => {\n  const [open, setOpen] = React.useState(false);\n  const classes = popperStyle();\n  const anchorRef = useRef(null);\n  const [arrowRef, setArrowRef] = useState(null);\n\n  const handleClick = () => {\n    setOpen(prev => !prev);\n  };\n\n  return (\n    // eslint-disable-next-line react/jsx-props-no-spreading\n    <Box {...boxProps}>\n      <Popper\n        open={open}\n        anchorEl={anchorRef.current}\n        className={classes.popper}\n        placement=\"top\"\n        disablePortal\n        modifiers={{\n          flip: {\n            enabled: true,\n          },\n          arrow: {\n            enabled: true,\n            element: arrowRef,\n          },\n          preventOverflow: {\n            enabled: 'true',\n            boundariesElement: 'scrollParent',\n          },\n        }}\n      >\n        <span className={classes.arrow} ref={setArrowRef} />\n        <Paper className={classes.paper}>\n          <Typography variant=\"body1\">{contentPopper.title}</Typography>\n          <Typography variant=\"body2\">{contentPopper.description}</Typography>\n        </Paper>\n      </Popper>\n      <Box\n        border={0}\n        textAlign=\"left\"\n        p={1}\n        display=\"flex\"\n        flexDirection=\"row\"\n        flexWrap=\"nowrap\"\n        alignItems=\"center\"\n        justifyContent=\"flex-start\"\n      >\n        <Box marginRight={2}>\n          <Typography variant=\"subtitle2\" color=\"textSecondary\">\n            {title}\n          </Typography>\n        </Box>\n        <Box onClick={handleClick} ref={anchorRef} height=\"20px\">\n          <InfoOutlinedIcon fontSize=\"small\" />\n        </Box>\n      </Box>\n      <Box border={0} textAlign=\"left\">\n        {children}\n      </Box>\n    </Box>\n  );\n};\n\nInputInfoWithPopper.propTypes = {\n  title: PropTypes.string.isRequired,\n  children: PropTypes.node.isRequired,\n  contentPopper: PropTypes.shape({\n    title: PropTypes.string.isRequired,\n    description: PropTypes.string.isRequired,\n  }).isRequired,\n};\n\nexport default InputInfoWithPopper;\n","import { makeStyles } from '@material-ui/styles';\n\nconst switchStyle = makeStyles(theme => ({\n  boxSwitch: {\n    border: 1,\n    borderRadius: 4,\n    borderStyle: 'solid',\n    borderColor: theme.palette.action.disabled,\n    width: '100%',\n    minHeight: '54px',\n    display: 'flex',\n    flexDirection: 'row',\n    flexWrap: 'nowrap',\n    alignItems: 'center',\n    justifyContent: 'space-around',\n  },\n  switch: {\n    border: '0 solid red',\n    margin: theme.spacing(1),\n  },\n  checkedIcon: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    height: '100%',\n    fontSize: 15,\n    color: '#86660b',\n    paddingRight: 2,\n  },\n  uncheckedIcon: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    height: '100%',\n    fontSize: 15,\n    color: '#86660b',\n    paddingRight: 2,\n  },\n}));\n\nexport default switchStyle;\n","import { Box, FormControl, Typography } from '@material-ui/core';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport Switch from 'react-switch';\nimport switchStyle from './style/inputSwitchStyle';\n\nconst InputSwitch = ({ label, on, off, onChange }) => {\n  const css = switchStyle();\n  const [checked, setChecked] = React.useState(true);\n  const handleChange = value => {\n    setChecked(value);\n    if (onChange) {\n      onChange(value);\n    }\n  };\n\n  return (\n    <FormControl variant=\"outlined\" fullWidth>\n      <Box position=\"relative\" width={1}>\n        <Box className={css.boxSwitch}>\n          <Box>\n            <Typography variant=\"body2\" color=\"textSecondary\">\n              {label}\n            </Typography>\n          </Box>\n          <Switch\n            onChange={handleChange}\n            checked={checked}\n            className={css.switch}\n            width={70}\n            onColor=\"#2d2b1f\"\n            checkedIcon={<div className={css.checkedIcon}>{on}</div>}\n            uncheckedIcon={<div className={css.uncheckedIcon}>{off}</div>}\n          />\n        </Box>\n      </Box>\n    </FormControl>\n  );\n};\n\nInputSwitch.propTypes = {\n  label: PropTypes.string.isRequired,\n  on: PropTypes.string.isRequired,\n  off: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n};\nexport default InputSwitch;\n","import { Box, FormControl, OutlinedInput, Typography } from '@material-ui/core';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport { isEmpty } from 'lodash';\nimport PropTypes from 'prop-types';\nimport React, { useEffect } from 'react';\n\nconst InputText = ({\n  register,\n  errors,\n  name,\n  placeholder,\n  watch,\n  debug,\n  showCountCaracthers,\n  countCaracthers,\n  multiline,\n  rows,\n  rowsMax,\n  initialValue,\n  setValue,\n  cssClass,\n  type,\n}) => {\n  if (debug) {\n    console.log('watch', watch(name));\n  }\n\n  useEffect(() => {\n    if (initialValue && setValue) {\n      setValue(name, initialValue);\n    }\n  }, [initialValue, setValue, name]);\n\n  return (\n    <FormControl variant=\"outlined\" fullWidth error={!isEmpty(errors[name])}>\n      <Box position=\"relative\" width={1}>\n        <OutlinedInput\n          type={type}\n          fullWidth\n          id={`component-${name}`}\n          placeholder={placeholder}\n          inputRef={register}\n          name={name}\n          multiline={multiline}\n          rows={rows}\n          rowsMax={rowsMax}\n          className={cssClass}\n        />\n        {showCountCaracthers ? (\n          <Box position=\"absolute\" bottom={0} right=\"10px\">\n            <Typography variant=\"caption\" color=\"textSecondary\">\n              {watch(name) ? watch(name).length : 0} / {countCaracthers}\n            </Typography>\n          </Box>\n        ) : null}\n      </Box>\n      <FormHelperText id={`component-${name}-error-text`}>{errors[name]?.message}</FormHelperText>\n    </FormControl>\n  );\n};\n\nInputText.propTypes = {\n  register: PropTypes.func.isRequired,\n  watch: PropTypes.func.isRequired,\n  setValue: PropTypes.func.isRequired,\n  name: PropTypes.string.isRequired,\n  placeholder: PropTypes.string.isRequired,\n  errors: PropTypes.shape({}).isRequired,\n  debug: PropTypes.bool,\n  multiline: PropTypes.bool,\n  showCountCaracthers: PropTypes.bool,\n  countCaracthers: PropTypes.number,\n  rows: PropTypes.number,\n  rowsMax: PropTypes.number,\n  initialValue: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  cssClass: PropTypes.string,\n  type: PropTypes.string,\n};\n\nInputText.defaultProps = {\n  debug: false,\n  multiline: false,\n  showCountCaracthers: false,\n  countCaracthers: 0,\n  rows: 2,\n  rowsMax: 4,\n  initialValue: '',\n  cssClass: '',\n  type: 'text',\n};\n\nexport default InputText;\n","import { makeStyles } from '@material-ui/styles';\n\nexport const formDateGridStyle = makeStyles(theme => ({\n  item: {\n    border: 0,\n    borderStyle: 'solid',\n    borderColor: theme.palette.action.disabled,\n    minHeight: '110px',\n  },\n}));\n\nexport const formUsersGridStyle = makeStyles(theme => ({\n  item: {\n    border: 0,\n    borderStyle: 'solid',\n    borderColor: theme.palette.action.disabled,\n    minHeight: '150px',\n  },\n}));\n\nexport const formAddActionsStyle = makeStyles(theme => ({\n  boxGrid: {\n    border: 1,\n    borderStyle: 'solid',\n    borderColor: theme.palette.action.disabled,\n  },\n\n  gridContainer: {\n    border: '0 solid red',\n    padding: theme.spacing(0),\n  },\n\n  inputInfo: {\n    border: '0 solid red',\n  },\n\n  borderBox: {\n    border: '1px solid',\n    borderColor: theme.palette.action.disabled,\n    borderRadius: 4,\n    minHeight: '50px',\n\n    '&.error': {\n      borderColor: theme.palette.error.main,\n    },\n  },\n\n  boxContainer: {\n    border: '0 solid red',\n  },\n\n  boxActions: {\n    border: '1px solid red',\n    padding: theme.spacing(1),\n  },\n\n  boxEmptyActionContainer: {\n    border: '0 solid red',\n    padding: theme.spacing(4),\n    textAlign: 'center',\n    '& .boxIcon': {},\n  },\n\n  boxAdd: {\n    marginRight: theme.spacing(2),\n    border: 0,\n    borderRadius: '50%',\n    borderColor: theme.palette.action.disabled,\n    borderStyle: 'solid',\n    backgroundColor: '#eeeff3',\n    width: '40px',\n    height: '40px',\n    position: 'relative',\n  },\n  iconAdd: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%,-50%)',\n    color: '#586473',\n  },\n\n  button: {\n    margin: theme.spacing(1),\n    borderRadius: '4px',\n    backgroundColor: '#eeeff3',\n    color: '#1b1d22',\n    textTransform: 'none',\n    width: '75%',\n    minHeight: '60px',\n  },\n}));\n","import { Avatar, Box, Grid, IconButton, Typography } from '@material-ui/core';\nimport AddIcon from '@material-ui/icons/Add';\nimport CreateIcon from '@material-ui/icons/Create';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport { add } from 'date-fns';\nimport PropTypes from 'prop-types';\nimport React, { useEffect, useMemo, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport TaskManager from '../../../../context/task/TaskManager';\nimport DialogUsers from '../../../Dialog/Users/DialogUsers';\nimport InputDatePicker from '../../../Input/InputDataPicker';\nimport InputInfo from '../../../Input/InputInfo';\nimport InputInfoWithPopper from '../../../Input/InputInfoWithPopper';\nimport InputSwitch from '../../../Input/InputSwitch';\nimport InputText from '../../../Input/InputText';\nimport { formAddActionsStyle, formUsersGridStyle } from './style/formAddActionsStyle';\n\nconst FormAddAction = ({\n  action,\n  typeAction,\n  register,\n  watch,\n  errors,\n  control,\n  setValue,\n  clearErrors,\n}) => {\n  const roles = useMemo(() => ['responsible', 'accountable', 'consulted', 'informed'], []);\n  const [openDialog, setOpenDialog] = useState(false);\n  const [roleUser, setRoleUser] = useState(null);\n  const [usersSelected, setUsersSelected] = useState({});\n  const { task } = TaskManager();\n  const { t } = useTranslation();\n  const cssGridUsers = formUsersGridStyle();\n  const css = formAddActionsStyle();\n\n  useEffect(() => {\n    setUsersSelected({});\n    register({ name: 'responsible' }, { required: true });\n    register({ name: 'endDate' });\n    register({ name: 'accountable' });\n    register({ name: 'consulted' });\n    register({ name: 'informed' });\n    register({ name: 'automaticComplete' });\n  }, [register]);\n\n  const handleDialogUsers = role => {\n    setOpenDialog(!openDialog);\n    setRoleUser(role);\n  };\n\n  const handleRemoveUser = role => {\n    setValue(role, undefined);\n    setRoleUser(role);\n    const newState = { ...usersSelected };\n    delete newState[role];\n    setUsersSelected(newState);\n  };\n\n  const handleUserSelected = user => {\n    setUsersSelected(prevState => ({ ...prevState, [roleUser]: user }));\n    setValue(roleUser, user.fiscalCode.toUpperCase());\n    clearErrors(roleUser);\n  };\n\n  const handleChangeSwitch = value => {\n    setValue('automaticComplete', value);\n  };\n\n  return (\n    <Grid container>\n      <DialogUsers\n        open={openDialog}\n        handleClose={handleDialogUsers}\n        handleUserSelected={handleUserSelected}\n        usersSelected={usersSelected}\n        role={roleUser}\n      />\n      <Grid item xs={12}>\n        <InputInfo\n          title={\n            typeAction === 'action'\n              ? t('entities.creation.actions.action')\n              : t('entities.creation.actions.subAction')\n          }\n        >\n          <InputText\n            name=\"title\"\n            placeholder={\n              typeAction === 'action'\n                ? t('entities.creation.actions.actionPlaceholder')\n                : t('entities.creation.actions.subActionPlaceholder')\n            }\n            register={register({\n              required: {\n                value: true,\n                message: t('validation.required'),\n              },\n              maxLength: {\n                value: 125,\n                message: t('validation.maxLenght', { maxLength: 125 }),\n              },\n            })}\n            watch={watch}\n            setValue={setValue}\n            errors={errors}\n            showCountCaracthers\n            countCaracthers={125}\n          />\n        </InputInfo>\n      </Grid>\n      <Grid item xs={12}>\n        <InputInfo title={t('entities.creation.actions.description')}>\n          <InputText\n            name=\"description\"\n            placeholder={t('entities.creation.actions.descriptionPlaceholder')}\n            register={register({\n              required: {\n                value: true,\n                message: t('validation.required'),\n              },\n              maxLength: {\n                value: 500,\n                message: t('validation.maxLenght', { maxLength: 500 }),\n              },\n            })}\n            watch={watch}\n            setValue={setValue}\n            errors={errors}\n            multiline\n            rows={5}\n            rowsMax={20}\n            showCountCaracthers\n            countCaracthers={500}\n          />\n        </InputInfo>\n      </Grid>\n      <Grid item xs={12}>\n        <Box\n          display=\"flex\"\n          flexDirection=\"row\"\n          flexWrap=\"nowrap\"\n          justifyContent=\"space-between\"\n          alignContent=\"flex-start\"\n          height=\"120px\"\n        >\n          <Box paddingRight={1} height={1} width={0.5}>\n            <InputInfo title={t('entities.creation.actions.end')}>\n              <Box border={0}>\n                <InputDatePicker\n                  control={control}\n                  name=\"endDate\"\n                  setValue={setValue}\n                  initialValue={task.startDate ?? new Date()}\n                  format=\"dd MMMM yyyy\"\n                  rules={{\n                    required: {\n                      value: true,\n                      message: t('validation.required'),\n                    },\n                  }}\n                  errors={errors}\n                  minDate={add(task.startDate, { days: 1 })}\n                  maxDate={typeAction === 'action' ? task.endDate : action.endDate}\n                  invalidDateMessage={t('error.invalidDateMessage')}\n                />\n              </Box>\n            </InputInfo>\n          </Box>\n\n          {typeAction === 'action' ? (\n            <Box border={0} height={1} width={0.5}>\n              <InputInfoWithPopper\n                title={t('entities.creation.actions.completion')}\n                contentPopper={{\n                  title: t('entities.creation.actions.popper.title'),\n                  description: t('entities.creation.actions.popper.description'),\n                }}\n              >\n                <Box border={0}>\n                  <InputSwitch\n                    label={t('entities.creation.actions.automatic')}\n                    on={t('entities.creation.actions.yes')}\n                    off={t('entities.creation.actions.no')}\n                    onChange={handleChangeSwitch}\n                  />\n                </Box>\n              </InputInfoWithPopper>\n            </Box>\n          ) : null}\n        </Box>\n      </Grid>\n      <Grid item xs={12}>\n        {roles.map(role => (\n          <Grid key={role} item xs={12} classes={cssGridUsers}>\n            <InputInfo title={t(`entities.creation.actions.${role}`)}>\n              <Box className={css.boxContainer}>\n                <Box\n                  className={`${css.borderBox} ${errors[role] ? 'error' : ''}`}\n                  textAlign=\"left\"\n                  p={2}\n                  display=\"flex\"\n                  flexDirection=\"row\"\n                  flexWrap=\"nowrap\"\n                  justifyContent=\"flex-start\"\n                  alignContent=\"flex-start\"\n                  alignItems=\"center\"\n                >\n                  <Box marginRight={2}>\n                    {!watch(role) ? (\n                      <IconButton\n                        fontSize=\"large\"\n                        className={css.boxAdd}\n                        onClick={() => handleDialogUsers(role)}\n                        disableRipple\n                      >\n                        <AddIcon className={css.iconAdd} />\n                      </IconButton>\n                    ) : (\n                      <Avatar\n                        className={css.avatar}\n                        alt={usersSelected[role]?.firstname}\n                        src={usersSelected[role]?.image || ''}\n                        onClick={() => handleDialogUsers(role)}\n                      />\n                    )}\n                  </Box>\n                  <Box flexGrow={1}>\n                    {!watch(role) ? null : (\n                      <Typography variant=\"body1\" color=\"textPrimary\">\n                        {`${usersSelected[role].firstname} ${usersSelected[role].lastname}`}\n                      </Typography>\n                    )}\n                    <Typography variant=\"body2\" color=\"textSecondary\">\n                      {!watch(role)\n                        ? t('entities.creation.actions.assignRole')\n                        : usersSelected[role].role}\n                    </Typography>\n                  </Box>\n                  {watch(role) ? (\n                    <Box>\n                      <IconButton\n                        fontSize=\"large\"\n                        onClick={() => handleDialogUsers(role)}\n                        disableRipple\n                      >\n                        <CreateIcon className={css.iconAdd} />\n                      </IconButton>\n                      {role !== 'responsible' ? (\n                        <IconButton\n                          fontSize=\"large\"\n                          onClick={() => handleRemoveUser(role)}\n                          disableRipple\n                        >\n                          <DeleteIcon className={css.iconAdd} />\n                        </IconButton>\n                      ) : null}\n                    </Box>\n                  ) : null}\n                </Box>\n              </Box>\n              {errors[role] ? (\n                <Box marginTop=\"3px\" marginLeft=\"14px\">\n                  <Typography variant=\"caption\" color=\"error\" align=\"left\">\n                    {t('validation.required')}\n                  </Typography>\n                </Box>\n              ) : null}\n            </InputInfo>\n          </Grid>\n        ))}\n      </Grid>\n    </Grid>\n  );\n};\n\nFormAddAction.propTypes = {\n  action: PropTypes.shape({\n    endDate: PropTypes.instanceOf(Date),\n  }).isRequired,\n  typeAction: PropTypes.oneOf(['action', 'subAction']).isRequired,\n  register: PropTypes.func.isRequired,\n  watch: PropTypes.func.isRequired,\n  errors: PropTypes.shape({}).isRequired,\n  control: PropTypes.shape({}).isRequired,\n  setValue: PropTypes.func.isRequired,\n  clearErrors: PropTypes.func.isRequired,\n};\n\nexport default FormAddAction;\n","import DateFnsUtils from '@date-io/date-fns';\nimport { Box, Button, Container, Grid, Typography } from '@material-ui/core';\nimport AddIcon from '@material-ui/icons/Add';\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\nimport ArrowForwardIosIcon from '@material-ui/icons/ArrowForwardIos';\nimport LibraryBooksIcon from '@material-ui/icons/LibraryBooks';\nimport { MuiPickersUtilsProvider } from '@material-ui/pickers';\nimport { add } from 'date-fns';\nimport itLocale from 'date-fns/locale/it';\nimport { cloneDeep, isEmpty, omit, pick } from 'lodash';\nimport PropTypes from 'prop-types';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { Trans, useTranslation } from 'react-i18next';\nimport TaskManager from '../../../context/task/TaskManager';\nimport ActionInfo from './ActionInfo';\nimport FormAddAction from './FormAddAction/FormAddAction';\nimport { actionsStyle } from './style/actionsStyle';\n\nconst initAction = {\n  title: 'Azione',\n  description: '',\n  startDate: null,\n  automaticComplete: true,\n  responsible: null,\n  accountable: null,\n  consulted: null,\n  informed: null,\n  subActions: [],\n};\n\nconst FIELDS = [\n  'title',\n  'description',\n  'endDate',\n  'responsible',\n  'accountable',\n  'consulted',\n  'informed',\n];\n\nconst Actions = ({ onSubmit, changeTab }) => {\n  const [disableAddAction, setDisableAddAction] = useState(false);\n  const [disableAddSubAction, setDisableAddSubAction] = useState(false);\n  const [actions, setActions] = useState([]);\n  const [typeAction, setTypeAction] = useState(null);\n  const [indexAction, setIndexAction] = useState(0);\n  const { task, contextActions } = TaskManager();\n  const {\n    register,\n    handleSubmit,\n    errors,\n    watch,\n    control,\n    setValue,\n    trigger,\n    clearErrors,\n    reset,\n  } = useForm({\n    mode: 'onChange',\n    reValidateMode: 'onBlur',\n    defaultValues: { initAction },\n  });\n\n  const css = actionsStyle();\n  const { t } = useTranslation();\n\n  const usePreviousValues = values => {\n    const ref = useRef();\n    useEffect(() => {\n      ref.current = values;\n    });\n    return ref.current;\n  };\n\n  const preWatch = usePreviousValues(watch(FIELDS));\n  const preTypeAction = usePreviousValues(typeAction);\n\n  const handleClickAddAction = async () => {\n    if (actions.length > contextActions.length || typeAction === 'subAction') {\n      await trigger(FIELDS);\n    }\n    if (isEmpty(errors)) {\n      const newActions = cloneDeep(actions);\n      setTypeAction('action');\n      newActions.push({ ...initAction });\n      setActions(newActions);\n      if (actions.length) {\n        reset(FIELDS);\n      }\n      setValue('endDate', add(task.startDate, { days: 1 }));\n    }\n  };\n\n  const handleClickAddSubAction = async (type, index) => {\n    await trigger(FIELDS);\n    if (isEmpty(errors)) {\n      const newActions = cloneDeep(actions);\n      setIndexAction(index);\n      reset(FIELDS);\n      setTypeAction(type);\n      const initSubAction = { ...omit({ ...initAction }, 'subActions', 'automaticComplete') };\n      initSubAction.title = 'Sottoazione';\n      newActions[index].subActions.push({ ...initSubAction, endDate: actions[index].endDate });\n      setActions(newActions);\n      setDisableAddSubAction(true);\n      setValue('endDate', actions[index].endDate);\n    }\n  };\n\n  useEffect(() => {\n    if (contextActions.length) {\n      setActions(contextActions);\n    }\n  }, [contextActions]);\n\n  useEffect(() => {\n    if (preWatch && preTypeAction === typeAction) {\n      const fields = watch(FIELDS);\n      const changedField = Object.keys(fields).filter(key => fields[key] !== preWatch[key]);\n      if (changedField.length) {\n        const newActions = cloneDeep(actions);\n        const index = newActions.length - 1;\n        const fieldsChanged = changedField.reduce((acc, key) => {\n          acc[key] = fields[key];\n          return acc;\n        }, {});\n        if (!isEmpty(fieldsChanged)) {\n          if (typeAction === 'action') {\n            newActions[index] = { ...newActions[index], ...fieldsChanged };\n          } else if (typeAction === 'subAction') {\n            const indexSubAction = newActions[index].subActions.length - 1;\n            newActions[index].subActions[indexSubAction] = {\n              ...newActions[index].subActions[indexSubAction],\n              ...fieldsChanged,\n            };\n          }\n          setActions(newActions);\n          setDisableAddAction(false);\n          setDisableAddSubAction(false);\n        }\n      }\n    }\n  }, [watch, preWatch, preTypeAction, typeAction]);\n\n  const onSubmitInternal = (data, event) => {\n    if (isEmpty(errors)) {\n      const payload = { ...pick(data, 'step', 'target', 'action'), actions };\n      onSubmit(payload, event);\n    } else {\n      changeTab(null, 3);\n    }\n  };\n\n  if (!isEmpty(errors)) {\n    console.table(errors);\n  }\n  return (\n    <MuiPickersUtilsProvider utils={DateFnsUtils} locale={itLocale}>\n      <form onSubmit={handleSubmit(onSubmitInternal)}>\n        <input type=\"hidden\" name=\"step\" defaultValue={3} ref={register} />\n        <input type=\"hidden\" name=\"target\" defaultValue=\"task\" ref={register} />\n        <input type=\"hidden\" name=\"action\" defaultValue=\"submit\" ref={register} />\n        <Box className={css.boxGrid}>\n          <Grid container className={css.gridContainer} spacing={1}>\n            <Grid item xs={6} classes={{ item: css.item }}>\n              <Box className={css.borderBox}>\n                <Button\n                  variant=\"contained\"\n                  type=\"button\"\n                  className={css.buttonAddAction}\n                  startIcon={<AddIcon />}\n                  onClick={() => handleClickAddAction('new')}\n                  disabled={disableAddAction}\n                  disableRipple\n                >\n                  <Typography variant=\"body2\" color=\"textSecondary\">\n                    {t('entities.creation.actions.add')}\n                  </Typography>\n                </Button>\n              </Box>\n              {actions.length > 0 ? (\n                <Container fixed disableGutters className={css.containerInfo}>\n                  <Container fixed disableGutters className={css.containerInfoScroll}>\n                    <Box className={`${css.borderBox} ${css.borderBoxInfo}`}>\n                      <Box className={css.boxActions}>\n                        <ActionInfo\n                          actions={actions}\n                          handleClickAction={handleClickAddSubAction}\n                          disabledButton={disableAddSubAction}\n                        />\n                      </Box>\n                    </Box>\n                  </Container>\n                </Container>\n              ) : null}\n            </Grid>\n            <Grid item xs={6} classes={{ item: css.item }}>\n              {actions.length <= 0 ? (\n                <Box className={css.boxEmptyActionContainer}>\n                  <Box className=\"boxIcon\">\n                    <LibraryBooksIcon />\n                  </Box>\n                  <Box>\n                    <Typography variant=\"body1\" color=\"textPrimary\">\n                      {t('entities.creation.actions.addTaskAction')}\n                    </Typography>\n                  </Box>\n                  <Box>\n                    <Typography variant=\"body1\" color=\"textSecondary\">\n                      <Trans t={t} i18nKey=\"entities.creation.actions.addTaskActionDescription\">\n                        {[<span key={0} className={css.highlight} />]}\n                      </Trans>\n                    </Typography>\n                  </Box>\n                </Box>\n              ) : (\n                <Container fixed disableGutters className={css.containerInfo}>\n                  <Container fixed disableGutters className={css.containerInfoScroll}>\n                    <Box p={1} className={css.border}>\n                      <FormAddAction\n                        action={actions[indexAction]}\n                        typeAction={typeAction ?? 'action'}\n                        register={register}\n                        control={control}\n                        watch={watch}\n                        errors={errors}\n                        setValue={setValue}\n                        clearErrors={clearErrors}\n                      />\n                    </Box>\n                  </Container>\n                </Container>\n              )}\n            </Grid>\n          </Grid>\n          <Box p={2} border={0} textAlign=\"center\" className={css.boxButtons}>\n            <Button\n              size=\"large\"\n              type=\"button\"\n              onClick={evt => changeTab(evt, 1)}\n              startIcon={<ArrowBackIosIcon />}\n              variant=\"outlined\"\n              className={css.button}\n              disableRipple\n            >\n              <Typography variant=\"body2\" color=\"textSecondary\">\n                {t('entities.creation.buttons.previous')}\n              </Typography>\n            </Button>\n            <Button\n              size=\"large\"\n              type=\"submit\"\n              endIcon={<ArrowForwardIosIcon />}\n              variant=\"outlined\"\n              className={css.button}\n              disableRipple\n            >\n              <Typography variant=\"body2\" color=\"textSecondary\">\n                {t('entities.creation.buttons.next')}\n              </Typography>\n            </Button>\n          </Box>\n        </Box>\n      </form>\n    </MuiPickersUtilsProvider>\n  );\n};\n\nActions.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n  changeTab: PropTypes.func.isRequired,\n};\n\nexport default Actions;\n","import { useContext } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport loadingManager from '../loading/LoadingManager';\nimport MessageManager from '../message/MessageManager';\nimport TaskManager from '../task/TaskManager';\nimport AttachmentContext from './AttachmentContext';\nimport {\n  ADHOC_API,\n  apiAttachmentDelete,\n  apiAttachmentGet,\n  apiAttachmentPost,\n  apiAttachmentSearchAdhoc,\n  apiDownloadAdhocFile,\n  NEXTCLOUD_API,\n} from '../../api/attachments';\nimport UserManager from '../user/UserManager';\n\nconst AttachmentManager = () => {\n  const [state, setState] = useContext(AttachmentContext);\n  const { logged, vertexId, vertexShortName } = UserManager();\n  const { setLoading } = loadingManager();\n  const { t } = useTranslation();\n  const { serviceUrlAttachments } = state;\n  const { task } = TaskManager();\n  const { setError, setMessage } = MessageManager();\n\n  const postAttachment = async (endpoint, partialBody, referenceType) => {\n    const url = `${serviceUrlAttachments}/${endpoint}`;\n    const body = { data: partialBody, referenceId: task.id, referenceType };\n\n    try {\n      setLoading(true);\n      const response = await apiAttachmentPost(url, body);\n      if (response.payload.id) {\n        const json = await apiAttachmentGet(serviceUrlAttachments, task.id, referenceType);\n        const { attachments } = json.payload;\n        const message =\n          t('message.attachmentAdded') +\n          (state.allReferenceType.TASK === referenceType ? ' al task' : '');\n        setState(prev => ({\n          ...prev,\n          attachments,\n          message,\n        }));\n        setMessage(message);\n      }\n    } catch (e) {\n      setState({ ...state, error: t('error.dataLoading'), message: null });\n      setError(t('error.dataLoading'));\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const postNextcloudAttachment = async (nextcloudLink, referenceType) => {\n    postAttachment(NEXTCLOUD_API, nextcloudLink, referenceType);\n  };\n\n  const postAdhocAttachment = async (itemsToBeAdded, referenceType) => {\n    postAttachment(ADHOC_API, { items: itemsToBeAdded }, referenceType);\n  };\n\n  const deleteAttachment = async (attachmentId, referenceType) => {\n    try {\n      setLoading(true);\n      const response = await apiAttachmentDelete(serviceUrlAttachments, attachmentId);\n      if (response.payload.id) {\n        const json = await apiAttachmentGet(serviceUrlAttachments, task.id, referenceType);\n        const { attachments } = json.payload;\n        const message =\n          t('message.attachmentDeleted') +\n          (state.allReferenceType.TASK === referenceType ? ' dal task' : '');\n        setState(prev => ({\n          ...prev,\n          attachments,\n          message,\n        }));\n        setMessage(message);\n      }\n    } catch (e) {\n      setState({ ...state, error: t('error.dataLoading'), message: null });\n      setError(t('error.dataLoading'));\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const setErrorMessage = (e, suffix) => {\n    let errorType = 'dataLoading';\n    if (\n      e\n        .toString()\n        .toLowerCase()\n        .indexOf('time-out') !== -1\n    ) {\n      errorType = 'adhocTimeout';\n    } else if (\n      e\n        .toString()\n        .toLowerCase()\n        .indexOf('bad request') !== -1\n    ) {\n      errorType = 'adhocLogin';\n    } else if (\n      e\n        .toString()\n        .toLowerCase()\n        .indexOf('precondition failed') !== -1\n    ) {\n      errorType = 'adhocConnectionNotFound';\n    } else if (\n      e\n        .toString()\n        .toLowerCase()\n        .indexOf('not found') !== -1\n    ) {\n      errorType = `adhoc${suffix}`;\n    }\n    const errorMessage = t(`error.${errorType}`)\n      .replace('{vertexId}', vertexId)\n      .replace('{vertexShortName}', vertexShortName);\n    setState({ ...state, error: errorMessage, message: null });\n    setError(errorMessage);\n  };\n\n  const searchAdhocAttachment = async adhocSearchDto => {\n    try {\n      setLoading(true);\n      const params = { ...adhocSearchDto, cf: logged, vertexId };\n      const json = await apiAttachmentSearchAdhoc(serviceUrlAttachments, params);\n      return json.payload.items;\n    } catch (e) {\n      setErrorMessage(e, 'Search');\n      return [];\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const downloadAdhocAttachment = async (id, name, previewPdf) => {\n    try {\n      setLoading(true);\n      const downloadDto = { id, name, cf: logged, vertexId };\n      await apiDownloadAdhocFile(serviceUrlAttachments, downloadDto, previewPdf);\n    } catch (e) {\n      setErrorMessage(e, 'Download');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const clearError = () => setState(prev => ({ ...prev, error: null }));\n\n  const clearMessage = () => setState(prev => ({ ...prev, message: null }));\n\n  return {\n    attachments: state.attachments,\n    postNextcloudAttachment,\n    postAdhocAttachment,\n    searchAdhocAttachment,\n    deleteAttachment,\n    downloadAdhocAttachment,\n    error: state.error,\n    message: state.message,\n    clearError,\n    clearMessage,\n    allClouds: state.allClouds,\n    allReferenceType: state.allReferenceType,\n  };\n};\nexport default AttachmentManager;\n","import { makeStyles } from '@material-ui/core';\n\nconst dialogAttachmentStyle = makeStyles({\n  highlight: {\n    color: '#efb868',\n    fontWeight: 600,\n  },\n});\n\nexport default dialogAttachmentStyle;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Dialog, Divider, List, ListItem, ListItemText } from '@material-ui/core';\nimport { Trans, useTranslation } from 'react-i18next';\nimport dialogAttachmentStyle from './style/dialogAttachmentStyle';\n\nconst DialogAttachment = ({ onClose, open }) => {\n  const handleListItemClick = value => {\n    onClose(value);\n  };\n\n  const { t } = useTranslation();\n  const css = dialogAttachmentStyle();\n\n  return (\n    <Dialog onClose={onClose} aria-labelledby=\"dialog-choose-attachment\" open={open}>\n      <List>\n        <ListItem button onClick={() => handleListItemClick('dhoc')} key=\"dhoc\">\n          <ListItemText>\n            <Trans t={t} i18nKey=\"entities.creation.attachment.dhoc\">\n              {[<span key={0} className={css.highlight} />]}\n            </Trans>\n          </ListItemText>\n        </ListItem>\n        <Divider />\n        <ListItem button onClick={() => handleListItemClick('elcloud')} key=\"elcloud\">\n          <ListItemText>\n            <Trans t={t} i18nKey=\"entities.creation.attachment.elcloud\">\n              {[<span key={0} className={css.highlight} />]}\n            </Trans>\n          </ListItemText>\n        </ListItem>\n      </List>\n    </Dialog>\n  );\n};\n\nDialogAttachment.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  open: PropTypes.bool.isRequired,\n};\n\nexport default DialogAttachment;\n","import { makeStyles } from '@material-ui/styles';\n\nconst selectStyle = makeStyles(theme => ({\n  formControl: {\n    backgroundColor: '#ffffff',\n    '& div': {\n      height: '56px',\n      border: 1,\n      borderStyle: 'solid',\n      borderColor: theme.palette.action.disabled,\n    },\n    '& select': {\n      paddingRight: [24, '!important'],\n      color: theme.palette.text.primary,\n    },\n    '& select option': {\n      color: theme.palette.text.primary,\n    },\n    '& select option:first-child': {\n      color: theme.palette.text.disabled,\n    },\n    '& select:focus': {\n      backgroundColor: 'transparent',\n    },\n    '& fieldset': {\n      border: 0,\n    },\n  },\n}));\n\nexport default selectStyle;\n","import { FormControl, Select, FormHelperText } from '@material-ui/core';\nimport { isEmpty } from 'lodash';\n\nimport PropTypes from 'prop-types';\nimport React, { useEffect, useState } from 'react';\nimport selectStyle from './style/inputSelectStyle';\n\nconst InputSelect = ({ register, name, options, emptyOption, errors, initialValue }) => {\n  const [value, setValue] = useState('');\n  const css = selectStyle();\n  const handleChange = event => {\n    setValue(event.target.value);\n  };\n  useEffect(() => {\n    if (initialValue) {\n      handleChange({ target: { value: initialValue } });\n    }\n  }, [initialValue]);\n\n  return (\n    <FormControl\n      variant=\"outlined\"\n      className={css.formControl}\n      fullWidth\n      error={!isEmpty(errors[name])}\n    >\n      <Select native value={value} onChange={handleChange} inputRef={register} name={name}>\n        <option value=\"\" disabled>\n          {emptyOption}\n        </option>\n        {options.map(m => (\n          <option key={m.id} value={m.id}>\n            {m.value}\n          </option>\n        ))}\n      </Select>\n      <FormHelperText id=\"component-task-name-error-text\">{errors[name]?.message}</FormHelperText>\n    </FormControl>\n  );\n};\n\nInputSelect.propTypes = {\n  register: PropTypes.func.isRequired,\n  name: PropTypes.string.isRequired,\n  emptyOption: PropTypes.string.isRequired,\n  options: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n  errors: PropTypes.shape({}).isRequired,\n  initialValue: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n};\n\nInputSelect.defaultProps = {\n  initialValue: '',\n};\n\nexport default InputSelect;\n","import { makeStyles } from '@material-ui/styles';\nimport grey from '@material-ui/core/colors/grey';\n\nconst dialogDhOCStyle = makeStyles(theme => ({\n  dialog: {\n    '& .MuiDialog-paper': {\n      minHeight: 450,\n      position: 'absolute',\n      top: '20%',\n    },\n  },\n\n  dialogTitle: {\n    textAlign: 'center',\n  },\n\n  boxEditor: {\n    position: 'relative',\n    padding: theme.spacing(2),\n    border: 1,\n    borderStyle: 'solid',\n    borderColor: grey[300],\n    minHeight: 300,\n    borderRadius: 4,\n    outline: 'none',\n    '& .se-toolbar.sun-editor-common': {\n      border: 1,\n      borderStyle: 'solid',\n      borderColor: '#f6f7f9',\n      position: 'absolute',\n      bottom: -60,\n      width: 200,\n      backgroundColor: '#f6f7f9',\n      borderRadius: 4,\n      outline: 'none',\n      padding: 0,\n    },\n    '& .sun-editor': {\n      borderRadius: 4,\n    },\n    '& .sun-editor .se-container': {\n      borderRadius: 4,\n      outline: 'none',\n    },\n    '& .sun-editor .se-wrapper': {\n      borderRadius: 4,\n    },\n    '& .sun-editor .se-resizing-bar': {\n      borderBottomLeftRadius: 4,\n      borderBottomRightRadius: 4,\n    },\n  },\n\n  closeButton: {\n    position: 'absolute',\n    right: theme.spacing(1),\n    top: theme.spacing(1),\n    color: theme.palette.grey[500],\n  },\n\n  iconButton: {\n    padding: theme.spacing(1),\n  },\n\n  inputMultiline: {\n    paddingTop: 24,\n    paddingBottom: 24,\n    paddingLeft: 14,\n    paddingRight: 14,\n  },\n\n  subHeader: {\n    borderBottom: 1,\n    borderBottomStyle: 'solid',\n    borderBottomColor: theme.palette.action.disabled,\n    borderTop: 1,\n    borderTopStyle: 'solid',\n    borderTopColor: theme.palette.action.disabled,\n  },\n\n  dialogActions: {},\n\n  buttonSearch: {\n    margin: [[theme.spacing(2), 0]],\n    textTransform: 'none',\n    minHeight: '50px',\n    width: '100%',\n    backgroundColor: '#b68902',\n    color: '#fff',\n    '&:hover': {\n      backgroundColor: '#b68902',\n    },\n  },\n\n  button: {\n    backgroundColor: '#b68902',\n    color: '#fff',\n    margin: theme.spacing(2),\n    textTransform: 'none',\n    minHeight: '50px',\n    minWidth: '150px',\n    '&:disabled': {\n      backgroundColor: '#e0e3e8',\n    },\n    '&:hover': {\n      backgroundColor: grey[200],\n    },\n  },\n\n  buttonClose: {\n    backgroundColor: '#b68900',\n    color: '#fff',\n    margin: theme.spacing(2),\n    textTransform: 'none',\n    minHeight: '50px',\n    minWidth: '150px',\n    '&:disabled': {\n      backgroundColor: '#e0e3e8',\n    },\n    '&:hover': {\n      backgroundColor: '#b68900',\n    },\n  },\n\n  highlight: {\n    color: '#efb868',\n    fontWeight: 600,\n  },\n\n  boxAttachment: {\n    backgroundColor: '#eeeff3',\n    display: 'flex',\n    flexWrap: 'nowrap',\n    justifyContent: 'center',\n    height: 50,\n    borderRadius: 4,\n    alignItems: 'center',\n  },\n\n  iconClose: {\n    color: 'red',\n    padding: theme.spacing(1),\n  },\n  adhocItemsFound: {\n    border: 1,\n    borderStyle: 'solid',\n    borderColor: theme.palette.action.disabled,\n    borderRadius: 4,\n    padding: '.5rem',\n    paddingLeft: '1rem',\n    margin: '.3rem',\n    color: '#5a6470',\n  },\n  boxAdhocItemsFound: {\n    display: 'flex',\n    flexDirection: 'row',\n    flexWrap: 'nowrap',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    '& .Mui-checked': {\n      color: '#b68902',\n    },\n  },\n  link: {\n    textDecoration: 'none',\n    color: 'rgba(0, 0, 0, 0.54)',\n  },\n\n  uppercase: {\n    '& input': {\n      textTransform: 'uppercase',\n    },\n  },\n}));\n\nexport default dialogDhOCStyle;\n","const constants = {\n  ADHOC_MIN_YEAR: 2012,\n  ADHOC_DEFAULT_REGISTRY: 'REG',\n};\n\nexport default constants;\n","import {\n  Box,\n  Button,\n  Checkbox,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  Grid,\n  IconButton,\n  Paper,\n} from '@material-ui/core';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport React, { useEffect, useState, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport Draggable from 'react-draggable';\nimport { useForm } from 'react-hook-form';\nimport { Trans, useTranslation } from 'react-i18next';\nimport { isEmpty } from 'lodash';\nimport LinkIcon from '@material-ui/icons/Link';\nimport InputInfo from '../../Input/InputInfo';\nimport InputText from '../../Input/InputText';\nimport InputSelect from '../../Input/InputSelect';\nimport dialogDhOCStyle from './style/dialogDhOCStyle';\nimport AttachmentManager from '../../../context/attachment/AttachmentManager';\nimport constants from '../../../config/constants';\n\nconst PaperComponent = props => (\n  <Draggable handle=\"#draggable-dialog-users\" cancel={'[class*=\"MuiDialogContent-root\"]'}>\n    {/* eslint-disable-next-line react/jsx-props-no-spreading */}\n    <Paper {...props} />\n  </Draggable>\n);\n\nconst DialogDHOC = ({ onClose, open, referenceType }) => {\n  const maximumAdhocYear = new Date().getFullYear();\n  const css = dialogDhOCStyle();\n  const { t } = useTranslation();\n  const [disabledSearch, setDisabledSearch] = useState(true);\n  const {\n    searchAdhocAttachment,\n    postAdhocAttachment,\n    downloadAdhocAttachment,\n  } = AttachmentManager();\n  const [itemsFound, setItemsFound] = useState(null);\n  const [indecesToBeAdded, setIndecesToBeAdded] = useState(new Set());\n  const [disabledAdd, setDisabledAdd] = useState(true);\n\n  const { register, handleSubmit, errors, setValue, watch, formState } = useForm({\n    mode: 'all',\n  });\n\n  const onCloseThisDialog = () => {\n    setItemsFound(null);\n    setIndecesToBeAdded(new Set());\n    setDisabledAdd(true);\n    onClose();\n  };\n  const onClickAdd = async () => {\n    const itemsToBeAdded = [];\n    Array.from(indecesToBeAdded).forEach(index => itemsToBeAdded.push(itemsFound[index]));\n    await postAdhocAttachment(itemsToBeAdded, referenceType);\n    onCloseThisDialog();\n  };\n\n  const onSubmit = async (data, evt) => {\n    evt.preventDefault();\n    evt.stopPropagation();\n    if (formState.isSubmitting) {\n      return;\n    }\n    // eslint-disable-next-line no-shadow\n    const itemsFound = await searchAdhocAttachment({\n      ...data,\n      registry: String(data.registry)?.toUpperCase(),\n    });\n    setItemsFound(itemsFound);\n  };\n\n  const onSelectItem = (index, checked) => {\n    const actual = indecesToBeAdded;\n    if (checked) {\n      actual.add(index);\n    } else {\n      actual.delete(index);\n    }\n    setIndecesToBeAdded(actual);\n    setDisabledAdd(actual.size === 0);\n  };\n\n  useEffect(() => {\n    if (!isEmpty(watch())) {\n      const check = Object.keys(watch()).filter(key => watch(key) === '');\n      setDisabledSearch(check.length !== 0);\n    }\n  }, [watch]);\n\n  const adhocYearSelectionOptions = useCallback(() => {\n    return Array(maximumAdhocYear - constants.ADHOC_MIN_YEAR + 1)\n      .fill()\n      .map((_, idx) => constants.ADHOC_MIN_YEAR + idx)\n      .map(element => {\n        return { id: element, value: element };\n      });\n  }, []);\n\n  const adhocItemFound = (item, index) => {\n    return (\n      <Box\n        className={css.adhocItemsFound}\n        textAlign=\"left\"\n        display=\"flex\"\n        flexDirection=\"row\"\n        flexWrap=\"nowrap\"\n        justifyContent=\"space-between\"\n        alignItems=\"center\"\n        alignContent=\"flex-start\"\n        key={index + item.name}\n      >\n        <Typography\n          title={`Scarica ${item.name}`}\n          component=\"div\"\n          variant=\"subtitle2\"\n          noWrap\n          style={{ cursor: 'pointer' }}\n          onClick={() => downloadAdhocAttachment(item.id, item.name, true)}\n        >\n          {item.signature}\n        </Typography>\n\n        <Typography\n          variant=\"body1\"\n          color=\"textSecondary\"\n          title={`Scarica ${item.name}`}\n          style={{ cursor: 'pointer' }}\n          noWrap\n          onClick={() => downloadAdhocAttachment(item.id, item.name, true)}\n        >\n          {item.name}\n        </Typography>\n\n        <Box className={css.boxAdhocItemsFound}>\n          <LinkIcon\n            style={{ marginRight: '1rem', cursor: 'pointer' }}\n            onClick={() => downloadAdhocAttachment(item.id, item.name, true)}\n          />\n          <Checkbox onChange={e => onSelectItem(index, e.target.checked)} />\n        </Box>\n      </Box>\n    );\n  };\n\n  return (\n    <Dialog\n      fullWidth\n      maxWidth=\"sm\"\n      onClose={onCloseThisDialog}\n      aria-labelledby=\"dialog-dhoc\"\n      open={open}\n      disableEnforceFocus\n      PaperComponent={PaperComponent}\n    >\n      <DialogTitle className={css.dialogTitle} id=\"form-dialog-title\" onClose={onCloseThisDialog}>\n        <div>\n          <Trans t={t} i18nKey=\"entities.creation.dialog.attachment.titleDhoc\">\n            {[<span key={0} className={css.highlight} />]}\n          </Trans>\n        </div>\n        <IconButton aria-label=\"close\" className={css.closeButton} onClick={onCloseThisDialog}>\n          <CloseIcon />\n        </IconButton>\n      </DialogTitle>\n      <DialogContent>\n        <form onSubmit={handleSubmit(onSubmit)}>\n          <Box className={css.boxEditor}>\n            <Grid container>\n              <Grid item xs={12}>\n                <InputInfo title={t('entities.creation.dialog.attachment.protocolDhOc')}>\n                  <InputText\n                    type=\"number\"\n                    name=\"protocol\"\n                    placeholder={t('entities.creation.dialog.attachment.protocolDhOcPlaceholder')}\n                    register={register({\n                      required: {\n                        value: true,\n                        message: t('validation.required'),\n                      },\n                    })}\n                    watch={watch}\n                    setValue={setValue}\n                    errors={errors}\n                  />\n                </InputInfo>\n              </Grid>\n              <Grid item xs={12}>\n                <InputInfo title={t('entities.creation.dialog.attachment.yearDhOc')}>\n                  <InputSelect\n                    register={register({\n                      required: {\n                        value: true,\n                        message: t('validation.required'),\n                      },\n                    })}\n                    name=\"year\"\n                    emptyOption={undefined}\n                    initialValue={maximumAdhocYear}\n                    options={adhocYearSelectionOptions()}\n                    errors={errors}\n                  />\n                </InputInfo>\n              </Grid>\n              <Grid item xs={12}>\n                <InputInfo\n                  title={t('entities.creation.dialog.attachment.registryDhOc')}\n                  className={css.uppercase}\n                >\n                  <InputText\n                    name=\"registry\"\n                    placeholder={t('entities.creation.dialog.attachment.registryDhOcPlaceholder')}\n                    register={register({\n                      required: {\n                        value: true,\n                        message: t('validation.required'),\n                      },\n                    })}\n                    initialValue={constants.ADHOC_DEFAULT_REGISTRY}\n                    watch={watch}\n                    setValue={setValue}\n                    errors={errors}\n                  />\n                </InputInfo>\n              </Grid>\n              <Grid item xs={12}>\n                <Box textAlign=\"center\">\n                  <Button\n                    type=\"submit\"\n                    variant=\"outlined\"\n                    className={css.buttonSearch}\n                    disabled={disabledSearch}\n                  >\n                    {t('entities.creation.dialog.attachment.searchDhOC')}\n                  </Button>\n                </Box>\n              </Grid>\n            </Grid>\n            <Grid item xs={12}>\n              <Box textAlign=\"center\">\n                {/* eslint-disable-next-line no-nested-ternary */}\n                {itemsFound === null || itemsFound === undefined ? (\n                  <></>\n                ) : itemsFound.length === 0 ? (\n                  <Box className={css.boxAttachment}>\n                    <Typography variant=\"h6\" component=\"div\" color=\"textSecondary\">\n                      {t('entities.creation.dialog.attachment.notFound')}\n                    </Typography>\n                  </Box>\n                ) : (\n                  itemsFound.map((item, index) => adhocItemFound(item, index))\n                )}\n              </Box>\n            </Grid>\n          </Box>\n        </form>\n      </DialogContent>\n      <DialogActions className={css.dialogActions}>\n        <Button disabled={disabledAdd} onClick={onClickAdd} className={css.button}>\n          {t('entities.creation.dialog.attachment.add')}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\nDialogDHOC.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  open: PropTypes.bool.isRequired,\n  referenceType: PropTypes.string,\n};\n\nDialogDHOC.defaultProps = {\n  referenceType: null,\n};\nexport default DialogDHOC;\n","import { makeStyles } from '@material-ui/styles';\nimport grey from '@material-ui/core/colors/grey';\n\nconst dialogElCloudStyle = makeStyles(theme => ({\n  dropZone: {\n    '& .MuiDropzoneArea-root': {\n      minHeight: 160,\n      position: 'relative',\n    },\n    '& .MuiDropzoneArea-icon': {\n      color: grey[300],\n    },\n  },\n\n  dropZoneArea: {\n    '&.MuiDropzoneArea-root': {\n      minHeight: 160,\n      position: 'relative',\n      background: 'lightgrey',\n      color: grey[300],\n      cursor: 'default',\n    },\n    '& .MuiDropzoneArea-icon': {\n      color: grey[300],\n    },\n  },\n\n  dialogTitle: {\n    textAlign: 'center',\n  },\n\n  boxEditor: {\n    position: 'relative',\n    padding: theme.spacing(2),\n    border: 1,\n    borderStyle: 'solid',\n    borderColor: grey[300],\n    minHeight: 300,\n    borderRadius: 4,\n    outline: 'none',\n    '& .se-toolbar.sun-editor-common': {\n      border: 1,\n      borderStyle: 'solid',\n      borderColor: '#f6f7f9',\n      position: 'absolute',\n      bottom: -60,\n      width: 200,\n      backgroundColor: '#f6f7f9',\n      borderRadius: 4,\n      outline: 'none',\n      padding: 0,\n    },\n    '& .sun-editor': {\n      borderRadius: 4,\n    },\n    '& .sun-editor .se-container': {\n      borderRadius: 4,\n      outline: 'none',\n    },\n    '& .sun-editor .se-wrapper': {\n      borderRadius: 4,\n    },\n    '& .sun-editor .se-resizing-bar': {\n      borderBottomLeftRadius: 4,\n      borderBottomRightRadius: 4,\n    },\n  },\n\n  closeButton: {\n    position: 'absolute',\n    right: theme.spacing(1),\n    top: theme.spacing(1),\n    color: theme.palette.grey[500],\n  },\n\n  iconButton: {\n    padding: theme.spacing(1),\n  },\n\n  inputMultiline: {\n    paddingTop: 24,\n    paddingBottom: 24,\n    paddingLeft: 14,\n    paddingRight: 14,\n  },\n\n  subHeader: {\n    borderBottom: 1,\n    borderBottomStyle: 'solid',\n    borderBottomColor: theme.palette.action.disabled,\n    borderTop: 1,\n    borderTopStyle: 'solid',\n    borderTopColor: theme.palette.action.disabled,\n  },\n\n  dialogActions: {},\n\n  buttonSearch: {\n    margin: [[theme.spacing(2), 0]],\n    textTransform: 'none',\n    minHeight: '50px',\n    width: '100%',\n    backgroundColor: '#b68902',\n    color: '#fff',\n    '&:hover': {\n      backgroundColor: '#b68902',\n    },\n  },\n\n  button: {\n    backgroundColor: '#b68902',\n    color: '#fff',\n    margin: theme.spacing(2),\n    textTransform: 'none',\n    minHeight: '50px',\n    minWidth: '150px',\n    '&:disabled': {\n      backgroundColor: '#e0e3e8',\n    },\n    '&:hover': {\n      backgroundColor: grey[200],\n    },\n  },\n\n  buttonClose: {\n    backgroundColor: '#b68900',\n    color: '#fff',\n    margin: theme.spacing(2),\n    textTransform: 'none',\n    minHeight: '50px',\n    minWidth: '150px',\n    '&:disabled': {\n      backgroundColor: '#e0e3e8',\n    },\n    '&:hover': {\n      backgroundColor: '#b68900',\n    },\n  },\n\n  highlight: {\n    color: '#efb868',\n    fontWeight: 600,\n  },\n\n  boxAttachment: {\n    backgroundColor: '#eeeff3',\n    display: 'flex',\n    flexWrap: 'nowrap',\n    justifyContent: 'center',\n    height: 50,\n    borderRadius: 4,\n    alignItems: 'center',\n  },\n\n  iconClose: {\n    color: 'red',\n    padding: theme.spacing(1),\n  },\n\n  previewChip: {\n    minWidth: 160,\n    maxWidth: 210,\n  },\n}));\n\nexport default dialogElCloudStyle;\n","import {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogTitle,\n  Grid,\n  IconButton,\n  Paper,\n} from '@material-ui/core';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { DropzoneAreaBase } from 'material-ui-dropzone';\nimport PropTypes from 'prop-types';\nimport React, { useEffect, useState } from 'react';\nimport Draggable from 'react-draggable';\nimport { Trans, useTranslation } from 'react-i18next';\nimport { useForm } from 'react-hook-form';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport { isEmpty } from 'lodash';\nimport AttachmentManager from '../../../context/attachment/AttachmentManager';\nimport dialogElCloudStyle from './style/dialogElCloudStyle';\nimport InputInfo from '../../Input/InputInfo';\nimport InputText from '../../Input/InputText';\n\nconst PaperComponent = props => (\n  <Draggable handle=\"#draggable-dialog-users\" cancel={'[class*=\"MuiDialogContent-root\"]'}>\n    {/* eslint-disable-next-line react/jsx-props-no-spreading */}\n    <Paper {...props} />\n  </Draggable>\n);\n\nconst DialogElCloud = ({ onClose, open, referenceType }) => {\n  const css = dialogElCloudStyle();\n  const { t } = useTranslation();\n  const { attachments, postNextcloudAttachment } = AttachmentManager();\n  const [disabledAdd, setDisabledAdd] = useState(true);\n\n  const { register, errors, setValue, watch } = useForm({\n    mode: 'all',\n  });\n\n  useEffect(() => {\n    if (!isEmpty(watch())) {\n      const check = Object.keys(watch()).filter(key => watch(key) === '');\n      if (check.length === 0) {\n        setDisabledAdd(false);\n      } else {\n        setDisabledAdd(true);\n      }\n    }\n  }, [watch]);\n\n  const onSubmit = async () => {\n    await postNextcloudAttachment(Object.values(watch())[0], referenceType);\n    onClose();\n  };\n\n  return (\n    <Dialog\n      fullWidth\n      maxWidth=\"sm\"\n      onClose={onClose}\n      aria-labelledby=\"dialog-dhoc\"\n      open={open}\n      disableEnforceFocus\n      PaperComponent={PaperComponent}\n    >\n      <DialogTitle className={css.dialogTitle} id=\"form-dialog-title\" onClose={onClose}>\n        <div>\n          <Trans t={t} i18nKey=\"entities.creation.dialog.attachment.titleElCloud\">\n            {[<span key={0} className={css.highlight} />]}\n          </Trans>\n        </div>\n        <IconButton aria-label=\"close\" className={css.closeButton} onClick={onClose}>\n          <CloseIcon />\n        </IconButton>\n      </DialogTitle>\n      <DialogContent>\n        <DropzoneAreaBase\n          dropzoneClass={css.dropZoneArea}\n          dialogProps={{\n            'aria-labelledby': 'dialog-elcloud',\n            disableEnforceFocus: true,\n            PaperComponent,\n            className: css.dropZoneArea,\n          }}\n          dropzoneProps={{ disabled: true }}\n          maxWidth=\"sm\"\n          fileObjects={attachments}\n          cancelButtonText=\"\"\n          submitButtonText=\"\"\n          dropzoneText={t('entities.creation.dialog.attachment.dragAndDrop')}\n          maxFileSize={5000000}\n          filesLimit={1}\n          open={open}\n          onAdd={attachment => {\n            postNextcloudAttachment(attachment);\n            onClose(attachment);\n          }}\n          onClose={onClose}\n          showPreviews={false}\n          showFileNamesInPreview={false}\n          showAlerts={false}\n          showFileNames={false}\n          showPreviewsInDropzone={false}\n        />\n        <Grid item xs={12}>\n          <InputInfo title={t('entities.creation.dialog.attachment.linkNextcloud')}>\n            <InputText\n              name=\"nextcloudLink\"\n              placeholder={t('entities.creation.dialog.attachment.linkNextcloudPlaceholder')}\n              register={register({\n                required: {\n                  value: true,\n                  message: t('validation.required'),\n                },\n              })}\n              watch={watch}\n              setValue={setValue}\n              errors={errors}\n            />\n          </InputInfo>\n        </Grid>\n      </DialogContent>\n      <DialogActions className={css.dialogActions}>\n        <Button className={css.button} disabled={disabledAdd} onClick={onSubmit}>\n          {t('entities.creation.dialog.attachment.add')}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nDialogElCloud.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  open: PropTypes.bool.isRequired,\n  referenceType: PropTypes.string,\n};\n\nDialogElCloud.defaultProps = {\n  referenceType: null,\n};\nexport default DialogElCloud;\n","import { makeStyles } from '@material-ui/styles';\n\nconst attachmentInfoStyle = makeStyles(theme => ({\n  boxAttachmentInfoContainer: {\n    border: 1,\n    borderStyle: 'solid',\n    borderColor: theme.palette.action.disabled,\n    display: 'flex',\n    flexWrap: 'nowrap',\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: theme.spacing(1),\n    marginBottom: theme.spacing(1),\n    borderRadius: 4,\n  },\n\n  boxAttachmentInfoAction: {\n    display: 'flex',\n    flexDirection: 'row',\n    flexWrap: 'nowrap',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    color: theme.palette.action.disabled,\n  },\n\n  borderBox: {\n    border: 1,\n    borderStyle: 'solid',\n    borderColor: theme.palette.action.disabled,\n    borderRadius: 4,\n  },\n  icon: {\n    color: '#5a6470',\n  },\n  attachment: {\n    width: '100%',\n  },\n  link: {\n    textDecoration: 'none',\n    color: 'rgba(0, 0, 0, 0.54)',\n  },\n  marginBox: {\n    marginBottom: '8px',\n  },\n}));\nexport default attachmentInfoStyle;\n","import { Box, IconButton, Typography } from '@material-ui/core';\nimport AttachFileIcon from '@material-ui/icons/AttachFile';\nimport DeleteIcon from '@material-ui/icons/Delete';\n\nimport LinkIcon from '@material-ui/icons/Link';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport attachmentInfoStyle from './style/attachmentInfoStyle';\nimport AttachmentManager from '../../../context/attachment/AttachmentManager';\n\nconst AttachmentInfo = ({ attachment, handleDelete, allClouds }) => {\n  const css = attachmentInfoStyle();\n  const {\n    id,\n    // eslint-disable-next-line react/prop-types\n    file: { name, cloudType, signature },\n  } = attachment;\n\n  const link = name;\n  let label = name;\n  if (label.length > 60) {\n    label = `${name.substring(0, 17)}...${name.substring(name.length - 40)}`;\n  }\n  const { downloadAdhocAttachment } = AttachmentManager();\n\n  return (\n    <Box\n      className={`${css.borderBox} ${css.marginBox}`}\n      textAlign=\"left\"\n      p={2}\n      display=\"flex\"\n      flexDirection=\"row\"\n      flexWrap=\"nowrap\"\n      justifyContent=\"space-between\"\n      alignItems=\"center\"\n      alignContent=\"flex-start\"\n    >\n      <Box p={1} className={css.icon}>\n        <AttachFileIcon />\n      </Box>\n      <Box className={css.attachment}>\n        {cloudType === allClouds.NEXTCLOUD ? (\n          <Typography variant=\"body1\" color=\"textSecondary\" title={link}>\n            <a target=\"_blank\" rel=\"noreferrer\" href={link} className={css.link}>\n              {label}\n            </a>\n          </Typography>\n        ) : (\n          <>\n            {signature ? (\n              <Typography\n                component=\"div\"\n                variant=\"subtitle2\"\n                noWrap\n                style={{ cursor: 'pointer' }}\n                onClick={() => downloadAdhocAttachment(id, null, true)}\n              >\n                {signature}\n              </Typography>\n            ) : null}\n\n            <Typography\n              variant=\"body1\"\n              color=\"textSecondary\"\n              title={label}\n              component=\"div\"\n              noWrap\n              style={{ cursor: 'pointer' }}\n              onClick={() => downloadAdhocAttachment(id, null, true)}\n            >\n              {label}\n            </Typography>\n          </>\n        )}\n      </Box>\n      <Box p={1} className={css.icon}>\n        {cloudType === allClouds.NEXTCLOUD ? (\n          <a target=\"_blank\" rel=\"noreferrer\" href={link} className={css.link}>\n            <LinkIcon />\n          </a>\n        ) : (\n          <LinkIcon\n            style={{ cursor: 'pointer' }}\n            onClick={() => downloadAdhocAttachment(id, null, true)}\n          />\n        )}\n      </Box>\n      <Box className={css.boxAttachmentInfoAction}>\n        <IconButton aria-label=\"delete\" onClick={() => handleDelete(id)} disableRipple>\n          <DeleteIcon />\n        </IconButton>\n      </Box>\n    </Box>\n  );\n};\n\nAttachmentInfo.propTypes = {\n  attachment: PropTypes.shape({\n    id: PropTypes.string,\n    file: PropTypes.shape({\n      name: PropTypes.string,\n      cloudType: PropTypes.string,\n    }),\n  }).isRequired,\n  handleDelete: PropTypes.func.isRequired,\n  allClouds: PropTypes.shape(null).isRequired,\n};\nexport default AttachmentInfo;\n","import { makeStyles } from '@material-ui/styles';\n\nconst attachmentsStyle = makeStyles(theme => ({\n  boxGrid: {\n    border: 0,\n    borderStyle: 'solid',\n    borderColor: theme.palette.action.disabled,\n    minHeight: '800px',\n    position: 'relative',\n    padding: theme.spacing(0.5),\n  },\n\n  item: {\n    border: '0 solid black',\n    height: '726px',\n  },\n\n  border: {\n    border: 1,\n    borderTop: 0,\n    borderRight: 0,\n    borderStyle: 'solid',\n    borderColor: theme.palette.action.disabled,\n  },\n\n  boxEmptyActionContainer: {\n    border: '0 solid red',\n    padding: theme.spacing(4),\n    marginTop: theme.spacing(10),\n    textAlign: 'center',\n    '& .boxIcon': {\n      '& .MuiSvgIcon-root': {\n        fontSize: '3rem',\n        color: '#aeb6c2',\n      },\n    },\n  },\n\n  gridContainer: {\n    border: '0 solid red',\n  },\n\n  inputInfo: {\n    border: '0 solid red',\n  },\n\n  borderBox: {\n    border: '1px solid',\n    borderColor: theme.palette.action.disabled,\n    borderRadius: 4,\n    minHeight: '50px',\n\n    '&.error': {\n      borderColor: theme.palette.error.main,\n    },\n  },\n\n  boxContainer: {\n    border: '0 solid red',\n  },\n\n  containerInfo: {\n    height: '634px',\n    border: 0,\n    borderColor: 'green',\n    borderStyle: 'solid',\n    overflow: 'hidden',\n    paddingRight: theme.spacing(0.5),\n  },\n\n  containerInfoScroll: {\n    border: 0,\n    borderColor: 'blue',\n    borderStyle: 'solid',\n    height: '100%',\n    overflowY: 'scroll',\n    overflowX: 'hidden',\n    boxSizing: 'content-box',\n    '&::-webkit-scrollbar': {\n      width: 5,\n    },\n    '&::-webkit-scrollbar-track': {\n      background: '#f9fafb',\n      borderRadius: '4px',\n    },\n    '&::-webkit-scrollbar-thumb': {\n      background: '#e0e3e8',\n      borderRadius: '4px',\n    },\n    '&::-webkit-scrollbar-thumb:hover': {\n      background: '#555',\n    },\n  },\n\n  boxAttachment: {\n    padding: theme.spacing(1),\n  },\n\n  boxAdd: {\n    marginRight: theme.spacing(2),\n    border: 0,\n    borderRadius: '50%',\n    borderColor: theme.palette.action.disabled,\n    borderStyle: 'solid',\n    backgroundColor: '#eeeff3',\n    width: '40px',\n    height: '40px',\n    position: 'relative',\n  },\n\n  iconAdd: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%,-50%)',\n    color: '#586473',\n  },\n\n  boxButtons: {\n    border: '0 solid black',\n    margin: 0,\n    bottom: 0,\n  },\n\n  boxButtonAttachment: {},\n\n  buttonAttachment: {\n    width: '100%',\n    marginTop: theme.spacing(2),\n    height: '50px',\n    textTransform: 'none',\n  },\n\n  button: {\n    marginRight: theme.spacing(4),\n    marginLeft: theme.spacing(4),\n    height: '45px',\n  },\n\n  highlight: {\n    color: '#efb868',\n    fontWeight: 600,\n  },\n}));\n\nexport default attachmentsStyle;\n","import DateFnsUtils from '@date-io/date-fns';\nimport { Box, Button, Container, Grid, Slide, Typography } from '@material-ui/core';\n\nimport AddIcon from '@material-ui/icons/Add';\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\nimport ArrowForwardIosIcon from '@material-ui/icons/ArrowForwardIos';\nimport AttachFileIcon from '@material-ui/icons/AttachFile';\nimport { MuiPickersUtilsProvider } from '@material-ui/pickers';\nimport { SnackbarProvider } from 'notistack';\nimport PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport { Trans, useTranslation } from 'react-i18next';\nimport AttachmentManager from '../../../context/attachment/AttachmentManager';\nimport DialogAttachment from '../../Dialog/Attachment/DialogAttachment';\nimport DialogDHOC from '../../Dialog/Attachment/DialogDhOC';\nimport DialogElCloud from '../../Dialog/Attachment/DialogElCloud';\nimport AttachmentInfo from './AttachmentInfo';\nimport attachmentsStyle from './style/attachmentsStyle';\n\nconst Attachments = ({ changeTab }) => {\n  const { t } = useTranslation();\n  const [openDialog, setOpenDialog] = useState(false);\n  const [openDialogDhOC, setOpenDialogDhOC] = useState(false);\n  // eslint-disable-next-line no-unused-vars\n  const [openDialogElCloud, setOpenDialogElCloud] = useState(false);\n  const { attachments, deleteAttachment, allClouds, allReferenceType } = AttachmentManager();\n  const einetAttachments = attachments.filter(a => a.file.cloudType === allClouds.NEXTCLOUD);\n  const adhocAttachments = attachments.filter(a => a.file.cloudType === allClouds.ADHOC);\n  const css = attachmentsStyle();\n\n  const referenceType = allReferenceType.TASK;\n\n  const handleDialog = value => {\n    setOpenDialog(!openDialog);\n    if (value === 'dhoc') {\n      setOpenDialogDhOC(true);\n    } else if (value === 'elcloud') {\n      setOpenDialogElCloud(true);\n    }\n  };\n\n  const removeAttachment = id => {\n    deleteAttachment(id, referenceType);\n  };\n\n  return (\n    <>\n      <SnackbarProvider\n        maxSnack={10}\n        anchorOrigin={{\n          vertical: 'top',\n          horizontal: 'center',\n        }}\n        TransitionComponent={Slide}\n      />\n\n      <MuiPickersUtilsProvider utils={DateFnsUtils}>\n        <DialogDHOC\n          onClose={() => setOpenDialogDhOC(false)}\n          open={openDialogDhOC}\n          referenceType={referenceType}\n        />\n        <DialogElCloud\n          onClose={() => setOpenDialogElCloud(false)}\n          open={openDialogElCloud}\n          referenceType={referenceType}\n        />\n\n        <Box className={css.boxGrid}>\n          <Grid container className={css.gridContainer} spacing={1}>\n            <Grid item xs={6} classes={{ item: css.item }}>\n              <Container fixed disableGutters className={css.containerInfo}>\n                <Container fixed disableGutters className={css.containerInfoScroll}>\n                  <Box p={1}>\n                    <Typography variant=\"body2\" color=\"textSecondary\">\n                      {t('entities.creation.attachment.einetAttachments', {\n                        count: einetAttachments.length,\n                      })}\n                    </Typography>\n                  </Box>\n                  <Box className={css.boxAttachment}>\n                    {einetAttachments\n                      ?.sort((a, b) => (a.id > b.id ? -1 : 1))\n                      .map((n, index) => (\n                        <AttachmentInfo\n                          key={n.id}\n                          attachment={n}\n                          index={index + 1}\n                          size={attachments.length}\n                          handleDelete={removeAttachment}\n                          allClouds={allClouds}\n                        />\n                      ))}\n                  </Box>\n                  <Box p={1}>\n                    <Typography variant=\"body2\" color=\"textSecondary\">\n                      {t('entities.creation.attachment.adhocAttachments', {\n                        count: adhocAttachments.length,\n                      })}\n                    </Typography>\n                  </Box>\n                  <Box className={css.boxAttachment}>\n                    {adhocAttachments\n                      ?.sort((a, b) => (a.id > b.id ? -1 : 1))\n                      .map((n, index) => (\n                        <AttachmentInfo\n                          key={n.id}\n                          attachment={n}\n                          index={index + 1}\n                          size={adhocAttachments.length}\n                          handleDelete={removeAttachment}\n                          allClouds={allClouds}\n                        />\n                      ))}\n                  </Box>\n                </Container>\n              </Container>\n            </Grid>\n            <Grid item xs={6} classes={{ item: css.item }}>\n              <DialogAttachment onClose={handleDialog} open={openDialog} />\n              <Box className={css.boxEmptyActionContainer}>\n                <Box className=\"boxIcon\">\n                  <AttachFileIcon />\n                </Box>\n                <Box>\n                  <Typography variant=\"body1\" color=\"textPrimary\">\n                    {t('entities.creation.attachment.addAttachment')}\n                  </Typography>\n                </Box>\n                <Box>\n                  <Typography variant=\"body1\" color=\"textSecondary\">\n                    <Trans t={t} i18nKey=\"entities.creation.attachment.addAttachmentDescription\">\n                      {[<span key={0} className={css.highlight} />]}\n                    </Trans>\n                  </Typography>\n                </Box>\n                <Box className={css.boxButtonAttachment}>\n                  <Button\n                    size=\"large\"\n                    startIcon={<AddIcon />}\n                    variant=\"contained\"\n                    className={css.buttonAttachment}\n                    onClick={() => setOpenDialog(true)}\n                    disableRipple\n                  >\n                    <Typography variant=\"body2\" color=\"textSecondary\">\n                      {t('entities.creation.attachment.addButton')}\n                    </Typography>\n                  </Button>\n                </Box>\n              </Box>\n            </Grid>\n          </Grid>\n          <Box p={2} border={0} textAlign=\"center\" className={css.boxButtons}>\n            <Button\n              size=\"large\"\n              type=\"button\"\n              onClick={evt => changeTab(evt, 0)}\n              startIcon={<ArrowBackIosIcon />}\n              variant=\"outlined\"\n              disabled\n              disableRipple\n              className={css.button}\n            >\n              <Typography variant=\"body2\" color=\"textSecondary\">\n                {t('entities.creation.buttons.previous')}\n              </Typography>\n            </Button>\n            <Button\n              size=\"large\"\n              onClick={evt => changeTab(evt, 4)}\n              endIcon={<ArrowForwardIosIcon />}\n              variant=\"outlined\"\n              className={css.button}\n              disableRipple\n            >\n              <Typography variant=\"body2\" color=\"textSecondary\">\n                {t('entities.creation.buttons.next')}\n              </Typography>\n            </Button>\n          </Box>\n        </Box>\n      </MuiPickersUtilsProvider>\n    </>\n  );\n};\n\nAttachments.propTypes = {\n  changeTab: PropTypes.func.isRequired,\n};\n\nexport default Attachments;\n","import { getDefaultOptions, request } from 'api/helpers';\n\nconst resource = 'tasks';\n\nexport const apiNotesGet = async (serviceUrl, taskId) => {\n  const url = `${serviceUrl}/${resource}/${taskId}/notes`;\n  const options = {\n    ...getDefaultOptions(),\n    method: 'GET',\n  };\n  return request(url, options);\n};\n\nexport const apiNotesPost = async (serviceUrl, taskId, note) => {\n  const url = `${serviceUrl}/${resource}/${taskId}/notes`;\n  const options = {\n    ...getDefaultOptions(),\n    method: 'POST',\n    body: note ? JSON.stringify(note) : null,\n  };\n  return request(url, options);\n};\n\nexport const apiNotesDelete = async (serviceUrl, noteId) => {\n  const url = `${serviceUrl}/notes/${noteId}`;\n  const options = {\n    ...getDefaultOptions(),\n    method: 'DELETE',\n  };\n  return request(url, options, false);\n};\n","import { useContext } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { apiNotesDelete, apiNotesGet, apiNotesPost } from '../../api/notes';\nimport loadingManager from '../loading/LoadingManager';\nimport MessageManager from '../message/MessageManager';\nimport TaskManager from '../task/TaskManager';\nimport NoteContext from './NoteContext';\n\nconst NoteManager = () => {\n  const [state, setState] = useContext(NoteContext);\n  const { setLoading } = loadingManager();\n  const { t } = useTranslation();\n  const { serviceUrl, useMock } = state;\n  const { task } = TaskManager();\n  const { setError, setMessage } = MessageManager();\n\n  const postNote = async note => {\n    try {\n      setLoading(true);\n      if (useMock) {\n        const response = await new Promise(resolve => setTimeout(() => resolve(note)), 1500);\n        setState(prevState => ({\n          notes: [...prevState.notes, response],\n          message: t('message.noteCreated', { id: 99 }),\n        }));\n        return 99;\n      }\n      const response = await apiNotesPost(serviceUrl, task.id, note.description);\n      if (response.payload.id) {\n        const json = await apiNotesGet(serviceUrl, task.id);\n        const notes = json.payload;\n        notes.forEach(n => console.table(n));\n        setState(prev => ({\n          ...prev,\n          notes,\n          message: t('message.noteCreated', { id: response.payload.id }),\n        }));\n      }\n      setMessage(t('message.noteCreated', { id: response.payload.id }));\n      return response.payload.id;\n    } catch (e) {\n      setState({ ...state, error: t('error.dataLoading'), message: null });\n      setError(t('error.dataLoading'));\n    } finally {\n      setLoading(false);\n    }\n    return null;\n  };\n\n  const deleteNote = async noteId => {\n    try {\n      setLoading(true);\n\n      if (useMock) {\n        const notes = await new Promise(\n          resolve => setTimeout(() => resolve(state.notes.filter(f => f.id !== noteId))),\n          1500\n        );\n        setState(prevState => ({\n          ...prevState,\n          notes,\n          message: t('message.noteDeleted', { id: noteId }),\n        }));\n        setMessage(t('message.noteDeleted', { id: noteId }));\n        return 99;\n      }\n      await apiNotesDelete(serviceUrl, noteId);\n      const json = await apiNotesGet(serviceUrl, task.id);\n      const notes = json.payload;\n      setState(prev => ({\n        ...prev,\n        notes,\n        message: t('message.noteDeleted', { id: noteId }),\n      }));\n      setMessage(t('message.noteDeleted', { id: noteId }));\n      return null;\n    } catch (e) {\n      console.log('error', e);\n      setState({ ...state, error: t('error.dataLoading'), message: null });\n      setError(t('error.dataLoading'));\n    } finally {\n      setLoading(false);\n    }\n    return null;\n  };\n\n  const clearError = () => setState(prev => ({ ...prev, error: null }));\n\n  const clearMessage = () => setState(prev => ({ ...prev, message: null }));\n\n  return {\n    notes: state.notes,\n    postNote,\n    deleteNote,\n    error: state.error,\n    message: state.message,\n    clearError,\n    clearMessage,\n  };\n};\nexport default NoteManager;\n","import { makeStyles } from '@material-ui/styles';\n\nconst dialogNoteStyle = makeStyles(theme => ({\n  dialog: {\n    '& .MuiDialog-paper': {\n      minHeight: 500,\n      position: 'absolute',\n      top: '20%',\n    },\n  },\n\n  dialogTitle: {\n    textAlign: 'left',\n    textTransform: 'capitalize',\n  },\n\n  dialogContent: {\n    overflow: 'hidden',\n    '& .MuiDialogContent-root': {\n      overflow: 'hidden',\n    },\n  },\n\n  boxEditor: {\n    position: 'relative',\n    minHeight: 400,\n    borderRadius: 4,\n    outline: 'none',\n    '& .se-toolbar.sun-editor-common': {\n      border: 1,\n      borderStyle: 'solid',\n      borderColor: '#f6f7f9',\n      position: 'absolute',\n      bottom: -60,\n      width: 200,\n      backgroundColor: '#f6f7f9',\n      borderRadius: 4,\n      outline: 'none',\n      padding: 0,\n    },\n    '& .sun-editor': {\n      borderRadius: 4,\n    },\n    '& .sun-editor .se-container': {\n      borderRadius: 4,\n      outline: 'none',\n    },\n    '& .sun-editor .se-wrapper': {\n      borderRadius: 4,\n    },\n    '& .sun-editor .se-resizing-bar': {\n      borderBottomLeftRadius: 4,\n      borderBottomRightRadius: 4,\n    },\n  },\n\n  closeButton: {\n    position: 'absolute',\n    right: theme.spacing(1),\n    top: theme.spacing(1),\n    color: theme.palette.grey[500],\n  },\n\n  iconButton: {\n    padding: theme.spacing(1),\n  },\n\n  inputMultiline: {\n    paddingTop: 24,\n    paddingBottom: 24,\n    paddingLeft: 14,\n    paddingRight: 14,\n  },\n\n  subHeader: {\n    borderBottom: 1,\n    borderBottomStyle: 'solid',\n    borderBottomColor: theme.palette.action.disabled,\n    borderTop: 1,\n    borderTopStyle: 'solid',\n    borderTopColor: theme.palette.action.disabled,\n  },\n\n  dialogActions: {\n    border: '0 solid red',\n    padding: 0,\n    position: 'relative',\n    top: -90,\n    paddingRight: 10,\n  },\n\n  button: {\n    backgroundColor: '#b68900',\n    color: '#fff',\n    margin: theme.spacing(2),\n    textTransform: 'none',\n    minHeight: '50px',\n    minWidth: '150px',\n    '&:disabled': {\n      backgroundColor: '#e0e3e8',\n    },\n    '&:hover': {\n      backgroundColor: '#b68900',\n    },\n  },\n\n  buttonClose: {\n    backgroundColor: '#b68900',\n    color: '#fff',\n    margin: theme.spacing(2),\n    textTransform: 'none',\n    minHeight: '50px',\n    minWidth: '150px',\n    '&:disabled': {\n      backgroundColor: '#e0e3e8',\n    },\n    '&:hover': {\n      backgroundColor: '#b68900',\n    },\n  },\n}));\n\nexport default dialogNoteStyle;\n","import {\n  Box,\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  IconButton,\n  Paper,\n} from '@material-ui/core';\nimport { useTheme } from '@material-ui/core/styles';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport CloseIcon from '@material-ui/icons/Close';\nimport PropTypes from 'prop-types';\nimport React, { useRef, useState } from 'react';\nimport Draggable from 'react-draggable';\nimport { useTranslation } from 'react-i18next';\nimport SunEditor from 'suneditor-react';\nimport dialogUserStyle from './style/dialogNoteStyle';\n\nconst PaperComponent = props => (\n  <Draggable handle=\"#draggable-dialog-users\" cancel={'[class*=\"MuiDialogContent-root\"]'}>\n    {/* eslint-disable-next-line react/jsx-props-no-spreading */}\n    <Paper {...props} />\n  </Draggable>\n);\n\nconst OPTIONS = {\n  mode: 'classic',\n  defaultTag: 'div',\n  height: 'auto',\n  minHeight: '100px',\n  maxHeight: '250px',\n  showPathLabel: false,\n  toolbarContainer: '#custom_toolbar',\n  rtl: false,\n  charCounter: true,\n  charCounterType: 'char',\n  maxCharCount: '500',\n  imageResizing: false,\n  imageHeightShow: false,\n  imageFileInput: false,\n  imageUrlInput: false,\n  videoResizing: false,\n  videoHeightShow: false,\n  videoFileInput: false,\n  videoUrlInput: false,\n  videoRatioShow: false,\n  audioUrlInput: false,\n  tabDisable: false,\n  shortcutsHint: false,\n  buttonList: [['bold', 'underline', 'italic', 'align', 'link']],\n};\n\nconst DialogNote = ({ open, handleClose, handleAddNote }) => {\n  const { t } = useTranslation();\n  const theme = useTheme();\n  // eslint-disable-next-line no-unused-vars\n  const fullScreen = useMediaQuery(theme.breakpoints.down('sm'));\n  const css = dialogUserStyle();\n  const editorRef = useRef(null);\n  const [note, setNote] = useState('');\n\n  const handleChange = content => {\n    // eslint-disable-next-line no-control-regex\n    setNote(content.replace(/[\\u200B\\u0000-\\u001F\\u007F-\\u009F]/g, ''));\n  };\n\n  const onClickPublish = () => {\n    if (handleAddNote) {\n      const newNote = note.replaceAll('<p>', '<div>').replaceAll('</p>', '</div>');\n      // eslint-disable-next-line no-control-regex\n      handleAddNote(newNote.replace(/[\\u200B\\u0000-\\u001F\\u007F-\\u009F]/g, ''));\n    }\n    handleClose();\n  };\n\n  return (\n    <Dialog\n      fullWidth\n      maxWidth=\"md\"\n      open={open}\n      onClose={() => handleClose()}\n      PaperComponent={PaperComponent}\n      disableEnforceFocus\n      aria-labelledby=\"form-dialog-title\"\n      className={css.dialog}\n    >\n      <DialogTitle className={css.dialogTitle} id=\"form-dialog-title\" onClose={() => handleClose()}>\n        <div>{t('entities.creation.dialog.note.title')}</div>\n        <IconButton aria-label=\"close\" className={css.closeButton} onClick={() => handleClose()}>\n          <CloseIcon />\n        </IconButton>\n      </DialogTitle>\n      <DialogContent className={css.dialogContent}>\n        <Box className={css.boxEditor}>\n          <SunEditor\n            height={400}\n            name=\"nota\"\n            ref={editorRef}\n            placeholder={t('entities.creation.dialog.note.placeholder')}\n            lang=\"it\"\n            autoFocus\n            setOptions={OPTIONS}\n            onChange={handleChange}\n          />\n        </Box>\n      </DialogContent>\n      <DialogActions className={css.dialogActions}>\n        <Button onClick={onClickPublish} className={css.button}>\n          {t('entities.creation.dialog.note.buttonPublish')}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nDialogNote.propTypes = {\n  open: PropTypes.bool.isRequired,\n  handleClose: PropTypes.func.isRequired,\n  handleAddNote: PropTypes.func.isRequired,\n};\n\nexport default DialogNote;\n","import { makeStyles } from '@material-ui/styles';\n\nconst noteInfoStyle = makeStyles(theme => ({\n  boxNoteInfoContainer: {\n    border: '0 solid red',\n  },\n  boxNoteInfoAction: {\n    display: 'flex',\n    flexDirection: 'row',\n    flexWrap: 'nowrap',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    color: theme.palette.action.disabled,\n  },\n  boxNoteInfoText: {\n    border: 1,\n    borderStyle: 'solid',\n    borderColor: theme.palette.action.disabled,\n    borderRadius: 4,\n    padding: theme.spacing(1),\n  },\n  boxNoteInfoUser: {\n    display: 'flex',\n    flexDirection: 'row',\n    flexWrap: 'nowrap',\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    alignContent: 'flex-start',\n  },\n}));\nexport default noteInfoStyle;\n","import { Avatar, Box, IconButton, Typography } from '@material-ui/core';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport { differenceInSeconds, format } from 'date-fns';\nimport { it } from 'date-fns/locale';\nimport Interweave from 'interweave';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport noteInfoStyle from './style/noteInfoStyle';\n\nconst NoteInfo = ({ note, index, size, handleDelete }) => {\n  const { t } = useTranslation();\n  const css = noteInfoStyle();\n  const { id, createdDate, createdBy } = note;\n\n  return (\n    <Box className={css.boxNoteInfoContainer}>\n      <Box className={css.boxNoteInfoAction}>\n        <Typography variant=\"body1\">{t('entities.creation.note.info', { index, size })}</Typography>\n        <IconButton aria-label=\"delete\" onClick={() => handleDelete(id)} disableRipple>\n          <DeleteIcon />\n        </IconButton>\n      </Box>\n      <Box className={css.boxNoteInfoText}>\n        <Typography variant=\"body2\" component=\"div\">\n          <Interweave content={note.description} />\n        </Typography>\n      </Box>\n      <Box className={css.boxNoteInfoUser}>\n        <Box p={1} marginRight={2}>\n          <Avatar alt={createdBy} />\n        </Box>\n        <Box>\n          <Typography variant=\"caption\" color=\"textSecondary\">\n            {differenceInSeconds(new Date(), new Date(createdDate)) < 60\n              ? t('entities.creation.note.now')\n              : format(new Date(createdDate), 'dd MMMM yyyy: kk:mm:ss', { locale: it })}\n          </Typography>\n          <Typography variant=\"body2\" color=\"textPrimary\">\n            {createdBy}\n          </Typography>\n        </Box>\n      </Box>\n    </Box>\n  );\n};\n\nNoteInfo.propTypes = {\n  note: PropTypes.shape({\n    id: PropTypes.number,\n    createdDate: PropTypes.string,\n    createdBy: PropTypes.string,\n    description: PropTypes.string,\n  }).isRequired,\n  index: PropTypes.number.isRequired,\n  size: PropTypes.number.isRequired,\n  handleDelete: PropTypes.func.isRequired,\n};\nexport default NoteInfo;\n","import { makeStyles } from '@material-ui/styles';\n\nconst noteStyle = makeStyles(theme => ({\n  boxGrid: {\n    border: 0,\n    borderStyle: 'solid',\n    borderColor: theme.palette.action.disabled,\n    minHeight: '800px',\n    position: 'relative',\n    padding: theme.spacing(0.5),\n  },\n\n  item: {\n    border: '0 solid black',\n    height: '726px',\n  },\n\n  boxNote: {\n    border: '0 solid black',\n    padding: theme.spacing(1),\n  },\n\n  boxEmptyActionContainer: {\n    border: '0 solid red',\n    padding: theme.spacing(4),\n    marginTop: theme.spacing(10),\n    textAlign: 'center',\n    '& .boxIcon': {\n      '& .MuiSvgIcon-root': {\n        fontSize: '3rem',\n        color: '#aeb6c2',\n      },\n    },\n  },\n\n  gridContainer: {\n    border: '0 solid red',\n  },\n\n  inputInfo: {\n    border: '0 solid red',\n  },\n\n  borderBox: {\n    border: '1px solid',\n    borderColor: theme.palette.action.disabled,\n    borderRadius: 4,\n    minHeight: '50px',\n\n    '&.error': {\n      borderColor: theme.palette.error.main,\n    },\n  },\n\n  boxContainer: {\n    border: '0 solid red',\n  },\n\n  containerInfo: {\n    height: '634px',\n    border: 0,\n    borderColor: 'green',\n    borderStyle: 'solid',\n    overflow: 'hidden',\n    paddingRight: theme.spacing(0.5),\n  },\n\n  containerInfoScroll: {\n    border: 0,\n    borderColor: 'blue',\n    borderStyle: 'solid',\n    height: '100%',\n    overflowY: 'scroll',\n    overflowX: 'hidden',\n    boxSizing: 'content-box',\n    '&::-webkit-scrollbar': {\n      width: 5,\n    },\n    '&::-webkit-scrollbar-track': {\n      background: '#f9fafb',\n      borderRadius: '4px',\n    },\n    '&::-webkit-scrollbar-thumb': {\n      background: '#e0e3e8',\n      borderRadius: '4px',\n    },\n    '&::-webkit-scrollbar-thumb:hover': {\n      background: '#555',\n    },\n  },\n\n  boxAdd: {\n    marginRight: theme.spacing(2),\n    border: 0,\n    borderRadius: '50%',\n    borderColor: theme.palette.action.disabled,\n    borderStyle: 'solid',\n    backgroundColor: '#eeeff3',\n    width: '40px',\n    height: '40px',\n    position: 'relative',\n  },\n\n  iconAdd: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%,-50%)',\n    color: '#586473',\n  },\n\n  boxButtons: {\n    border: '0 solid black',\n    margin: 0,\n    bottom: 0,\n  },\n\n  boxButtonNote: {\n    cursor: 'not-allowed',\n  },\n\n  buttonNote: {\n    width: '100%',\n    marginTop: theme.spacing(2),\n    height: '50px',\n    textTransform: 'none',\n  },\n\n  button: {\n    marginRight: theme.spacing(4),\n    marginLeft: theme.spacing(4),\n    height: '45px',\n  },\n\n  buttonPublish: {\n    color: '#fff',\n    backgroundColor: '#b68902',\n    borderColor: '#b68902',\n    '&:hover': {\n      backgroundColor: '#b68902',\n    },\n  },\n\n  highlight: {\n    color: '#efb868',\n    fontWeight: 600,\n  },\n}));\n\nexport default noteStyle;\n","import DateFnsUtils from '@date-io/date-fns';\nimport { Box, Button, Container, Grid, Typography } from '@material-ui/core';\nimport AddIcon from '@material-ui/icons/Add';\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\nimport MessageIcon from '@material-ui/icons/Message';\nimport { MuiPickersUtilsProvider } from '@material-ui/pickers';\nimport PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport { Trans, useTranslation } from 'react-i18next';\nimport NoteManager from '../../../context/note/NoteManager';\nimport TaskManager from '../../../context/task/TaskManager';\nimport UserManager from '../../../context/user/UserManager';\nimport DialogNote from '../../Dialog/Note/DialogNote';\nimport NoteInfo from './NoteInfo';\nimport noteStyle from './style/noteStyle';\n\nconst Note = ({ changeTab, callback }) => {\n  const { t } = useTranslation();\n  const [openDialog, setOpenDialog] = useState(false);\n  const css = noteStyle();\n  const { logged, users } = UserManager();\n  const { task } = TaskManager();\n  const { postNote, deleteNote, notes } = NoteManager();\n\n  const handleDialogNote = () => {\n    setOpenDialog(prev => !prev);\n  };\n\n  const addNote = note => {\n    const payload = {\n      id: notes.length + 1,\n      createdDate: '2020-12-16T09:49:05.331Z',\n      createdBy: `${users[logged]?.firstname} ${users[logged]?.lastname}`,\n      description: note,\n    };\n\n    postNote(payload);\n  };\n\n  const removeNote = id => {\n    deleteNote(id);\n  };\n\n  const handleClick = () => {\n    if (callback) {\n      callback(task.id);\n    }\n  };\n\n  return (\n    <MuiPickersUtilsProvider utils={DateFnsUtils}>\n      <DialogNote\n        open={openDialog}\n        handleClose={handleDialogNote}\n        handleAddNote={note => addNote(note)}\n      />\n\n      <Box className={css.boxGrid}>\n        <Grid container className={css.gridContainer} spacing={1}>\n          <Grid item xs={6} classes={{ item: css.item }}>\n            <Container fixed disableGutters className={css.containerInfo}>\n              <Container fixed disableGutters className={css.containerInfoScroll}>\n                <Box className={css.boxNote}>\n                  {notes\n                    .sort((a, b) => (a.id > b.id ? -1 : 1))\n                    .map((n, index) => (\n                      <NoteInfo\n                        key={n.id}\n                        note={n}\n                        index={index + 1}\n                        size={notes.length}\n                        handleDelete={removeNote}\n                      />\n                    ))}\n                </Box>\n              </Container>\n            </Container>\n          </Grid>\n          <Grid item xs={6} classes={{ item: css.item }}>\n            <Box className={css.boxEmptyActionContainer}>\n              <Box className=\"boxIcon\">\n                <MessageIcon />\n              </Box>\n              <Box>\n                <Typography variant=\"body1\" color=\"textPrimary\">\n                  {t('entities.creation.note.addNote')}\n                </Typography>\n              </Box>\n              <Box>\n                <Typography variant=\"body1\" color=\"textSecondary\">\n                  <Trans t={t} i18nKey=\"entities.creation.note.addNoteDescription\">\n                    {[<span key={0} className={css.highlight} />]}\n                  </Trans>\n                </Typography>\n              </Box>\n              <Box className={css.boxButtonNote}>\n                <Button\n                  size=\"large\"\n                  startIcon={<AddIcon />}\n                  variant=\"contained\"\n                  className={css.buttonNote}\n                  onClick={handleDialogNote}\n                  disableRipple\n                >\n                  <Typography variant=\"body2\" color=\"textSecondary\">\n                    {t('entities.creation.note.addButton')}\n                  </Typography>\n                </Button>\n              </Box>\n            </Box>\n          </Grid>\n        </Grid>\n        <Box p={2} border={0} textAlign=\"center\" className={css.boxButtons}>\n          <Button\n            size=\"large\"\n            type=\"button\"\n            onClick={evt => changeTab(evt, 3)}\n            startIcon={<ArrowBackIosIcon />}\n            variant=\"outlined\"\n            disabled\n            className={css.button}\n            disableRipple\n          >\n            <Typography variant=\"body2\" color=\"textSecondary\">\n              {t('entities.creation.buttons.previous')}\n            </Typography>\n          </Button>\n          <Button\n            size=\"large\"\n            onClick={handleClick}\n            variant=\"outlined\"\n            className={`${css.button} ${css.buttonPublish}`}\n            disableRipple\n          >\n            <Typography variant=\"body2\">{t('entities.creation.buttons.publish')}</Typography>\n          </Button>\n        </Box>\n      </Box>\n    </MuiPickersUtilsProvider>\n  );\n};\n\nNote.propTypes = {\n  changeTab: PropTypes.func.isRequired,\n  callback: PropTypes.func,\n};\n\nNote.defaultProps = {\n  callback: () => {},\n};\n\nexport default Note;\n","import { makeStyles } from '@material-ui/styles';\n\nconst setupStyle = makeStyles(theme => ({\n  boxGrid: {\n    border: 0,\n    borderStyle: 'solid',\n    borderColor: theme.palette.action.disabled,\n  },\n\n  formControl: {\n    margin: theme.spacing(1),\n    backgroundColor: '#ffffff',\n    '& div': {\n      height: '40px',\n      border: 1,\n      borderStyle: 'solid',\n      borderColor: theme.palette.action.disabled,\n    },\n    '& select': {\n      paddingRight: [24, '!important'],\n      color: theme.palette.text.disabled,\n    },\n    '& select option': {\n      color: theme.palette.text.primary,\n    },\n    '& select option:first-child': {\n      color: theme.palette.text.disabled,\n    },\n    '& select:focus': {\n      backgroundColor: 'transparent',\n    },\n    '& fieldset': {\n      border: 0,\n    },\n  },\n\n  selectEmpty: {\n    marginTop: theme.spacing(2),\n  },\n\n  button: {\n    textTransform: 'none',\n    color: theme.palette.text.secondary,\n    height: '45px',\n  },\n}));\n\nexport default setupStyle;\n","import { Box, Button, Typography } from '@material-ui/core';\nimport ArrowForwardIosIcon from '@material-ui/icons/ArrowForwardIos';\nimport PropTypes from 'prop-types';\nimport React, { useEffect, useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { useTranslation } from 'react-i18next';\nimport { get } from 'lodash';\nimport { mockProcessModel } from '../../__mocks__/mocks';\nimport InputSelect from '../../Input/InputSelect';\nimport setupStyle from './style/setupStyle';\n\n// eslint-disable-next-line no-unused-vars\nconst Setup = ({ store, onSubmit, useMock }) => {\n  const [process, setProcess] = useState([]);\n  const { t } = useTranslation();\n  const { register, handleSubmit, errors, setValue, formState } = useForm({\n    mode: 'all',\n  });\n  const css = setupStyle();\n  const { processDefinitionId } = store;\n\n  useEffect(() => {\n    if (processDefinitionId) {\n      setValue('processDefinitionId', processDefinitionId);\n    }\n  }, [setValue, processDefinitionId]);\n\n  useEffect(() => {\n    if (useMock) {\n      setProcess(mockProcessModel);\n    }\n  }, [useMock]);\n\n  return (\n    <form onSubmit={handleSubmit(onSubmit)}>\n      <input type=\"hidden\" name=\"step\" defaultValue={1} ref={register} />\n      <input type=\"hidden\" name=\"target\" defaultValue=\"task\" ref={register} />\n      <Box className={css.boxGrid}>\n        <Box border={0} width={1} my={20}>\n          <Box border={0} py={2} width=\"50%\" mx=\"auto\">\n            <Box p={4} border={0}>\n              <Typography variant=\"subtitle2\" color=\"textPrimary\">\n                {t('entities.creation.setup.title')}\n              </Typography>\n            </Box>\n            <Box p={2}>\n              <Box px={2} border={0}>\n                <Typography variant=\"body2\" color=\"textSecondary\">\n                  {t('entities.creation.setup.processModel')}\n                </Typography>\n              </Box>\n              <Box>\n                <InputSelect\n                  register={register({\n                    required: {\n                      value: true,\n                      message: t('validation.required'),\n                    },\n                  })}\n                  name=\"processDefinitionId\"\n                  initialValue={get(store, 'processDefinitionId', '')}\n                  emptyOption={t('entities.creation.setup.processModelPlaceholder')}\n                  options={process}\n                  errors={errors}\n                />\n              </Box>\n            </Box>\n          </Box>\n        </Box>\n        <Box borderTop={1} width={1} borderColor=\"rgba(0, 0, 0, 0.12)\">\n          <Box border={0} py={2} paddingRight=\"32px\" width=\"50%\" mx=\"auto\" textAlign=\"right\">\n            <Button\n              size=\"large\"\n              type=\"submit\"\n              endIcon={<ArrowForwardIosIcon />}\n              variant=\"outlined\"\n              className={css.button}\n              disabled={formState.isSubmitting}\n              disableRipple\n            >\n              <Typography variant=\"body2\" color=\"textSecondary\">\n                {t('entities.creation.buttons.next')}\n              </Typography>\n            </Button>\n          </Box>\n        </Box>\n      </Box>\n    </form>\n  );\n};\n\nSetup.propTypes = {\n  store: PropTypes.shape({\n    processDefinitionId: PropTypes.string,\n  }).isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  useMock: PropTypes.bool,\n};\n\nSetup.defaultProps = {\n  useMock: false,\n};\n\nexport default Setup;\n","import { makeStyles } from '@material-ui/styles';\n\nconst taskDefinitionStyle = makeStyles(theme => ({\n  boxGrid: {\n    border: 0,\n    borderStyle: 'solid',\n    borderColor: theme.palette.action.disabled,\n    minHeight: '800px',\n    position: 'relative',\n    padding: [[theme.spacing(0.5), theme.spacing(1)]],\n  },\n\n  item: {\n    height: '726px',\n  },\n\n  itemContainer: {\n    minHeight: '500px',\n  },\n\n  containerRole: {\n    border: '0 solid black',\n  },\n\n  gridContainer: {\n    border: '0px solid red',\n  },\n\n  inputInfo: {\n    border: '0 solid red',\n  },\n\n  borderBox: {\n    border: '1px solid',\n    borderColor: theme.palette.action.disabled,\n    borderRadius: 4,\n    minHeight: '50px',\n\n    '&.error': {\n      borderColor: theme.palette.error.main,\n    },\n  },\n\n  boxContainer: {\n    border: '0 solid black',\n    marginBottom: theme.spacing(2),\n  },\n\n  boxAdd: {\n    marginRight: theme.spacing(2),\n    border: 0,\n    borderRadius: '50%',\n    borderColor: theme.palette.action.disabled,\n    borderStyle: 'solid',\n    backgroundColor: '#eeeff3',\n    width: '40px',\n    height: '40px',\n    position: 'relative',\n  },\n\n  iconAdd: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%,-50%)',\n    color: '#586473',\n  },\n\n  boxButtons: {\n    border: '0 solid black',\n    margin: 0,\n    bottom: 0,\n  },\n\n  button: {\n    marginRight: theme.spacing(4),\n    marginLeft: theme.spacing(4),\n    height: '45px',\n  },\n\n  avatar: {\n    width: theme.spacing(7),\n    height: theme.spacing(7),\n  },\n\n  inputMultiline: {\n    paddingTop: 24,\n    paddingBottom: 24,\n    paddingLeft: 14,\n    paddingRight: 14,\n  },\n}));\n\nexport default taskDefinitionStyle;\n","import DateFnsUtils from '@date-io/date-fns';\nimport { Avatar, Box, Button, Grid, IconButton, Typography } from '@material-ui/core';\nimport AddIcon from '@material-ui/icons/Add';\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\nimport ArrowForwardIosIcon from '@material-ui/icons/ArrowForwardIos';\nimport CreateIcon from '@material-ui/icons/Create';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport { MuiPickersUtilsProvider } from '@material-ui/pickers';\nimport { add } from 'date-fns';\nimport itLocale from 'date-fns/locale/it';\nimport { get } from 'lodash';\nimport PropTypes from 'prop-types';\nimport React, { useEffect, useMemo, useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { useTranslation } from 'react-i18next';\nimport userManager from '../../../context/user/UserManager';\nimport DialogUsers from '../../Dialog/Users/DialogUsers';\nimport InputDatePicker from '../../Input/InputDataPicker';\nimport InputInfo from '../../Input/InputInfo';\nimport InputSelect from '../../Input/InputSelect';\nimport InputText from '../../Input/InputText';\n\nimport taskDefinitionStyle from './style/taskDefinitionStyle';\n\nconst ROLES = ['responsible', 'accountable', 'consulted', 'informed'];\n\nconst TaskDefinition = ({ onSubmit, changeTab, store }) => {\n  const { t } = useTranslation();\n  const {\n    register,\n    unregister,\n    handleSubmit,\n    errors,\n    watch,\n    control,\n    setValue,\n    clearErrors,\n  } = useForm({\n    mode: 'all',\n    reValidateMode: 'onChange',\n  });\n  const css = taskDefinitionStyle();\n\n  const { users, fetchUser } = userManager();\n\n  const optionsPriority = useMemo(() => [\n    { id: 'low', value: t('entities.creation.taskDefinition.low') },\n    { id: 'medium', value: t('entities.creation.taskDefinition.medium') },\n    { id: 'high', value: t('entities.creation.taskDefinition.high') },\n  ]);\n  const [openDialog, setOpenDialog] = useState(false);\n  const [roleUser, setRoleUser] = useState(null);\n  const [usersSelected, setUsersSelected] = useState();\n\n  useEffect(() => {\n    ROLES.forEach(role => {\n      register({ name: role }, { required: role === 'responsible' });\n    });\n    return () => {\n      ROLES.forEach(role => unregister(role));\n    };\n  }, [register]);\n\n  const handleDialogUsers = role => {\n    if (role) {\n      setRoleUser(role);\n    }\n    setOpenDialog(prev => !prev);\n  };\n\n  const handleRemoveUser = role => {\n    setValue(role, undefined);\n    setRoleUser(role);\n    const newState = { ...usersSelected };\n    delete newState[role];\n    setUsersSelected(newState);\n  };\n\n  const handleUserSelected = user => {\n    setUsersSelected(prevState => {\n      return { ...prevState, [roleUser]: { ...user, selected: true } };\n    });\n    setValue(roleUser, user.fiscalCode.toUpperCase());\n    clearErrors(roleUser);\n  };\n\n  const getPercentageOptions = () => {\n    return Array.from(Array(101).keys()).map(element => {\n      return { id: element, value: element };\n    });\n  };\n\n  useEffect(() => {\n    fetchUser();\n  }, []);\n\n  useEffect(() => {\n    if (store) {\n      const newUsers = ROLES.filter(role => store[role]).reduce((acc, role) => {\n        setRoleUser(role);\n        setValue(role, store[role]);\n        acc[role] = { id: store[role], selected: true, ...users[store[role]] };\n        return acc;\n      }, {});\n      setUsersSelected(prevState => ({ ...prevState, ...newUsers }));\n    }\n  }, [store]);\n\n  useEffect(() => {\n    if (watch('startDate')) {\n      const endDate = add(watch('startDate'), { days: 15 });\n      setValue('endDate', endDate);\n    }\n  }, [watch('startDate')]);\n\n  return (\n    <MuiPickersUtilsProvider utils={DateFnsUtils} locale={itLocale}>\n      <form onSubmit={handleSubmit(onSubmit)}>\n        {openDialog ? (\n          <DialogUsers\n            open={openDialog}\n            handleClose={handleDialogUsers}\n            handleUserSelected={handleUserSelected}\n            usersSelected={usersSelected}\n            role={roleUser}\n          />\n        ) : null}\n\n        <input type=\"hidden\" name=\"step\" defaultValue={2} ref={register} />\n        <input type=\"hidden\" name=\"target\" defaultValue=\"actions\" ref={register} />\n\n        <Box className={css.boxGrid}>\n          <Grid container className={css.gridContainer} spacing={1}>\n            <Grid item xs={6} classes={{ item: css.item }}>\n              <Grid container>\n                <Grid item xs={12} className={css.boxContainer}>\n                  <InputInfo title={t('entities.creation.taskDefinition.task')}>\n                    <InputText\n                      name=\"title\"\n                      placeholder={t('entities.creation.taskDefinition.taskPlaceholder')}\n                      unregister={unregister}\n                      register={register({\n                        required: {\n                          value: true,\n                          message: t('validation.required'),\n                        },\n                        maxLength: {\n                          value: 125,\n                          message: t('validation.maxLenght', { maxLength: 125 }),\n                        },\n                      })}\n                      watch={watch}\n                      setValue={setValue}\n                      errors={errors}\n                      showCountCaracthers\n                      countCaracthers={125}\n                      initialValue={get(store, 'title')}\n                    />\n                  </InputInfo>\n                </Grid>\n                <Grid item xs={12} className={css.boxContainer}>\n                  <Box\n                    display=\"flex\"\n                    flexDirection=\"row\"\n                    flexWrap=\"nowrap\"\n                    justifyContent=\"space-between\"\n                    alignItems=\"center\"\n                    alignContent=\"flex-start\"\n                  >\n                    <Box paddingRight={1}>\n                      <InputInfo title={t('entities.creation.taskDefinition.startDate')}>\n                        <Box border={0}>\n                          <InputDatePicker\n                            control={control}\n                            name=\"startDate\"\n                            setValue={setValue}\n                            format=\"dd MMMM yyyy\"\n                            rules={{\n                              required: {\n                                value: true,\n                                message: t('validation.required'),\n                              },\n                            }}\n                            errors={errors}\n                            initialValue={get(store, 'startDate')}\n                          />\n                        </Box>\n                      </InputInfo>\n                    </Box>\n                    <Box>\n                      <InputInfo title={t('entities.creation.taskDefinition.endDate')}>\n                        <Box border={0}>\n                          <InputDatePicker\n                            control={control}\n                            name=\"endDate\"\n                            setValue={setValue}\n                            format=\"dd MMMM yyyy\"\n                            rules={{\n                              required: {\n                                value: true,\n                                message: t('validation.required'),\n                              },\n                            }}\n                            errors={errors}\n                            initialValue={get(store, 'endDate')}\n                            minDate={add(watch('startDate'), { days: 1 })}\n                          />\n                        </Box>\n                      </InputInfo>\n                    </Box>\n                  </Box>\n                </Grid>\n                <Grid item xs={12} className={css.boxContainer}>\n                  <InputInfo title={t('entities.creation.taskDefinition.priority')}>\n                    <InputSelect\n                      register={register({\n                        required: {\n                          value: true,\n                          message: t('validation.required'),\n                        },\n                      })}\n                      emptyOption={t('entities.creation.taskDefinition.priorityPlaceholder')}\n                      name=\"priority\"\n                      options={optionsPriority}\n                      errors={errors}\n                      initialValue={get(store, 'priority')}\n                    />\n                  </InputInfo>\n                </Grid>\n                <Grid item xs={12} className={css.boxContainer}>\n                  <InputInfo title={t('entities.creation.taskDefinition.description')}>\n                    <InputText\n                      name=\"description\"\n                      placeholder={t('entities.creation.taskDefinition.descriptionPlaceholder')}\n                      register={register({\n                        required: {\n                          value: true,\n                          message: t('validation.required'),\n                        },\n                        maxLength: {\n                          value: 500,\n                          message: t('validation.maxLength', { maxLength: 500 }),\n                        },\n                      })}\n                      watch={watch}\n                      setValue={setValue}\n                      errors={errors}\n                      multiline\n                      rows={6}\n                      rowsMax={20}\n                      showCountCaracthers\n                      countCaracthers={500}\n                      initialValue={get(store, 'description')}\n                      cssClass={css.inputMultiline}\n                    />\n                  </InputInfo>\n                </Grid>\n                <Grid item xs={12} className={css.boxContainer}>\n                  <InputInfo title={t('entities.creation.taskDefinition.completionPercentage')}>\n                    <InputSelect\n                      register={register()}\n                      watch={watch}\n                      setValue={setValue}\n                      name=\"completionPercentage\"\n                      emptyOption=\"0\"\n                      errors={errors}\n                      options={getPercentageOptions()}\n                    />\n                  </InputInfo>\n                </Grid>\n              </Grid>\n            </Grid>\n            <Grid item xs={6} classes={{ item: css.item }}>\n              <Grid container>\n                {ROLES.map(role => (\n                  <Grid key={role} item xs={12} className={css.boxContainer}>\n                    <InputInfo title={t(`entities.creation.taskDefinition.${role}`)}>\n                      <Box\n                        className={`${css.borderBox} ${errors[role] ? 'error' : ''}`}\n                        textAlign=\"left\"\n                        p={2}\n                        display=\"flex\"\n                        flexDirection=\"row\"\n                        flexWrap=\"nowrap\"\n                        justifyContent=\"flex-start\"\n                        alignContent=\"flex-start\"\n                        alignItems=\"center\"\n                      >\n                        <Box marginRight={2}>\n                          {!watch(role) ? (\n                            <IconButton\n                              fontSize=\"large\"\n                              className={css.boxAdd}\n                              onClick={() => handleDialogUsers(role)}\n                            >\n                              <AddIcon className={css.iconAdd} />\n                            </IconButton>\n                          ) : (\n                            <Avatar\n                              className={css.avatar}\n                              alt={usersSelected[role]?.name}\n                              src={usersSelected[role]?.image || ''}\n                            />\n                          )}\n                        </Box>\n                        <Box flexGrow={1}>\n                          {!watch(role) ? null : (\n                            <Typography variant=\"body1\" color=\"textPrimary\">\n                              {`${usersSelected[role]?.firstname} ${usersSelected[role]?.lastname}`}\n                            </Typography>\n                          )}\n                          <Typography variant=\"body2\" color=\"textSecondary\">\n                            {!watch(role)\n                              ? t('entities.creation.taskDefinition.assignRole')\n                              : usersSelected[role]?.role}\n                          </Typography>\n                        </Box>\n                        {watch(role) ? (\n                          <Box>\n                            <IconButton fontSize=\"large\" onClick={() => handleDialogUsers(role)}>\n                              <CreateIcon className={css.iconAdd} />\n                            </IconButton>\n                            {role !== 'responsible' ? (\n                              <IconButton fontSize=\"large\" onClick={() => handleRemoveUser(role)}>\n                                <DeleteIcon className={css.iconAdd} />\n                              </IconButton>\n                            ) : null}\n                          </Box>\n                        ) : null}\n                      </Box>\n                      {errors[role] ? (\n                        <Box marginTop=\"3px\" marginLeft=\"14px\">\n                          <Typography variant=\"caption\" color=\"error\" align=\"left\">\n                            {t('validation.required')}\n                          </Typography>\n                        </Box>\n                      ) : null}\n                    </InputInfo>\n                  </Grid>\n                ))}\n              </Grid>\n            </Grid>\n          </Grid>\n          <Box p={2} border={0} textAlign=\"center\" className={css.boxButtons}>\n            <Button\n              size=\"large\"\n              type=\"button\"\n              onClick={evt => changeTab(evt, 0)}\n              startIcon={<ArrowBackIosIcon />}\n              variant=\"outlined\"\n              className={css.button}\n              disableRipple\n            >\n              <Typography variant=\"body2\" color=\"textSecondary\">\n                {t('entities.creation.buttons.previous')}\n              </Typography>\n            </Button>\n            <Button\n              size=\"large\"\n              type=\"submit\"\n              endIcon={<ArrowForwardIosIcon />}\n              variant=\"outlined\"\n              className={css.button}\n              disableRipple\n            >\n              <Typography variant=\"body2\" color=\"textSecondary\">\n                {t('entities.creation.buttons.next')}\n              </Typography>\n            </Button>\n          </Box>\n        </Box>\n      </form>\n    </MuiPickersUtilsProvider>\n  );\n};\n\nTaskDefinition.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n  changeTab: PropTypes.func.isRequired,\n  store: PropTypes.shape({\n    responsible: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    accountable: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    consulted: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    informed: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  }).isRequired,\n};\n\nexport default TaskDefinition;\n","import { Box, Container, Paper, Slide, Tab, Tabs } from '@material-ui/core';\n\nimport { omit } from 'lodash';\nimport { SnackbarProvider } from 'notistack';\nimport PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { AuthenticatedView } from '../../auth/KeycloakViews';\nimport AttachmentProvider from '../../context/attachment/AttachmentProvider';\nimport LoadingManager from '../../context/loading/LoadingManager';\nimport MessageManager from '../../context/message/MessageManager';\nimport NoteProvider from '../../context/note/NoteProvider';\nimport TaskManager from '../../context/task/TaskManager';\nimport NotificationContainer from '../common/NotificationContainer';\nimport Spinner from '../Spinner/Spinner';\nimport { containerStyle, tabsStyle, tabStyle } from './style/taskCreationPageStyle';\nimport Actions from './Tabs/Actions';\nimport Attachments from './Tabs/Attachments';\nimport Note from './Tabs/Note';\nimport Setup from './Tabs/Setup';\nimport TaskDefinition from './Tabs/TaskDefinition';\n\nconst a11yProps = index => ({\n  id: `simple-tab-${index}`,\n  'aria-controls': `simple-tabpanel-${index}`,\n});\n\nconst TaskCreationPage = ({ keycloak, serviceUrl, serviceUrlAttachments, useMock, callback }) => {\n  const [tab, setTab] = useState(0);\n  const { t } = useTranslation();\n  const { task, createTask, updateTask } = TaskManager();\n  const { error, message, clearError, clearMessage } = MessageManager();\n\n  const classesContainer = containerStyle();\n  const classesTab = tabStyle();\n  const classesTabs = tabsStyle();\n\n  const changeTab = (event, value) => {\n    setTab(value);\n  };\n\n  const onSubmit = async (formData, event) => {\n    if (event) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n    const { target, action } = formData;\n    const data = omit(formData, 'step', 'target', 'action');\n    updateTask(data);\n    if (action === 'submit') {\n      switch (target) {\n        case 'task': {\n          const payload = { ...task, actions: formData.actions };\n          payload.accountable = payload.accountable || null;\n          payload.consulted = payload.consulted || null;\n          payload.informed = payload.informed || null;\n          const json = await createTask(payload);\n          if (json) {\n            setTab(parseInt(formData.step, 10));\n          }\n          break;\n        }\n        case 'note': {\n          setTab(parseInt(formData.step, 10));\n          break;\n        }\n        default:\n          break;\n      }\n    } else {\n      setTab(parseInt(formData.step, 10));\n    }\n  };\n\n  const { isLoading } = LoadingManager();\n\n  return (\n    <AuthenticatedView keycloak={keycloak}>\n      <SnackbarProvider\n        maxSnack={10}\n        anchorOrigin={{\n          vertical: 'top',\n          horizontal: 'center',\n        }}\n        TransitionComponent={Slide}\n      >\n        <NotificationContainer message={message} callback={clearMessage} status=\"success\" />\n        <NotificationContainer message={error} callback={clearError} status=\"error\" />\n      </SnackbarProvider>\n\n      <Paper elevation={5}>\n        {isLoading ? <Spinner /> : null}\n        <Container maxWidth=\"xl\" disableGutters className={classesContainer.container}>\n          <Tabs\n            value={tab}\n            onChange={changeTab}\n            variant=\"fullWidth\"\n            aria-label=\"tabs creation\"\n            classes={classesTabs}\n          >\n            <Tab\n              label={t('entities.creation.tabs.0')}\n              /* eslint-disable-next-line react/jsx-props-no-spreading */\n              {...a11yProps(0)}\n              classes={classesTab}\n              disabled={tab > 0}\n            />\n            <Tab\n              label={t('entities.creation.tabs.1')}\n              /* eslint-disable-next-line react/jsx-props-no-spreading */\n              {...a11yProps(1)}\n              classes={classesTab}\n              disabled={tab <= 0 || tab > 1}\n            />\n            <Tab\n              label={t('entities.creation.tabs.2')}\n              /* eslint-disable-next-line react/jsx-props-no-spreading */\n              {...a11yProps(2)}\n              classes={classesTab}\n              disabled={tab <= 1 || tab > 2}\n            />\n            <Tab\n              label={t('entities.creation.tabs.3')}\n              /* eslint-disable-next-line react/jsx-props-no-spreading */\n              {...a11yProps(2)}\n              classes={classesTab}\n              disabled={tab <= 2 || tab > 2}\n            />\n            <Tab\n              label={t('entities.creation.tabs.4')}\n              /* eslint-disable-next-line react/jsx-props-no-spreading */\n              {...a11yProps(2)}\n              classes={classesTab}\n              disabled={tab <= 3}\n            />\n          </Tabs>\n          <TabPanel value={tab} index={0}>\n            <Setup store={task} onSubmit={onSubmit} useMock />\n          </TabPanel>\n          <TabPanel value={tab} index={1}>\n            <TaskDefinition store={task} onSubmit={onSubmit} changeTab={changeTab} />\n          </TabPanel>\n          <TabPanel value={tab} index={2}>\n            <Actions onSubmit={onSubmit} changeTab={changeTab} />\n          </TabPanel>\n          {/* eslint-disable-next-line react/jsx-no-comment-textnodes */}\n          <TabPanel value={tab} index={3}>\n            {/* Manage Attachment */}\n            <AttachmentProvider\n              keycloak={keycloak}\n              serviceUrl={serviceUrl}\n              serviceUrlAttachments={serviceUrlAttachments}\n              useMock={useMock}\n            >\n              <Attachments changeTab={changeTab} />\n            </AttachmentProvider>\n          </TabPanel>\n          {/* eslint-disable-next-line react/jsx-no-comment-textnodes */}\n          <TabPanel value={tab} index={4}>\n            {/* Manage Note */}\n            <NoteProvider keycloak={keycloak} serviceUrl={serviceUrl} useMock={useMock}>\n              <Note changeTab={changeTab} callback={callback} />\n            </NoteProvider>\n          </TabPanel>\n        </Container>\n      </Paper>\n    </AuthenticatedView>\n  );\n};\n\nTaskCreationPage.propTypes = {\n  serviceUrl: PropTypes.string.isRequired,\n  serviceUrlAttachments: PropTypes.string.isRequired,\n  keycloak: PropTypes.shape({}),\n  useMock: PropTypes.bool,\n  callback: PropTypes.func,\n};\n\nTaskCreationPage.defaultProps = {\n  keycloak: {},\n  useMock: false,\n  callback: () => {},\n};\n\nconst TabPanel = props => {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      /* eslint-disable-next-line react/jsx-props-no-spreading */\n      {...other}\n    >\n      {value === index && <Box p={0}>{children}</Box>}\n    </div>\n  );\n};\n\nTabPanel.propTypes = {\n  children: PropTypes.node.isRequired,\n  value: PropTypes.number.isRequired,\n  index: PropTypes.number.isRequired,\n};\n\nexport default TaskCreationPage;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport LoadingContext from './LoadingContext';\n\nconst LoadingProvider = ({ children }) => {\n  const [state, setState] = useState({ loading: false });\n  return <LoadingContext.Provider value={[state, setState]}>{children}</LoadingContext.Provider>;\n};\n\nLoadingProvider.propTypes = {\n  children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]).isRequired,\n};\n\nexport default LoadingProvider;\n","import PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport MessageContext from './MessageContext';\n\nconst MessageProvider = ({ children }) => {\n  const [state, setState] = useState({\n    error: null,\n    message: null,\n  });\n\n  return <MessageContext.Provider value={[state, setState]}>{children}</MessageContext.Provider>;\n};\n\nMessageProvider.propTypes = {\n  children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]).isRequired,\n};\nexport default MessageProvider;\n","import PropTypes from 'prop-types';\nimport React, { useEffect, useState } from 'react';\nimport TaskContext from './TaskContext';\n\nconst TaskProvider = ({ children, keycloak, serviceUrl, useMock }) => {\n  const [state, setState] = useState({\n    task: {},\n    actions: [],\n    error: null,\n    message: null,\n    keycloak,\n    serviceUrl,\n    useMock,\n  });\n\n  useEffect(() => {\n    // eslint-disable-next-line react/prop-types\n    if (keycloak.initialized && keycloak.authenticated) {\n      setState(prevState => ({ ...prevState, keycloak }));\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [keycloak]);\n\n  return <TaskContext.Provider value={[state, setState]}> {children} </TaskContext.Provider>;\n};\n\nTaskProvider.propTypes = {\n  children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]).isRequired,\n  keycloak: PropTypes.shape({}).isRequired,\n  serviceUrl: PropTypes.string.isRequired,\n  useMock: PropTypes.bool.isRequired,\n};\n\nexport default TaskProvider;\n","import PropTypes from 'prop-types';\nimport React, { useEffect, useState } from 'react';\nimport { apiUserFromFiscalCodeGet } from '../../api/users';\nimport { userMock } from '../../components/__mocks__/mocks';\nimport UserContext from './UserContext';\n\nconst UserProvider = ({ children, keycloak, serviceUrl, useMock }) => {\n  const [state, setState] = useState({\n    logged: null,\n    users: null,\n    vertexId: null,\n    vertexShortName: null,\n    pagination: {\n      totalPages: 0,\n      totalElements: 0,\n      numberOfElements: 0,\n      number: 0,\n      size: 0,\n      first: true,\n      last: true,\n    },\n    useMock,\n    serviceUrl,\n    error: null,\n    message: null,\n  });\n\n  const extractVertexId = edo => {\n    if (edo) {\n      if (edo.type && edo.type.id === 1) {\n        return { vertexId: edo.id, vertexShortName: edo.shortName };\n      }\n      return extractVertexId(edo.parentEdo);\n    }\n    return null;\n  };\n\n  useEffect(() => {\n    const { initialized, authenticated } = keycloak;\n    const fetchLoggedUser = async () => {\n      try {\n        if (useMock) {\n          const user = userMock.payload[0];\n          const role = `${user.degree} ${user.edo ? '-' : ''} ${user?.edo?.name ?? ''}`;\n          const { vertexId, vertexShortName } = extractVertexId(user.edo);\n          setState(prev => ({\n            ...prev,\n            logged: 'malessandrini',\n            vertexId,\n            vertexShortName,\n            isAdmin: true,\n            userIdLogged: user.id,\n            users: {\n              [user.fiscalCode.toUpperCase()]: { ...user, role },\n            },\n          }));\n        } else {\n          // eslint-disable-next-line react/prop-types\n          Promise.resolve(keycloak.loadUserInfo()).then(info => {\n            // eslint-disable-next-line camelcase\n            const { preferred_username } = info;\n            const loadEdoTree = true;\n            apiUserFromFiscalCodeGet(serviceUrl, preferred_username, loadEdoTree).then(json => {\n              const user = json.payload;\n              const role = `${user.degree} ${user.edo ? '-' : ''} ${user?.edo?.name ?? ''}`;\n              const { vertexId, vertexShortName } = extractVertexId(user.edo);\n              setState(prev => ({\n                ...prev,\n                logged: preferred_username.toUpperCase(),\n                vertexId,\n                vertexShortName,\n                users: {\n                  [user.fiscalCode.toUpperCase()]: { ...user, role, hidden: true },\n                },\n              }));\n            });\n          });\n        }\n      } catch (e) {\n        console.error('error', e);\n      }\n    };\n    if (initialized && authenticated) {\n      fetchLoggedUser();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [keycloak, useMock]);\n\n  return <UserContext.Provider value={[state, setState]}>{children}</UserContext.Provider>;\n};\n\nUserProvider.propTypes = {\n  children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]).isRequired,\n  keycloak: PropTypes.shape({\n    initialized: PropTypes.bool,\n    authenticated: PropTypes.bool,\n  }),\n  serviceUrl: PropTypes.string.isRequired,\n  useMock: PropTypes.bool,\n};\n\nUserProvider.defaultProps = {\n  keycloak: {\n    initialized: false,\n    authenticated: false,\n  },\n  useMock: false,\n};\n\nexport default UserProvider;\n","import { createMuiTheme } from '@material-ui/core';\nimport { itIT } from '@material-ui/core/locale';\n\nimport { jssPreset, StylesProvider, ThemeProvider } from '@material-ui/core/styles';\n\nimport KeycloakContext from 'auth/KeycloakContext';\nimport { INPUT_EVENT_TYPES, KEYCLOAK_EVENT_TYPE } from 'custom-elements/widgetEventTypes';\nimport { subscribeToWidgetEvent } from 'helpers/widgetEvents';\nimport setLocale from 'i18n/setLocale';\nimport { create as jssCreate } from 'jss';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport retargetEvents from 'react-shadow-dom-retarget-events';\nimport TaskCreationPage from '../components/Pages/TaskCreationPage';\nimport LoadingProvider from '../context/loading/LoadingProvider';\nimport MessageProvider from '../context/message/MessageProvider';\nimport TaskProvider from '../context/task/TaskProvider';\nimport UserProvider from '../context/user/UserProvider';\n\nconst getKeycloakInstance = () =>\n  (window &&\n    window.entando &&\n    window.entando.keycloak && { ...window.entando.keycloak, initialized: true }) || {\n    initialized: false,\n  };\n\nconst ATTRIBUTES = {\n  hidden: 'hidden',\n  locale: 'locale',\n  disableDefaultEventHandler: 'disable-default-event-handler', // custom element attribute names MUST be written in kebab-case\n  serviceUrl: 'service-url',\n  serviceUrlUser: 'service-url-user',\n  serviceUrlAttachments: 'service-url-attachments',\n  cssUrl: 'css-url',\n  useMock: 'use-mock',\n  refresh: 'refresh',\n};\n\nclass TaskCreationElement extends HTMLElement {\n  jss;\n\n  container;\n\n  mountPoint;\n\n  callback;\n\n  refresh;\n\n  keycloak = getKeycloakInstance();\n\n  unsubscribeFromTaskEvent;\n\n  unsubscribeFromKeycloakEvent;\n\n  defaultEventHandlerDisabled;\n\n  muiTheme;\n\n  static get observedAttributes() {\n    return Object.values(ATTRIBUTES);\n  }\n\n  attributeChangedCallback(name, oldValue, newValue) {\n    if (!this.container || oldValue === newValue) {\n      return;\n    }\n    if (!Object.values(ATTRIBUTES).includes(name)) {\n      throw new Error(`Untracked changed attribute: ${name}`);\n    }\n    if (name === ATTRIBUTES.disableDefaultEventHandler) {\n      this.onToggleDisableDefaultEvent();\n    }\n    this.render();\n  }\n\n  connectedCallback() {\n    this.container = document.createElement('div');\n    this.mountPoint = document.createElement('div');\n    this.container.appendChild(this.mountPoint);\n\n    const cssUrl = this.getAttribute(ATTRIBUTES.cssUrl);\n\n    const linkElem = document.createElement('link');\n    linkElem.setAttribute('rel', 'stylesheet');\n    linkElem.setAttribute('href', `${cssUrl}/suneditor.min.css`);\n\n    const shadowRoot = this.attachShadow({ mode: 'open' });\n\n    shadowRoot.appendChild(linkElem);\n    shadowRoot.appendChild(this.container);\n\n    this.jss = jssCreate({\n      ...jssPreset(),\n      insertionPoint: this.container,\n    });\n\n    this.muiTheme = createMuiTheme(\n      {\n        props: {\n          MuiDialog: {\n            container: this.mountPoint,\n          },\n          MuiPopover: {\n            container: this.mountPoint,\n          },\n        },\n      },\n      itIT\n    );\n\n    this.keycloak = { ...getKeycloakInstance(), initialized: true };\n\n    this.unsubscribeFromKeycloakEvent = subscribeToWidgetEvent(KEYCLOAK_EVENT_TYPE, () => {\n      this.keycloak = { ...getKeycloakInstance(), initialized: true };\n      this.render();\n    });\n\n    this.unsubscribeFromTaskEvent = subscribeToWidgetEvent(INPUT_EVENT_TYPES.detailTask, evt => {\n      console.log('detail Task', evt);\n    });\n\n    this.onToggleDisableDefaultEvent();\n\n    this.render();\n\n    retargetEvents(shadowRoot);\n  }\n\n  disconnectedCallback() {\n    if (this.unsubscribeFromKeycloakEvent) {\n      this.unsubscribeFromKeycloakEvent();\n    }\n    if (this.unsubscribeFromTaskEvent) {\n      this.unsubscribeFromTaskEvent();\n    }\n  }\n\n  onToggleDisableDefaultEvent() {\n    const disableEventHandler = this.getAttribute(ATTRIBUTES.disableDefaultEventHandler) === 'true';\n\n    if (disableEventHandler !== this.defaultEventHandlerDisabled) {\n      // eslint-disable-next-line no-empty\n      if (!disableEventHandler) {\n      } else {\n        if (this.unsubscribeFromWidgetEvents) {\n          this.unsubscribeFromWidgetEvents();\n        }\n        if (this.unsubscribeFromKeycloakEvent) {\n          this.unsubscribeFromKeycloakEvent();\n        }\n      }\n      this.defaultEventHandlerDisabled = disableEventHandler;\n    }\n  }\n\n  render() {\n    const serviceUrl = this.getAttribute(ATTRIBUTES.serviceUrl) || '';\n    const serviceUrlUser = this.getAttribute(ATTRIBUTES.serviceUrlUser) || '';\n    const serviceUrlAttachments = this.getAttribute(ATTRIBUTES.serviceUrlAttachments) || '';\n    const hidden = this.getAttribute(ATTRIBUTES.hidden) === 'true';\n    const useMock = this.getAttribute(ATTRIBUTES.useMock) === 'true';\n    if (hidden) {\n      ReactDOM.render(<></>);\n      return;\n    }\n    const locale = this.getAttribute(ATTRIBUTES.locale) || 'it';\n    setLocale(locale);\n    ReactDOM.render(\n      <KeycloakContext.Provider value={this.keycloak}>\n        {/* Context manage Spinner */}\n        {/* eslint-disable-next-line react/jsx-no-comment-textnodes */}\n        <LoadingProvider>\n          {/* Context manage Message */}\n          {/* eslint-disable-next-line react/jsx-no-comment-textnodes */}\n          <MessageProvider>\n            {/* Context manage user */}\n            {/* eslint-disable-next-line react/jsx-no-comment-textnodes */}\n            <UserProvider keycloak={this.keycloak} useMock={useMock} serviceUrl={serviceUrlUser}>\n              <StylesProvider jss={this.jss}>\n                {/* eslint-disable-next-line react/jsx-no-comment-textnodes */}\n                <ThemeProvider theme={this.muiTheme}>\n                  {/* Context manage task */}\n                  <TaskProvider keycloak={this.keycloak} serviceUrl={serviceUrl} useMock={useMock}>\n                    <TaskCreationPage\n                      keycloak={this.keycloak}\n                      serviceUrl={serviceUrl}\n                      serviceUrlAttachments={serviceUrlAttachments}\n                      useMock={useMock}\n                      callback={this.callback}\n                    />\n                  </TaskProvider>\n                </ThemeProvider>\n              </StylesProvider>\n            </UserProvider>\n          </MessageProvider>\n        </LoadingProvider>\n      </KeycloakContext.Provider>,\n      this.mountPoint\n    );\n  }\n}\n\ncustomElements.define('task-creation', TaskCreationElement);\n"],"sourceRoot":""}